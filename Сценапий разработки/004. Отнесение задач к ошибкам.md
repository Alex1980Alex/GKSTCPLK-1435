# 004. Отнесение задач к ошибкам

**Создатель:** Lgovskiy Roman | Льговский Роман Николаевич, отредактировано июл 10, 2024

## Виды задач

Задача делится на три вида:

### Поддержка
*(изменение кода не происходит)*
- Вид задачи в Jira = Задача (Task)
- Результат выполнения задачи: Консультация оказана

### Эксплуатация
*(изменение кода не происходит)*
- Вид задачи в Jira = Задача (Task)
- Результат выполнения задачи:
  - Данные изменены
  - Настройки выполнены

### Разработка
*(происходит изменение кода)*

**ЕСЛИ** обоснована ошибка кода, **ТО**
- Вид задачи в Jira = Ошибка (Bug)
- Результат выполнения задачи: Код исправлен

**ЕСЛИ** заявлены новые требования к разработке, **ТО**
- Вид задачи в Jira = История (Story)
- Результат выполнения задачи: Код добавлен

---

Задачи с видами **Поддержка** И **Эксплуатация** отрабатывают:
- Первая линия,
- Аналитики

Задачи с видом **Разработка** отрабатывают:
- Разработчики

> **Изменения бизнес данных разработчиками на продуктивной базе недопустимы**

## Ошибки

Ошибки могут возникать на:
- тестовой среде
- продуктивной среде

Правила разметки по видам возникновения приведены тут, **Метки для ошибок**

### Продуктивная среда

#### Инициатор
- Формирует запрос в ITIL с предметом ошибки

#### Специалист первой линии
- Получает подтверждение, что самостоятельно не может урегулировать ошибку
- Регистрирует связанную задачу в Jira

**ЕСЛИ** есть скрин с предметом ошибки кода, **ТО**
- Прикладывает скрин с ошибкой кода в задачу Jira
- Устанавливает вид задачи Jira = Ошибка (Bug)
- Устанавливает метку ProdError

**ЕСЛИ** скрин с предметом ошибки кода отсутствует, **ТО**
- Устанавливает вид задачи Jira = Задача (Task)
- Получает подтверждение, что Аналитик не может урегулировать ошибку
- Устанавливает исполнителем Руководителя разработки
- Записывает задачу

#### Система Jira
*(Когда: Отрабатывает событие запись задачи)*
- Отсылает Руководителю разработки Email уведомление о поступлении новой задачи на исправление ошибочной ситуации

#### Руководитель разработки
*(Когда: Получает от Специалиста первой линии Email уведомление о поступлении новой задачи на исправление ошибочной ситуации)*

- Определяет Разработчика для исправления ошибки
- Принимает решение о включении задачи в спринт Разработчика

**ЕСЛИ** задача Срочная, **ТО**
- включает в текущий спринт Разработчика

**ЕСЛИ** задача не Срочная, **ТО**
- включает задачу в следующий спринт Разработчика

#### Разработчик
- Принимает задачу в работу
- Обосновывает вид задачи

**ЕСЛИ** ошибка возникла на рабочей базе И ожидаемый результат выполнения задачи приведет к изменению кода, **ТО**
- Устанавливает вид задачи Jira = Ошибка (Bug)
- Устанавливает метку ProdError
- Исполняет задачу
- Заполняет поле Charge
  - вписывает Разработчика, который допустил ошибку

**ЕСЛИ** ожидаемый результат выполнения задачи не приведет к изменению кода, **ТО**
- Устанавливает вид задачи Jira = Задача (Task)
- Передает задачу на исполнение ответственному за изменение данных на продуктивной базе, кроме случаев, указанных тут, **Изменение настроек продуктивных баз**

**ЕСЛИ** Разработчик обосновал, что при оформлении нового сотрудника, ему выдали не все права, **ТО**
- Изменяет вид на Задача (Task)
- Передает задачу на Специалиста первой линии
- Согласовывает с ответственным Аналитиком изменение вида задачи
- Записывает задачу

*(tbd, оформить исправление ошибки на продуктивной среде)*

> УПП - разработана на обычном приложении. Это означает, что не все можно пофиксить расширением. Поэтому надо смотреть по ситуации. Если нужно срочно исправлять, и это можно через расширение - тогда быстрее через расширение. Если через расширение просто нельзя внести исправление, тогда остается только вносить изменение в основную конфу, выгонять пользователей и обновлять. Если прям совсем горит, то можно поместить доработки прямо в рабочую базу, без хранилища, а потом уж после обновления - поместить спокойно в хранилища dev и prod

### Тестовая среда

*(tbd, оформить исправление ошибки на тестовой среде)*

При подготовке релиза конфа выгружается в QA связанной с системой базы

- Аналитики информируются о начале тестирования
- Начинают проверять систему
- Формируют ошибки

Разработчики могут исправить ошибку двумя вариантами:

1. Сначала исправляем код, далее подгружаем это в QA - аналитик подтверждает, что все ОК - отправляем мерж

   Иногда отправляем мерж сразу до подтверждения аналитиком, если уверены,что все верно.
   
   **10:46**
   
   Подгружаем в QA. Это выгрузить cf из своей dev конфигурации, сравнить/объединить с QA. верно?
   
   **10:47**
   
   **Konnova Nataliya | Коннова Наталья Викторовна**
   
   да

2. Сейчас В базе QA я исправила ошибку расширением, Настя проверила исправление. После этого я внесла изменения в конфу и отправила на мерж. Будет когда обновляться база QA с изменениями расширение нужно отключить.

   **10:47**

   Описать требование к имени Расширения: fix_GMFM_2413

## Примечание:

Задача считается **Срочной**, если:

- **Влияет на движение денег:**
  - Оплата контрагенту
  - Получение денег от контрагента
  - Выплата заработной платы
  - и так далее
- **Является требованием регулятора**
  - например, сдача бухгалтерской отчетности
- **Является массовой ошибкой**
  - стопорит работу большого количество сотрудников
- **Стопорит работу бизнеса** (собственно, движение денег)

Порядок перепланирования спринта приведен тут, **Управление спринтом**

После того, как Аналитик на тестовой среде подтвердил функциональное исполнение задачи и результат задачи был размещен в продуктивной базе, **ТО**
- все дополнения считаются, как новые требования

**Пример:**

Аналитик принял печатную форму. Печатную форму разместили в рабочей базе, но оказалось, что не выводится какое то поле

В этом случае Задача будет с видом История (Story)

**Нет меток**