# 04.42 Функциональная приемка

**Создатель:** Lgovskiy Roman | Льговский Роман Николаевич, отредактировано мар 05, 2025

## Аналитик

**Выполняет функциональную приемку результатов задачи**

*(Когда: Получает от Разработчика Email уведомление о необходимости протестировать задачу)*

### Аналитик

- Получает Список задач, находящимися на этапе тестирование, Этапы задач
- Получает подтверждение о том, что:
  - статус задачи = Готово,
  - статус Протестировано = Ложь,
  - ветка задачи = Test

**ДЛЯ Каждой Задачи Из Списка задач**

- Открывает Задачу в Jira,
- Открывает тестовую базу с учетом пути к базе, указанного в задаче
  - (если тестовая база формируется автоматически на ежедневной основе, то открывает тестовую базу)
- Переходит к списку приемочных критериев

![Пример задачи в Jira](jira_task_example.png)

**ДЛЯ Каждого приемочного критерия ИЗ Списка приемочных критериев Задачи**

- **ЕСЛИ** требования и результат совпадают, **ТО**
  - устанавливает задаче статус Готово
  - устанавливает признак задачи Протестировано = Истина
  - записывает задачу
- **ИНАЧЕ**
  - **ЕСЛИ** находит ошибку по результатам тестирования, **ТО**
    - **ЕСЛИ** ошибка связана с дефектом функционального проектирования, **ТО**
      - (если исправление незначительное, то добавляет комментарий к задаче и просит разработчика исправить, как можно быстрее. Дополнительные задачи testerror не создаются)
      - создает задачу в Jira,
      - назначает вид задачи Story,
      - добавляет функциональные требования,
      - назначает задачу на разработчика,
      - записывает задачу.
    - **ЕСЛИ** ошибка связана с дефектом разработки, **ТО**
      - (если исправление незначительное, то добавляет комментарий к задаче и просит разработчика исправить, как можно быстрее. Дополнительные задачи testerror не создаются)
      - создает подчиненную задачу в Jira,
      - устанавливает вид задачи Bug,
      - добавляет метку TestError,
      - документирует ошибку,
      - связывает задачу с родительской,
      - прикладывает скриншот ошибки,
      - назначает статус срочности Высокий,
      - назначает задачу на разработчика,
      - записывает задачу

## Разработчик

**Оценивает задачу на исправление ошибки**

- **ЕСЛИ** остаток задач в текущем спринте позволяет взять задачу на исправление, **ТО**
  - принимает задачу с видом Bug/TestError в работу,
  - **ЕСЛИ** изменения незначительны, **ТО**
    - открывает тестовую базу в конфигураторе на терминальном сервере,
    - исправляет ошибку,
    - получает подтверждение от Аналитика, что задача протестирована,
    - открывает EDT,
    - делает активной ветку с номером задачи, по которой необходимо внести изменения,
    - копирует изменения из терминального конфигуратора,
    - переносит изменения в EDT,
  - **ЕСЛИ** изменения значительны **ИЛИ** добавлены метаданные, **ТО**
    - открывает тестовую базу в конфигураторе на терминальном сервере,
    - исправляет ошибку,
    - получает подтверждение от Аналитика, что задача протестирована,
    - выгружает из терминального конфигуратора cf,
    - открывает EDT,
    - открывает связанный с базой конфигуратор,
    - сравнивает/объединяет конфигурацию с исправленной и выгруженной с терминального сервера,
    - нажимает кнопку "Обновить разрабатываемые приложения"

![Пример окна EDT](edt_example.png)

- фиксирует изменения,
- добавляет коммит по задаче с описанием ошибки,
- запрашивает в GIT Merge Request с веткой Develop,
- исправляет ошибки по результату проверки SonarQube
- устанавливает задаче в Jira значение Исправить в версии = Merge_request

## Примечание#1:

Приемочный критерий - это краткое описание шагов для проверки выполнения требования

**Например:**
- **Требование:** Сформировать печатную форму в документе при нажатии на кнопку Сформировать
- **Приемочный критерий:**
  - **Исполнитель:**
    - Открывает документ "Реализация товаров",
    - Нажимает на кнопку Сформировать,
  - **Система:**
    - Формирует печатную форму
    - Выводить печатную форму на экран

Если постановку требований задачи делать в виде функционального сценария, то раздел с приёмочными критериями будет лишним, так как успешное выполнение сценария и есть пройденный приемочный критерий

В таком случае в разделе Приемочных критериев указать:
- **Приемочные критерии:**
  - Успешно пройдённый функциональный сценарий

Если в задаче не приведены приёмочные критерии, то сверить можно требования с результатом исполнения в тестовой базе

**Ветки задачи, Этапы задач:**

Почему важно выделять TestError отдельными задачами - таким образом можно отследить количество возвратов Аналитиками на Функциональную доработку

## Примечание#2:

Выделяются два подхода к тестированию

**Позадачный подход:**
- В этом случае разработчик выполняет задачу, передает ее аналитику, который тестирует задачу в базе, которую предоставляет разработчик
- Если проверка прошла - то устанавливают Протестировано = Истина,
- После приемки аналитиком задача передается в хранилище разработки (например, выполняется Merge Request)
- В этом случае обосновано применение ветки test

**Релизный подход:**
- В ветку Develop разработчики "мерджат" задачи без предварительного тестирования аналитиками,
- На ежедневной основе выполняется выгрузка ветки Develop и загрузка в общую базу для тестирования,
- Аналитики получают список задач к тестировании и выполняют проверку,
- Если проверка прошла - то устанавливают Протестировано = Истина,
- Если проверка не прошла, то создают задачу на исправление ошибки, связывают с родительской, устанавливают метку TestError
- В это случае применение ветки test не обязательно

## Результат:

- Пройденная функциональная приемка,
- Установленный признак задачи = Протестировано

**Нет меток**