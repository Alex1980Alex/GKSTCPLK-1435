# 000. Управление конвейером

**Создатель**: Lgovskiy Roman | Льговский Роман Николаевич  
**Отредактировано**: сен 12, 2024

---

## 000. Сценарий разработки

<Дописать>

### Подготовка
Перед началом работы по задачам получить подтверждение, что:
- Сформировано рабочее окружение разработчика
- Рабочее окружение разработчика
- Установлена клиентская лицензия на 1С
- Установлена 1С: Предприятие
- Установлен EDT
- База разработки размером менее 12Гб развернута локально на ноутбуке в файловом варианте
- База разработки размеров более 12Гб развернута локально на ноутбуке в клиент-серверном варианте ИЛИ удаленно на Виртуальной машине
- ДЛЯ Каждой базы разработки ИЗ списка баз развернута аналогичная база в клиент-серверном варианте на терминальном сервере для тестирования Аналитиками

### Планирование
**Аналитик**:
- Формирует бэклог, см. *Управление бэклогом*

**Разработчик**:
- Планирует бэклог (*Управление бэклогом*)
- **Затраты**: 3 часа

**Аналитик**:
- Планирует спринт (*Управление спринтом*)

**Разработчик**:
- Подтверждает результат планирования спринта
- **Затраты**: 1 час

### Исполнение
**Разработчик**:
- Исполняет задачи спринта:
  - опираясь на правила исполнения спринта
  - выработка задач по спринту
  - опираясь на правила разработки
  - разработка избегая отклонений (*Отклонения от требований*)

**Сколько времени уходит на сопутствующие операции по каждой системе?**
- Импортировать конфу из Хранилища в EDT
- Отпочковать ветку
- Поместить ветку
- Обновить локальную рабочую базу
- Выгрузить cf
- Загрузить на терминальный сервер
- сравнить/объединить с терминальным сервером

### Функциональная приемка
- Переводит ветку задачи в test (опционально), см. *Этапы задач*
- Система Jira
- Отсылает Аналитику Email уведомление о необходимости протестировать задачу

**Аналитик**:
- Получает Email уведомление о необходимости протестировать задачу
- Выполняет Функциональную приемку задачи (*Функциональная приемка*)

**Примечание**:
При необходимости, задачу в статусе *Готово* может протестировать другой Разработчик и уже потом передать на приемку Аналитику.
- Разработчик, который протестировал задачу, вносит в тело задачи комментарий *Протестировано* или указывает замечания и возвращает задачу на доработку

**Две модели приемки результатов задачи Аналитиком**:

**Пессимистичный вариант**:
- Разработчик каждую выполненную задачу вручную выгружает в тестовую базу
- Передает Аналитику и получает подтверждение от Аналитика о приемке
- После приемки сливает ветку задачи с веткой *Develop*

**Оптимистичный вариант**:
- Разработчик все задачи передает на слияние с веткой *Develop*
- Скрипт на ежедневной основе выгружает ветку *Develop* и загружает в тестовую базу
- Аналитик по необходимости тестирует задачи в тестовой базе и устанавливает отметку в задачу о прохождении приемки

### Техническая приемка
**Code Reviewer**:
- Техническая приемка
- Открывает Git, переходит к задаче в Jira
- Получает подтверждение, что у задачи установлен признак `Протестировано = Истина`
- Получает подтверждение, что коммит оформлен правильно
- Принимает коммит
- Сливает ветку с веткой *Develop*
- Изменяет в задаче "Исправить в версии" на *Develop*

### Разворачивание
**Release manager**:
- Формирует релиз по системе (*Релиз*)
- Готовит файлы поставки

### Обновление продуктивной базы
> Добавить раздел с обновлением, тут оставить ссылку

### Внедрение
> Добавить раздел по Техпису, по инструкциям, по обучению

### Поддержка
- Отработка ошибок релиза
- Консультирование 1/2 линии пользователей

---

### Дополнительно
1. **Перед выгрузкой cf из EDT**:
   - Фиксирует изменения в локальном репозитории с указанием корректного коммита.
2. **После/перед установкой статуса `Протестировано`**:
   - Указывает в комментарии к задаче базу для тестирования
3. **Перед установкой статуса `Протестировать`**:
   - Указывает в комментарии необходимые настройки данных в ИБ в пользовательском режиме

В пункте **"Если ошибка небольшая, то"**:
- П1–П4 — ок
- П5 — для конфигурации делает активной ветку с номером задачи, по которой необходимо внести изменения
- П6 — Вносит изменения в EDT
- П6 — Фиксирует изменения и сливает в новую ветку в удалённый репозиторий
  - Шаблон наименования ветки: `[ТипЗадачи]/[НомерЗадачи]`, например `feat/ERPWE-123`

---

### Оценка времени
- Для системы **ERP WE** при создании новой ветки — потери времени около **1 часа**
- Выгрузка результатов задачи в конфу — **около 7 минут**

### Подсчёт потерь времени на техническое сопутствующее исполнение:

**Среднее время на задачу:** ~40 минут

**Пример:**
- 20 задач в месяц × 40 минут = **800 минут** = **13,3 часа** ≈ **2 рабочих дня** в месяц на техническое сопровождение задач

---

_Нет меток_
