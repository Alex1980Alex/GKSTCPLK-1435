<?xml version="1.0" encoding="UTF-8"?>
<Form xmlns="http://v8.1c.ru/8.3/xcf/logform" xmlns:app="http://v8.1c.ru/8.2/managed-application/core" xmlns:cfg="http://v8.1c.ru/8.1/data/enterprise/current-config" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcssch="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:ent="http://v8.1c.ru/8.1/data/enterprise" xmlns:lf="http://v8.1c.ru/8.2/managed-application/logform" xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows" xmlns:xr="http://v8.1c.ru/8.3/xcf/readable" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.19">
	<Title>
		<v8:item>
			<v8:lang>ru</v8:lang>
			<v8:content>Принятые авто</v8:content>
		</v8:item>
	</Title>
	<ScalingMode>Compact</ScalingMode>
	<AutoCommandBar name="ФормаКоманднаяПанель" id="-1">
		<Autofill>false</Autofill>
	</AutoCommandBar>
	<Events>
		<Event name="OnOpen">ПриОткрытии</Event>
		<Event name="OnCreateAtServer">ПриСозданииНаСервере</Event>
	</Events>
	<ChildItems>
		<UsualGroup name="ГруппаПростыОтборы" id="13">
			<Visible>false</Visible>
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Группа просты отборы</v8:content>
				</v8:item>
			</Title>
			<ToolTip>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Группа просты отборы</v8:content>
				</v8:item>
			</ToolTip>
			<Representation>None</Representation>
			<ShowTitle>false</ShowTitle>
			<ExtendedTooltip name="ГруппаПростыОтборыРасширеннаяПодсказка" id="14"/>
			<ChildItems>
				<LabelField name="ВидПеревозки" id="15">
					<DataPath>Объект.ВидПеревозки</DataPath>
					<Font ref="style:NormalTextFont" bold="true" italic="false" underline="false" strikeout="false" kind="StyleItem" scale="100"/>
					<ContextMenu name="ВидПеревозкиКонтекстноеМеню" id="16"/>
					<ExtendedTooltip name="ВидПеревозкиРасширеннаяПодсказка" id="17"/>
				</LabelField>
				<LabelField name="ТипРегистрации" id="18">
					<DataPath>Объект.ТипРегистрации</DataPath>
					<Font ref="style:NormalTextFont" bold="true" italic="false" underline="false" strikeout="false" kind="StyleItem" scale="100"/>
					<ContextMenu name="ТипРегистрацииКонтекстноеМеню" id="19"/>
					<ExtendedTooltip name="ТипРегистрацииРасширеннаяПодсказка" id="20"/>
				</LabelField>
			</ChildItems>
		</UsualGroup>
		<UsualGroup name="ГруппаВыборПериода" id="1">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Выбор периода</v8:content>
				</v8:item>
			</Title>
			<ToolTip>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Группа выбор периода</v8:content>
				</v8:item>
			</ToolTip>
			<Representation>None</Representation>
			<ExtendedTooltip name="ГруппаВыборПериодаРасширеннаяПодсказка" id="2"/>
			<ChildItems>
				<InputField name="ПериодДатаНачала" id="3">
					<DataPath>Объект.Период.StartDate</DataPath>
					<Title>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>с</v8:content>
						</v8:item>
					</Title>
					<ContextMenu name="ПериодДатаНачалаКонтекстноеМеню" id="4"/>
					<ExtendedTooltip name="ПериодДатаНачалаРасширеннаяПодсказка" id="5"/>
					<Events>
						<Event name="OnChange">ПериодДатаНачалаПриИзменении</Event>
					</Events>
				</InputField>
				<InputField name="ПериодДатаОкончания" id="6">
					<DataPath>Объект.Период.EndDate</DataPath>
					<Title>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>по</v8:content>
						</v8:item>
					</Title>
					<ContextMenu name="ПериодДатаОкончанияКонтекстноеМеню" id="7"/>
					<ExtendedTooltip name="ПериодДатаОкончанияРасширеннаяПодсказка" id="8"/>
					<Events>
						<Event name="OnChange">ПериодДатаОкончанияПриИзменении</Event>
					</Events>
				</InputField>
				<Button name="УстановитьИнтервалПериода" id="9">
					<Type>UsualButton</Type>
					<Representation>Picture</Representation>
					<CommandName>Form.Command.УстановитьИнтервалПериода</CommandName>
					<ExtendedTooltip name="УстановитьИнтервалПериодаРасширеннаяПодсказка" id="10"/>
				</Button>
			</ChildItems>
		</UsualGroup>
		<UsualGroup name="ГруппаОтборыДополнительная" id="11">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Отборы</v8:content>
				</v8:item>
			</Title>
			<ToolTip>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Группа отборы дополнительная</v8:content>
				</v8:item>
			</ToolTip>
			<Behavior>Collapsible</Behavior>
			<Collapsed>true</Collapsed>
			<ExtendedTooltip name="ГруппаОтборыДополнительнаяРасширеннаяПодсказка" id="12"/>
		</UsualGroup>
		<UsualGroup name="ГруппаДокументы" id="21">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Группа документы</v8:content>
				</v8:item>
			</Title>
			<ToolTip>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Группа документы</v8:content>
				</v8:item>
			</ToolTip>
			<Representation>None</Representation>
			<ShowTitle>false</ShowTitle>
			<ExtendedTooltip name="ГруппаДокументыРасширеннаяПодсказка" id="22"/>
			<ChildItems>
				<Table name="СписокДокументов" id="79">
					<UseAlternationRowColor>true</UseAlternationRowColor>
					<EnableStartDrag>true</EnableStartDrag>
					<DataPath>СписокДокументов</DataPath>
					<RowPictureDataPath>~СписокДокументов.DefaultPicture</RowPictureDataPath>
					<AutoRefresh>true</AutoRefresh>
					<AutoRefreshPeriod>15</AutoRefreshPeriod>
					<Period>
						<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
						<v8:startDate>0001-01-01T00:00:00</v8:startDate>
						<v8:endDate>0001-01-01T00:00:00</v8:endDate>
					</Period>
					<ChoiceFoldersAndItems>Items</ChoiceFoldersAndItems>
					<RestoreCurrentRow>false</RestoreCurrentRow>
					<TopLevelParent xsi:nil="true"/>
					<ShowRoot>true</ShowRoot>
					<AllowRootChoice>false</AllowRootChoice>
					<UpdateOnDataChange>Auto</UpdateOnDataChange>
					<AllowGettingCurrentRowURL>true</AllowGettingCurrentRowURL>
					<ContextMenu name="СписокДокументовКонтекстноеМеню" id="80"/>
					<AutoCommandBar name="СписокДокументовКоманднаяПанель" id="81">
						<ChildItems>
							<Button name="СписокДокументовСформироватьЗПП3" id="137">
								<Type>CommandBarButton</Type>
								<CommandName>Form.Command.СформироватьЗПП3</CommandName>
								<RepresentationInContextMenu>AdditionalInContextMenu</RepresentationInContextMenu>
								<ExtendedTooltip name="СписокДокументовСформироватьЗПП3РасширеннаяПодсказка" id="138"/>
							</Button>
						</ChildItems>
					</AutoCommandBar>
					<ExtendedTooltip name="СписокДокументовРасширеннаяПодсказка" id="82"/>
					<SearchStringAddition name="СписокДокументовСтрокаПоиска" id="83">
						<AdditionSource>
							<Item>СписокДокументов</Item>
							<Type>SearchStringRepresentation</Type>
						</AdditionSource>
						<ContextMenu name="СписокДокументовСтрокаПоискаКонтекстноеМеню" id="84"/>
						<ExtendedTooltip name="СписокДокументовСтрокаПоискаРасширеннаяПодсказка" id="85"/>
					</SearchStringAddition>
					<ViewStatusAddition name="СписокДокументовСостояниеПросмотра" id="86">
						<AdditionSource>
							<Item>СписокДокументов</Item>
							<Type>ViewStatusRepresentation</Type>
						</AdditionSource>
						<ContextMenu name="СписокДокументовСостояниеПросмотраКонтекстноеМеню" id="87"/>
						<ExtendedTooltip name="СписокДокументовСостояниеПросмотраРасширеннаяПодсказка" id="88"/>
					</ViewStatusAddition>
					<SearchControlAddition name="СписокДокументовУправлениеПоиском" id="89">
						<AdditionSource>
							<Item>СписокДокументов</Item>
							<Type>SearchControl</Type>
						</AdditionSource>
						<ContextMenu name="СписокДокументовУправлениеПоискомКонтекстноеМеню" id="90"/>
						<ExtendedTooltip name="СписокДокументовУправлениеПоискомРасширеннаяПодсказка" id="91"/>
					</SearchControlAddition>
					<Events>
						<Event name="Selection">СписокДокументовВыбор</Event>
					</Events>
					<ChildItems>
						<CheckBoxField name="РеестрСформирован" id="139">
							<DataPath>СписокДокументов.РеестрСформирован</DataPath>
							<ReadOnly>true</ReadOnly>
							<Title>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content> </v8:content>
								</v8:item>
							</Title>
							<ToolTip>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>реестр накладных сформирован</v8:content>
								</v8:item>
							</ToolTip>
							<CheckBoxType>Auto</CheckBoxType>
							<ContextMenu name="РеестрСформированКонтекстноеМеню" id="140"/>
							<ExtendedTooltip name="РеестрСформированРасширеннаяПодсказка" id="141"/>
						</CheckBoxField>
						<ColumnGroup name="ГруппаДокументРегистрации" id="142">
							<Title>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>документ регистрации</v8:content>
								</v8:item>
							</Title>
							<ToolTip>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>Группа документ регистрации</v8:content>
								</v8:item>
							</ToolTip>
							<Group>Horizontal</Group>
							<ExtendedTooltip name="ГруппаДокументРегистрацииРасширеннаяПодсказка" id="143"/>
							<ChildItems>
								<LabelField name="НомерРегистрации" id="158">
									<DataPath>СписокДокументов.НомерРегистрации</DataPath>
									<Title>
										<v8:item>
											<v8:lang>ru</v8:lang>
											<v8:content>Номер</v8:content>
										</v8:item>
									</Title>
									<ContextMenu name="НомерРегистрацииКонтекстноеМеню" id="159"/>
									<ExtendedTooltip name="НомерРегистрацииРасширеннаяПодсказка" id="160"/>
								</LabelField>
								<LabelField name="ДатаРегистрации" id="155">
									<DataPath>СписокДокументов.ДатаРегистрации</DataPath>
									<Title>
										<v8:item>
											<v8:lang>ru</v8:lang>
											<v8:content>Дата</v8:content>
										</v8:item>
									</Title>
									<ContextMenu name="ДатаРегистрацииКонтекстноеМеню" id="156"/>
									<ExtendedTooltip name="ДатаРегистрацииРасширеннаяПодсказка" id="157"/>
								</LabelField>
								<LabelField name="ТранспортноеСредство" id="152">
									<DataPath>СписокДокументов.ТранспортноеСредство</DataPath>
									<Title>
										<v8:item>
											<v8:lang>ru</v8:lang>
											<v8:content>ТС</v8:content>
										</v8:item>
									</Title>
									<TitleLocation>Top</TitleLocation>
									<ToolTip>
										<v8:item>
											<v8:lang>ru</v8:lang>
											<v8:content>Марка, номер авто</v8:content>
										</v8:item>
									</ToolTip>
									<ContextMenu name="ТранспортноеСредствоКонтекстноеМеню" id="153"/>
									<ExtendedTooltip name="ТранспортноеСредствоРасширеннаяПодсказка" id="154"/>
								</LabelField>
								<LabelField name="ДокументРегистрации" id="92">
									<DataPath>СписокДокументов.ДокументРегистрации</DataPath>
									<Visible>false</Visible>
									<ContextMenu name="ДокументРегистрацииКонтекстноеМеню" id="93"/>
									<ExtendedTooltip name="ДокументРегистрацииРасширеннаяПодсказка" id="94"/>
								</LabelField>
							</ChildItems>
						</ColumnGroup>
						<LabelField name="ДокументРегистрацииНоменклатура" id="122">
							<DataPath>СписокДокументов.ДокументРегистрации.Номенклатура</DataPath>
							<ContextMenu name="ДокументРегистрацииНоменклатураКонтекстноеМеню" id="123"/>
							<ExtendedTooltip name="ДокументРегистрацииНоменклатураРасширеннаяПодсказка" id="124"/>
						</LabelField>
						<LabelField name="ДокументРегистрацииКонтрагент" id="119">
							<DataPath>СписокДокументов.ДокументРегистрации.Контрагент</DataPath>
							<ContextMenu name="ДокументРегистрацииКонтрагентКонтекстноеМеню" id="120"/>
							<ExtendedTooltip name="ДокументРегистрацииКонтрагентРасширеннаяПодсказка" id="121"/>
						</LabelField>
						<LabelField name="ЕдиничнаяПроба" id="95">
							<DataPath>СписокДокументов.ЕдиничнаяПроба</DataPath>
							<Visible>false</Visible>
							<ContextMenu name="ЕдиничнаяПробаКонтекстноеМеню" id="96"/>
							<ExtendedTooltip name="ЕдиничнаяПробаРасширеннаяПодсказка" id="97"/>
						</LabelField>
						<LabelField name="ЛабораторныйАнализЕдиничный" id="98">
							<DataPath>СписокДокументов.ЛабораторныйАнализЕдиничный</DataPath>
							<Title>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>Единичный анализ</v8:content>
								</v8:item>
							</Title>
							<ContextMenu name="ЛабораторныйАнализЕдиничныйКонтекстноеМеню" id="99"/>
							<ExtendedTooltip name="ЛабораторныйАнализЕдиничныйРасширеннаяПодсказка" id="100"/>
						</LabelField>
						<LabelField name="ЛабораторныйАнализКомпозит" id="101">
							<DataPath>СписокДокументов.ЛабораторныйАнализКомпозит</DataPath>
							<Title>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>Композитный анализ</v8:content>
								</v8:item>
							</Title>
							<ContextMenu name="ЛабораторныйАнализКомпозитКонтекстноеМеню" id="102"/>
							<ExtendedTooltip name="ЛабораторныйАнализКомпозитРасширеннаяПодсказка" id="103"/>
						</LabelField>
						<LabelField name="НомерПробы" id="107">
							<DataPath>СписокДокументов.НомерПробы</DataPath>
							<Visible>false</Visible>
							<ContextMenu name="НомерПробыКонтекстноеМеню" id="108"/>
							<ExtendedTooltip name="НомерПробыРасширеннаяПодсказка" id="109"/>
						</LabelField>
						<LabelField name="Брутто" id="125">
							<DataPath>СписокДокументов.Брутто</DataPath>
							<ContextMenu name="БруттоКонтекстноеМеню" id="126"/>
							<ExtendedTooltip name="БруттоРасширеннаяПодсказка" id="127"/>
						</LabelField>
						<LabelField name="Тара" id="128">
							<DataPath>СписокДокументов.Тара</DataPath>
							<ContextMenu name="ТараКонтекстноеМеню" id="129"/>
							<ExtendedTooltip name="ТараРасширеннаяПодсказка" id="130"/>
						</LabelField>
						<LabelField name="Нетто" id="131">
							<DataPath>СписокДокументов.Нетто</DataPath>
							<ContextMenu name="НеттоКонтекстноеМеню" id="132"/>
							<ExtendedTooltip name="НеттоРасширеннаяПодсказка" id="133"/>
						</LabelField>
						<LabelField name="ЕдиницаИзмеренияВеса" id="134">
							<DataPath>СписокДокументов.ЕдиницаИзмеренияВеса</DataPath>
							<Visible>false</Visible>
							<Title>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>Ед.</v8:content>
								</v8:item>
							</Title>
							<ToolTip>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>единица измерения взвешивания</v8:content>
								</v8:item>
							</ToolTip>
							<ContextMenu name="ЕдиницаИзмеренияВесаКонтекстноеМеню" id="135"/>
							<ExtendedTooltip name="ЕдиницаИзмеренияВесаРасширеннаяПодсказка" id="136"/>
						</LabelField>
						<ColumnGroup name="ГруппаРеестр" id="147">
							<Title>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>Группа реестр</v8:content>
								</v8:item>
							</Title>
							<ToolTip>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>Группа реестр</v8:content>
								</v8:item>
							</ToolTip>
							<Group>Horizontal</Group>
							<ExtendedTooltip name="ГруппаРеестрРасширеннаяПодсказка" id="148"/>
							<ChildItems>
								<LabelField name="РеестрНакладныхНомер" id="149">
									<DataPath>СписокДокументов.РеестрНакладных.Number</DataPath>
									<Title>
										<v8:item>
											<v8:lang>ru</v8:lang>
											<v8:content>Номер реестра</v8:content>
										</v8:item>
									</Title>
									<ContextMenu name="РеестрНакладныхНомерКонтекстноеМеню" id="150"/>
									<ExtendedTooltip name="РеестрНакладныхНомерРасширеннаяПодсказка" id="151"/>
								</LabelField>
								<LabelField name="РеестрНакладных" id="113">
									<DataPath>СписокДокументов.РеестрНакладных</DataPath>
									<Visible>false</Visible>
									<ContextMenu name="РеестрНакладныхКонтекстноеМеню" id="114"/>
									<ExtendedTooltip name="РеестрНакладныхРасширеннаяПодсказка" id="115"/>
								</LabelField>
							</ChildItems>
						</ColumnGroup>
					</ChildItems>
				</Table>
			</ChildItems>
		</UsualGroup>
	</ChildItems>
	<Attributes>
		<Attribute name="Объект" id="1">
			<Type>
				<v8:Type>cfg:DataProcessorObject.гкс_ПриемкаТранспорта</v8:Type>
			</Type>
		</Attribute>
		<Attribute name="СписокДокументов" id="3">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Список документов</v8:content>
				</v8:item>
			</Title>
			<Type>
				<v8:Type>cfg:DynamicList</v8:Type>
			</Type>
			<MainAttribute>true</MainAttribute>
			<UseAlways>
				<Field>СписокДокументов.Брутто</Field>
				<Field>СписокДокументов.ДокументРегистрации</Field>
				<Field>СписокДокументов.ЕдиницаИзмеренияВеса</Field>
				<Field>СписокДокументов.ЕдиничнаяПроба</Field>
				<Field>СписокДокументов.ЛабораторныйАнализЕдиничный</Field>
				<Field>СписокДокументов.ЛабораторныйАнализКомпозит</Field>
				<Field>СписокДокументов.Нетто</Field>
				<Field>СписокДокументов.РеестрНакладных</Field>
				<Field>СписокДокументов.РеестрСформирован</Field>
				<Field>СписокДокументов.Тара</Field>
			</UseAlways>
			<FunctionalOptions>
				<Item>FunctionalOption.гкс_ФормироватьКомпозитныйЛабораторныйАнализАвто</Item>
			</FunctionalOptions>
			<Settings xsi:type="DynamicList">
				<ManualQuery>true</ManualQuery>
				<DynamicDataRead>false</DynamicDataRead>
				<QueryText>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	РегистрацияНаПЛК.Ссылка КАК ДокументРегистрации,
	РегистрацияНаПЛК.ЕдиницаИзмеренияВеса КАК ЕдиницаИзмеренияВеса,
	РегистрацияНаПЛК.ТипРегистрации КАК ТипРегистрации,
	РегистрацияНаПЛК.ТранспортноеСредство КАК ТранспортноеСредство
ПОМЕСТИТЬ ВТ_Регистрации
ИЗ
	Документ.гкс_РегистрацияНаПЛК КАК РегистрацияНаПЛК
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.гкс_СостоянияРегистрации.СрезПоследних(
				,
				ТипРегистрации = &amp;ТипРегистрации
					И ВидПеревозки = &amp;ВидПеревозки
					И Состояние = &amp;Состояние) КАК СостоянияРегистрацииСрезПоследних
		ПО (СостоянияРегистрацииСрезПоследних.ДокументРегистрации = РегистрацияНаПЛК.Ссылка)
ГДЕ
	РегистрацияНаПЛК.Проведен
	И РегистрацияНаПЛК.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И РегистрацияНаПЛК.ТипРегистрации = &amp;ТипРегистрации
	И РегистрацияНаПЛК.ВидПеревозки = &amp;ВидПеревозки
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВТ_Регистрации.ДокументРегистрации КАК ДокументРегистрации,
	ФормированиеНомераПробы.Ссылка КАК ЕдиничнаяПроба,
	ЕСТЬNULL(СправочникНомераПроб.Код, "") КАК НомерПробы,
	ФормированиеНомераПробы.ПроизводственныеСуткиРегистрации КАК ПроизводственныеСуткиРегистрации,
	РеестрНакладныхЗПП3Накладные.Ссылка КАК РеестрНакладных,
	ЛабораторныйАнализПервичный.Ссылка КАК ЛабораторныйАнализЕдиничный,
	ЛабораторныйАнализКомпозит.Ссылка КАК ЛабораторныйАнализКомпозит
ПОМЕСТИТЬ ВТ_ЕдиничныеПробы
ИЗ
	Документ.гкс_ФормированиеНомераПробы.СписокРегистраций КАК ФормированиеНомераПробыСписокРегистраций
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВТ_Регистрации КАК ВТ_Регистрации
		ПО (ВТ_Регистрации.ДокументРегистрации = ФормированиеНомераПробыСписокРегистраций.ДокументРегистрации)
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.гкс_ФормированиеНомераПробы КАК ФормированиеНомераПробы
			ЛЕВОЕ СОЕДИНЕНИЕ Справочник.гкс_НомерПробы КАК СправочникНомераПроб
			ПО ФормированиеНомераПробы.НомерПробы = СправочникНомераПроб.Ссылка
		ПО ФормированиеНомераПробыСписокРегистраций.Ссылка = ФормированиеНомераПробы.Ссылка
			И (ФормированиеНомераПробы.Проведен)
			И (ФормированиеНомераПробы.ТипПробы = ЗНАЧЕНИЕ(Перечисление.гкс_ТипыПроб.Единичная))
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.гкс_РеестрНакладныхЗПП3.Накладные КАК РеестрНакладныхЗПП3Накладные
		ПО (ВТ_Регистрации.ДокументРегистрации = РеестрНакладныхЗПП3Накладные.ДокументРегистрации)
			И (НЕ РеестрНакладныхЗПП3Накладные.Ссылка.ПометкаУдаления)
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.гкс_ЛабораторныйАнализ КАК ЛабораторныйАнализПервичный
		ПО (ЛабораторныйАнализПервичный.гкс_ДокументРегистрации = ВТ_Регистрации.ДокументРегистрации)
			И (ЛабораторныйАнализПервичный.гкс_НазначениеИспользованияКачества = ЗНАЧЕНИЕ(Перечисление.гкс_НазначенияИспользованияКачества.Приемка))
			И (ЛабораторныйАнализПервичный.Проведен)
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.гкс_ЛабораторныйАнализ КАК ЛабораторныйАнализКомпозит
		ПО (ЛабораторныйАнализКомпозит.гкс_ДокументРегистрации = ВТ_Регистрации.ДокументРегистрации)
			И (ЛабораторныйАнализКомпозит.гкс_НазначениеИспользованияКачества = ЗНАЧЕНИЕ(Перечисление.гкс_НазначенияИспользованияКачества.ПриемкаКомпозит))
			И (НЕ ЛабораторныйАнализКомпозит.ПометкаУдаления)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВТ_Регистрации.ДокументРегистрации КАК ДокументРегистрации,
	ВТ_Регистрации.ЕдиницаИзмеренияВеса КАК ЕдиницаИзмеренияВеса,
	СУММА(ВЫБОР
			КОГДА ВТ_Регистрации.ТипРегистрации = ЗНАЧЕНИЕ(Перечисление.гкс_ТипРегистрации.Приемка)
					И ЕСТЬNULL(Взвешивание.ТипВзвешивания, НЕОПРЕДЕЛЕНО) = ЗНАЧЕНИЕ(Перечисление.гкс_ТипыВзвешивания.Въезд)
				ТОГДА ЕСТЬNULL(Взвешивание.Вес, 0)
			КОГДА ВТ_Регистрации.ТипРегистрации = ЗНАЧЕНИЕ(Перечисление.гкс_ТипРегистрации.Отгрузка)
					И ЕСТЬNULL(Взвешивание.ТипВзвешивания, НЕОПРЕДЕЛЕНО) = ЗНАЧЕНИЕ(Перечисление.гкс_ТипыВзвешивания.Выезд)
				ТОГДА ЕСТЬNULL(Взвешивание.Вес, 0)
			ИНАЧЕ 0
		КОНЕЦ) КАК Брутто,
	СУММА(ВЫБОР
			КОГДА ВТ_Регистрации.ТипРегистрации = ЗНАЧЕНИЕ(Перечисление.гкс_ТипРегистрации.Приемка)
					И ЕСТЬNULL(Взвешивание.ТипВзвешивания, НЕОПРЕДЕЛЕНО) = ЗНАЧЕНИЕ(Перечисление.гкс_ТипыВзвешивания.Выезд)
				ТОГДА ЕСТЬNULL(Взвешивание.Вес, 0)
			КОГДА ВТ_Регистрации.ТипРегистрации = ЗНАЧЕНИЕ(Перечисление.гкс_ТипРегистрации.Отгрузка)
					И ЕСТЬNULL(Взвешивание.ТипВзвешивания, НЕОПРЕДЕЛЕНО) = ЗНАЧЕНИЕ(Перечисление.гкс_ТипыВзвешивания.Въезд)
				ТОГДА ЕСТЬNULL(Взвешивание.Вес, 0)
			ИНАЧЕ 0
		КОНЕЦ) КАК Тара
ПОМЕСТИТЬ ВТ_Взвешивание
ИЗ
	ВТ_Регистрации КАК ВТ_Регистрации
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.гкс_Взвешивание КАК Взвешивание
		ПО (Взвешивание.ДокументРегистрации = ВТ_Регистрации.ДокументРегистрации)
			И (Взвешивание.Проведен)

СГРУППИРОВАТЬ ПО
	ВТ_Регистрации.ДокументРегистрации,
	ВТ_Регистрации.ЕдиницаИзмеренияВеса
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_Регистрации.ДокументРегистрации КАК ДокументРегистрации,
	РегистрацияНаПЛК.Дата КАК ДатаРегистрации,
	РегистрацияНаПЛК.Номер КАК НомерРегистрации,
	ВТ_ЕдиничныеПробы.ЕдиничнаяПроба КАК ЕдиничнаяПроба,
	ВТ_ЕдиничныеПробы.НомерПробы КАК НомерПробы,
	ВТ_ЕдиничныеПробы.РеестрНакладных КАК РеестрНакладных,
	ВТ_ЕдиничныеПробы.ЛабораторныйАнализЕдиничный КАК ЛабораторныйАнализЕдиничный,
	ВТ_ЕдиничныеПробы.ЛабораторныйАнализКомпозит КАК ЛабораторныйАнализКомпозит,
	ВТ_ЕдиничныеПробы.ПроизводственныеСуткиРегистрации КАК ПроизводственныеСуткиРегистрации,
	ВТ_Регистрации.ЕдиницаИзмеренияВеса КАК ЕдиницаИзмеренияВеса,
	ЕСТЬNULL(ВТ_Взвешивание.Брутто, 0) КАК Брутто,
	ЕСТЬNULL(ВТ_Взвешивание.Тара, 0) КАК Тара,
	ВЫБОР
		КОГДА ЕСТЬNULL(ВТ_Взвешивание.Тара, 0) &gt; 0
			ТОГДА ЕСТЬNULL(ВТ_Взвешивание.Брутто, 0) - ЕСТЬNULL(ВТ_Взвешивание.Тара, 0)
		ИНАЧЕ 0
	КОНЕЦ КАК Нетто,
	НЕ ВТ_ЕдиничныеПробы.РеестрНакладных ЕСТЬ NULL КАК РеестрСформирован,
	ВТ_Регистрации.ТранспортноеСредство КАК ТранспортноеСредство
ИЗ
	ВТ_Регистрации КАК ВТ_Регистрации
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ЕдиничныеПробы КАК ВТ_ЕдиничныеПробы
		ПО ВТ_Регистрации.ДокументРегистрации = ВТ_ЕдиничныеПробы.ДокументРегистрации
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_Взвешивание КАК ВТ_Взвешивание
		ПО ВТ_Регистрации.ДокументРегистрации = ВТ_Взвешивание.ДокументРегистрации
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.гкс_РегистрацияНаПЛК КАК РегистрацияНаПЛК
		ПО ВТ_Регистрации.ДокументРегистрации = РегистрацияНаПЛК.Ссылка
ГДЕ
	НЕ ВТ_ЕдиничныеПробы.ЛабораторныйАнализЕдиничный ЕСТЬ NULL</QueryText>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ДокументРегистрации</dcssch:dataPath>
					<dcssch:field>ДокументРегистрации</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Документ регистрации</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ЕдиничнаяПроба</dcssch:dataPath>
					<dcssch:field>ЕдиничнаяПроба</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Единичная проба</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>НомерПробы</dcssch:dataPath>
					<dcssch:field>НомерПробы</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Номер пробы</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ЛабораторныйАнализКомпозит</dcssch:dataPath>
					<dcssch:field>ЛабораторныйАнализКомпозит</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Лабораторный анализ композит</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ЛабораторныйАнализЕдиничный</dcssch:dataPath>
					<dcssch:field>ЛабораторныйАнализЕдиничный</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Лабораторный анализ единичный</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>РеестрНакладных</dcssch:dataPath>
					<dcssch:field>РеестрНакладных</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Реестр накладных</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ПроизводственныеСуткиРегистрации</dcssch:dataPath>
					<dcssch:field>ПроизводственныеСуткиРегистрации</dcssch:field>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ЕдиницаИзмеренияВеса</dcssch:dataPath>
					<dcssch:field>ЕдиницаИзмеренияВеса</dcssch:field>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>Брутто</dcssch:dataPath>
					<dcssch:field>Брутто</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Брутто</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>Тара</dcssch:dataPath>
					<dcssch:field>Тара</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Тара</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>Нетто</dcssch:dataPath>
					<dcssch:field>Нетто</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Нетто</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>РеестрСформирован</dcssch:dataPath>
					<dcssch:field>РеестрСформирован</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Реестр сформирован</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ТранспортноеСредство</dcssch:dataPath>
					<dcssch:field>ТранспортноеСредство</dcssch:field>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ТипРегистрации</dcssch:dataPath>
					<dcssch:field>ТипРегистрации</dcssch:field>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ТочкаМаршрута</dcssch:dataPath>
					<dcssch:field>ТочкаМаршрута</dcssch:field>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ВидПеревозки</dcssch:dataPath>
					<dcssch:field>ВидПеревозки</dcssch:field>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>ДатаРегистрации</dcssch:dataPath>
					<dcssch:field>ДатаРегистрации</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Дата регистрации</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Field xsi:type="dcssch:DataSetFieldField">
					<dcssch:dataPath>НомерРегистрации</dcssch:dataPath>
					<dcssch:field>НомерРегистрации</dcssch:field>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Номер регистрации</v8:content>
						</v8:item>
					</dcssch:title>
				</Field>
				<Parameter>
					<dcssch:name>ТипРегистрации</dcssch:name>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Тип регистрации</v8:content>
						</v8:item>
					</dcssch:title>
					<dcssch:valueType>
						<v8:Type>cfg:EnumRef.гкс_ТипРегистрации</v8:Type>
					</dcssch:valueType>
					<dcssch:value xsi:type="dcscor:DesignTimeValue">Перечисление.гкс_ТипРегистрации.Приемка</dcssch:value>
					<dcssch:useRestriction>true</dcssch:useRestriction>
					<dcssch:denyIncompleteValues>true</dcssch:denyIncompleteValues>
				</Parameter>
				<Parameter>
					<dcssch:name>ВидПеревозки</dcssch:name>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Вид перевозки</v8:content>
						</v8:item>
					</dcssch:title>
					<dcssch:valueType>
						<v8:Type>cfg:EnumRef.гкс_ТипыТранспортныхСредствДоставки</v8:Type>
					</dcssch:valueType>
					<dcssch:value xsi:type="dcscor:DesignTimeValue">Перечисление.гкс_ТипыТранспортныхСредствДоставки.Автомобиль</dcssch:value>
					<dcssch:useRestriction>true</dcssch:useRestriction>
					<dcssch:denyIncompleteValues>true</dcssch:denyIncompleteValues>
				</Parameter>
				<Parameter>
					<dcssch:name>НачалоПериода</dcssch:name>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Начало периода</v8:content>
						</v8:item>
					</dcssch:title>
					<dcssch:valueType>
						<v8:Type>xs:dateTime</v8:Type>
						<v8:DateQualifiers>
							<v8:DateFractions>DateTime</v8:DateFractions>
						</v8:DateQualifiers>
					</dcssch:valueType>
					<dcssch:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcssch:value>
					<dcssch:useRestriction>true</dcssch:useRestriction>
					<dcssch:denyIncompleteValues>true</dcssch:denyIncompleteValues>
				</Parameter>
				<Parameter>
					<dcssch:name>КонецПериода</dcssch:name>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Конец периода</v8:content>
						</v8:item>
					</dcssch:title>
					<dcssch:valueType>
						<v8:Type>xs:dateTime</v8:Type>
						<v8:DateQualifiers>
							<v8:DateFractions>DateTime</v8:DateFractions>
						</v8:DateQualifiers>
					</dcssch:valueType>
					<dcssch:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcssch:value>
					<dcssch:useRestriction>true</dcssch:useRestriction>
					<dcssch:denyIncompleteValues>true</dcssch:denyIncompleteValues>
				</Parameter>
				<Parameter>
					<dcssch:name>Период</dcssch:name>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Период</v8:content>
						</v8:item>
					</dcssch:title>
					<dcssch:valueType>
						<v8:Type>xs:dateTime</v8:Type>
						<v8:DateQualifiers>
							<v8:DateFractions>DateTime</v8:DateFractions>
						</v8:DateQualifiers>
					</dcssch:valueType>
					<dcssch:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcssch:value>
					<dcssch:useRestriction>false</dcssch:useRestriction>
				</Parameter>
				<Parameter>
					<dcssch:name>Состояние</dcssch:name>
					<dcssch:title xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Состояние</v8:content>
						</v8:item>
					</dcssch:title>
					<dcssch:valueType>
						<v8:Type>cfg:EnumRef.гкс_СостоянияРегистрации</v8:Type>
					</dcssch:valueType>
					<dcssch:value xsi:type="dcscor:DesignTimeValue">Перечисление.гкс_СостоянияРегистрации.Убыл</dcssch:value>
					<dcssch:useRestriction>true</dcssch:useRestriction>
				</Parameter>
				<ListSettings>
					<dcsset:filter>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">РеестрСформирован</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:boolean">false</dcsset:right>
							<dcsset:userSettingID>0aa023e1-d72a-4f25-a03c-e5f0ce306039</dcsset:userSettingID>
						</dcsset:item>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>dfcece9d-5077-440b-b6b3-45a5cb4538eb</dcsset:userSettingID>
					</dcsset:filter>
					<dcsset:dataParameters>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:use>false</dcscor:use>
							<dcscor:parameter>ТипРегистрации</dcscor:parameter>
							<dcscor:value xsi:nil="true"/>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:use>false</dcscor:use>
							<dcscor:parameter>ВидПеревозки</dcscor:parameter>
							<dcscor:value xsi:nil="true"/>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:use>false</dcscor:use>
							<dcscor:parameter>Состояние</dcscor:parameter>
							<dcscor:value xsi:nil="true"/>
						</dcscor:item>
					</dcsset:dataParameters>
					<dcsset:order>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>88619765-ccb3-46c6-ac52-38e9c992ebd4</dcsset:userSettingID>
					</dcsset:order>
					<dcsset:conditionalAppearance>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>b75fecce-942b-4aed-abc9-e6a02e460fb3</dcsset:userSettingID>
					</dcsset:conditionalAppearance>
					<dcsset:itemsViewMode>Normal</dcsset:itemsViewMode>
					<dcsset:itemsUserSettingID>911b6018-f537-43e8-a417-da56b22f9aec</dcsset:itemsUserSettingID>
				</ListSettings>
			</Settings>
		</Attribute>
		<Attribute name="ТаблицаОписания" id="2">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Таблица описания</v8:content>
				</v8:item>
			</Title>
			<Type>
				<v8:Type>v8:ValueTable</v8:Type>
			</Type>
			<Columns>
				<Column name="ИмяПоля" id="1">
					<Title>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Имя поля</v8:content>
						</v8:item>
					</Title>
					<Type>
						<v8:Type>xs:string</v8:Type>
						<v8:StringQualifiers>
							<v8:Length>0</v8:Length>
							<v8:AllowedLength>Variable</v8:AllowedLength>
						</v8:StringQualifiers>
					</Type>
				</Column>
				<Column name="ИсточникЗначения" id="2">
					<Title>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Источник значения</v8:content>
						</v8:item>
					</Title>
					<Type>
						<v8:Type>xs:string</v8:Type>
						<v8:StringQualifiers>
							<v8:Length>0</v8:Length>
							<v8:AllowedLength>Variable</v8:AllowedLength>
						</v8:StringQualifiers>
					</Type>
				</Column>
				<Column name="ИмяФормы" id="3">
					<Title>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Имя формы</v8:content>
						</v8:item>
					</Title>
					<Type>
						<v8:Type>xs:string</v8:Type>
						<v8:StringQualifiers>
							<v8:Length>0</v8:Length>
							<v8:AllowedLength>Variable</v8:AllowedLength>
						</v8:StringQualifiers>
					</Type>
				</Column>
			</Columns>
		</Attribute>
	</Attributes>
	<Commands>
		<Command name="УстановитьИнтервалПериода" id="1">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Установить интервал периода</v8:content>
				</v8:item>
			</Title>
			<ToolTip>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Установить интервал периода</v8:content>
				</v8:item>
			</ToolTip>
			<Picture>
				<xr:Ref>StdPicture.SetDateInterval</xr:Ref>
				<xr:LoadTransparent>true</xr:LoadTransparent>
			</Picture>
			<Action>УстановитьИнтервалПериода</Action>
		</Command>
		<Command name="СформироватьЗПП3" id="3">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сформировать ЗПП3</v8:content>
				</v8:item>
			</Title>
			<ToolTip>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сформировать ЗПП3</v8:content>
				</v8:item>
			</ToolTip>
			<Action>СформироватьЗПП3</Action>
			<FunctionalOptions>
				<Item>FunctionalOption.гкс_ФормироватьКомпозитныйЛабораторныйАнализАвто</Item>
			</FunctionalOptions>
			<AssociatedTableElementId xsi:type="xs:string">СписокДокументов</AssociatedTableElementId>
		</Command>
	</Commands>
</Form>