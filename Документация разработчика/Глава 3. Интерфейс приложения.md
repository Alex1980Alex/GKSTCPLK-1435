---
description: 
globs: 
alwaysApply: true
---
Глава 3. Интерфейс приложения

3.1. Общая информация

Интерфейс приложения ориентирован на удобную работу пользователя и устроен таким образом, что, выполняя необходимые действия в прикладном решении, пользователь работает с различными формами. Каждая форма может быть открыта разными способами, которые будут рассмотрены далее.

Для того чтобы получить доступ к той или иной форме, следует найти в интерфейсе прикладного решения нужную команду (открытия списка, формирования отчета, ввода документа и т. д.) и выполнить ее. Процесс поиска нужной команды называется навигацией по прикладному решению.

Структура прикладного решения в приложении представляется пользователю в виде иерархии, которая формируется подсистемами и входящими в них объектами метаданных (см. здесь).

Формы, в которых работает пользователь, могут отображаться различными способами:

•

на начальной странице,

•

в отдельном окне,

•

в отдельной закладке,

•

в однооконном режиме ‑ интерфейс Такси.

Режим открытия форм (в отдельных окнах или в закладках) определяется отдельной настройкой клиентского приложения и начинает действовать после перезапуска клиентского приложения.

3.2. Открытие форм в отдельных окнах

3.2.1. Общая информация

3.2.2. Основное окно приложения

3.2.2.1. Схема основного окна приложения

доступен с помощью команды Главное меню ‑ Сервис ‑ Параметры или меню Сервис и настройки ‑ Настройки ‑ Параметры. После выбора необходимого варианта внешнего вида, система предложит перезапустить прикладное решение.

Рис. 42. Предложение перезапуска при смене внешнего вида

При нажатии кнопки Перезапустить будет произведен перезапуск прикладного решения и оно откроется в выбранном внешнем виде.

В «1С:Предприятии» существует два вида окон:

•

основное окно,

•

вспомогательное окно.

Каждый вид окон в «1С:Предприятии» предназначен для выполнения определенных задач. Основное окно приложения предназначено для навигации по прикладному решению и вызова различных команд. Вспомогательное окно предназначено для работы с объектами информационной базы (например, с документами или элементами справочников), построения отчетов или выполнения обработки данных. Роль вспомогательного окна может выполнять закладка, отображаемая в рабочей области основного окна.

Главное меню основных и вспомогательных окон «1С:Предприятия» содержит только общие команды, не имеющие прикладной специфики, и не может быть изменено разработчиком конфигурации.

В этом режиме формы открываются во вспомогательных окнах. Каждое окно «1С:Предприятия» появляется на панели задач операционной системы и в переключателе окон по нажатию клавиш Alt + Tab.

ВНИМАНИЕ! Данный режим не поддерживается при использовании веб-клиента.

При работе с «1С:Предприятием» используется одно основное окно приложения. Структура основного окна организована таким образом, чтобы пользователь эффективно осуществлял навигацию по приложению, т. е. быстро находил нужные разделы и команды.

3.2.2.2. Панель разделов

Рис. 43. Структура основного окна приложения

Каждое состояние основного окна можно рассматривать как своеобразное рабочее место. Например, перейдя в раздел Товарные запасы, пользователь увидит набор команд для выполнения наиболее частых действий, связанных с управлением товарными запасами.

Панель разделов показывает список подсистем верхнего уровня и позволяет быстро переключаться между ними. Каждый раздел соответствует подсистеме (например, Продажи, Закупки, Запасы). Для повышения наглядности каждой подсистеме можно установить понятную картинку. Отсутствие картинки не препятствует отображению подсистемы в панели разделов. Первым разделом всегда является основной раздел, который называется Рабочий стол. На рабочем столе собраны самые необходимые и часто используемые инструменты прикладного решения. Остальные разделы соответствуют подсистемам первого уровня иерархии.

Панель разделов имеет возможность горизонтальной прокрутки, однако с помощью прав доступа можно ограничить набор разделов так, что прокрутка не потребуется.

ПРИМЕЧАНИЕ. Если в панели разделов нет ни одного раздела (они недоступны или скрыты пользователем), то панель разделов автоматически скрывается и основное окно приложения автоматически переключается на рабочий стол конфигурации.

3.2.2.4. Панель действий

Панель навигации отображает структуру конфигурации в соответствии с разделом, выбранным в панели разделов. Если у подсистемы имеются подчиненные подсистемы, то они будут отображаться как группы с возможностью сворачивания. В дальнейшем подсистемы, подчиненные подсистемам верхнего уровня, мы будем называть подразделами.

При нажатии на гиперссылки этой панели, как правило, происходит открытие форм списков. При этом формы открываются непосредственно в основном окне, замещая друг друга.

Щелчок по гиперссылке приводит к открытию формы в рабочей области основного окна приложения.

В панели навигации могут располагаться команды трех стандартных групп: Важное, Обычное и См. также. Команды группы Важное будут выделены полужирным шрифтом. Если какой-либо группы нет, то она пропускается. Если разработчик конфигурации определил собственные группы команд из категории Панель навигации, то они будут располагаться непосредственно перед группой См. также (которая всегда является самой последней группой в панели навигации).

При отображении группы См. также действуют следующие правила:

•

команды группы См. также из отображаемого раздела и всех его подразделов визуально размещаются в одном списке См. также;

•

команды выводятся в порядке разделов и подразделов, который задан при конфигурировании;

•

внутри разделов и подразделов команды выводятся в порядке, который задан при конфигурировании.

Порядок разделов (подсистем верхнего уровня), подразделов (подчиненных подсистем) и команд в группе См. также панели навигации можно изменять в редакторе фрагмента командного интерфейса.

Панель действий содержит команды, которые соответствуют текущему разделу, выбранному в панели разделов. Эти команды объединены в стандартные группы: Создать, Отчеты, Сервис и группы, созданные разработчиком.

Группа Создать включает в себя команды создания новых объектов информационной базы, например, документов или элементов справочников. В этой группе размещаются команды создания для всех объектов, входящих в подсистему, однако по умолчанию видимость этих команд отключена. Разработчик должен включить видимость для наиболее часто используемых команд создания новых объектов. Группа Отчеты содержит команды открытия отчетов, а группа Сервис ‑ команды открытия обработок. Если в какой-либо группе нет ни одной команды, то группа не показывается. Если разработчик конфигурации определил собственные группы команд, принадлежащие категории Панель действий, то они располагаются после группы Сервис.

При отображении групп панели действий действуют следующие правила:

•

команды одинаковых групп из отображаемого раздела и всех его подразделов визуально размещаются в одном списке;

•

команды выводятся в порядке разделов и подразделов, который задан при конфигурировании;

•

внутри разделов и подразделов команды выводятся в порядке, который задан при конфигурировании.

Порядок разделов (подсистем верхнего уровня), подразделов (подчиненных подсистем) и команд в группах панели действий можно изменять в редакторе командного интерфейса.

Высота панели действий по умолчанию зависит от количества команд в группах и не превышает трех строк при автоматическом определении высоты панели. Однако пользователь может произвольно изменять высоту с помощью разделителя, расположенного под панелью. Если при

3.2.2.5. Информационная панель

3.2.2.6. Область системных команд

раскрыто меню, содержащее все команды группы.

Информационная панель предназначена для обращения к последним данным, редактируемым пользователем, а также для отображения перечня последних оповещений (информация о тех или иных действиях, выполненных в системе).

Область системных команд позволяет выполнять ряд действий, не зависящих от прикладной специфики конфигурации, но помогающих в управлении системой. Кроме того, в этой области расположены различные команды, помогающие в работе с окном.

Рис. 44. Левая часть области системных команд

В левой части области системных команд расположена кнопка вызова главного меню, а также команды перехода по точкам навигации и меню работы с избранным пользователя. Точка навигации ‑ это фрагмент интерфейса основного окна приложения, в который можно перейти с помощью команд, расположенных в основном окне приложения.

В «1С:Предприятии» избранное ‑ это список ссылок, специально отобранных самим пользователем для быстрого перехода к тем или иным разделам конфигурации, точкам навигации, формам объектов информационной базы, а также формам отчетов и обработок.

Существует возможность программного управления списком избранного. Для этого используется объект ИзбранноеРаботыПользователя. Данный объект можно получить из хранилища системных настроек.

ПРИМЕЧАНИЕ. При работе с избранным следует помнить, что список избранного является одноуровневым.

В список избранного нельзя добавить ссылку на стандартную функцию (вызываемую с помощью команды Главное меню ‑ Функции для технического специалиста ‑ Стандартные).

3.2.3. Вспомогательное окно

В правой части области системных команд расположены различные вспомогательные команды, которые помогают в работе с окном. Перечень команд может быть настроен с помощью соответствующего меню настройки.

Вспомогательным называется окно, которое открывается для выполнения какого-либо действия, а не для навигации по всему приложению в целом. В таких окнах, например, открываются формы документов или элементов справочников, формы отчетов и обработок.

Рис. 45. Структура вспомогательного окна приложения

Закрытие вспомогательного окна не приводит к закрытию всего приложения.

Вспомогательных окон может быть открыто сколько угодно, но для каждого объекта информационной базы (например, документа или элемента справочника) оно одно, т. е. нельзя открыть несколько окон для просмотра одного и того же документа, если это специально не предусмотрено в конфигурации.

Во вспомогательном окне можно выделить основную форму ‑ форму, которая отображается по умолчанию при открытии вспомогательного окна и которая открывается при нажатии на первую ссылку панели навигации формы. При нажатии на другие ссылки панели навигации формы будут

3.2.3.2. Командная панель формы

3.2.3.3. Область системных команд

3.3. Открытие форм в закладках

3.3.1. Общая информация

3.3.2. Основное окно приложения

3.3.2.1. Схема основного окна приложения

Панель навигации вспомогательного окна (панель навигации формы) позволяет просматривать различные сведения, логически связанные с данными, которые отображает основная форма окна.

В панели навигации могут располагаться команды трех групп: Важное, Перейти и См. также. Команды, относящиеся к группам Важное и Перейти, будут объединены общим заголовком Перейти, при этом команды группы Важное располагаются первыми, выделены полужирным шрифтом и отделены от остальных команд, расположенных под заголовком Перейти, небольшим отступом. Если какой-либо группы нет, то она пропускается. Если разработчик конфигурации определил собственные группы команд из категории Панель навигации формы, то они будут располагаться непосредственно перед группой См. также (которая всегда является самой последней группой в панели навигации формы).

Существует возможность возврата к основной форме. Для этого нужно нажать гиперссылку в верхней части панели навигации (выделена полужирным шрифтом).

Командная панель формы содержит команды, непосредственно связанные с объектом, который отображается в основной форме. Существуют стандартные группы Важное и Создать на основании; кроме того, на панели могут размещаться группы, созданные разработчиком. Каждая команда из группы Важное будет отображаться своей кнопкой на панели. Группа Создать на основании будет оформлена в виде подменю панели. Также в виде подменю будут оформлены все группы команд, созданные разработчиком. Команды формы, такие как Сохранить и закрыть, будут расположены перед командами группы Важное.

Если в какой-либо группе нет ни одной команды, то группа не показывается. Если разработчик конфигурации добавил в эту область собственные группы, то они располагаются после группы Создать на основании.

Левая часть области системных команд вспомогательного окна содержит только команду открытия главного меню и команды работы с избранным. В правой части расположены различные вспомогательные команды, которые помогают в работе с окном (например, команды получения и перехода по ссылке, вызова калькулятора, календаря и т. д.). Правая часть области может быть настроена с помощью соответствующего меню настройки.

В этом режиме формы открываются в качестве закладок рабочей области основного окна. Некоторые формы по-прежнему открываются в отдельных окнах (например, окна выбора), но эти окна не появляются на панели задач.

ВНИМАНИЕ! Данный режим не поддерживается при использовании веб-клиента.

Форму, открытую в закладке, можно открыть во вспомогательном окне, если этого требует логика работы. В этом случае вспомогательное окно будет отображаться на панели задач операционной системы и будет доступно при переключении окон по Alt + Tab.

При работе с «1С:Предприятием» используется одно основное окно приложения. Структура основного окна организована таким образом, чтобы пользователь эффективно осуществлял навигацию по приложению, т. е. быстро находил нужные разделы и команды.

Рис. 46. Основное окно с закладками

Каждое состояние основного окна можно рассматривать как своеобразное рабочее место. Например, перейдя в раздел Финансы, пользователь увидит набор команд для выполнения наиболее частых действий, связанных с финансовыми операциями.

Каждая закладка, отображаемая в рабочей области основного окна, может быть закрыта (включая закладку Рабочий стол). Это можно сделать или с помощью контекстного меню (команда Закрыть), или нажав на синюю картинку в правой части каждой закладки.

ПРИМЕЧАНИЕ. Закладка Рабочий стол всегда располагается первой среди закладок.

Заголовок закладки изменяет размер в зависимости от количества закладок в основном окне. При увеличении количества закладок размер заголовка закладки уменьшается, и заголовок может оказаться нечитаемым. В этом случае для получения списка открытых закладок можно воспользоваться специальной кнопкой, расположенной справа от закладок.

3.3.2.2. Панель разделов

Рис. 47. Список закладок

Если в форме, открытой в закладке, выполняется открытие блокирующей (например, формы выбора) или модальной формы, то такая форма не отображается отдельной закладкой и не присутствует в списке окон на панели задач. Такая форма блокирует содержимое только той закладки, в которой такая блокирующая форма была открыта. При этом остается возможность переключаться между закладками. В случае переключения на закладку с открытой блокирующей формой она будет отображена на экране.

Панель разделов показывает список подсистем верхнего уровня и позволяет быстро переключаться между ними. Каждый раздел соответствует подсистеме (например, Продажи, Закупки, Запасы). Для повышения наглядности каждой подсистеме можно установить понятную картинку. Отсутствие картинки не препятствует отображению подсистемы в панели разделов. Первым разделом всегда является Рабочий стол. На рабочем столе собраны самые необходимые и часто используемые инструменты прикладного решения. Остальные разделы соответствуют подсистемам первого уровня иерархии.

Панель разделов имеет возможность горизонтальной прокрутки, однако с помощью прав доступа можно ограничить набор разделов так, что прокрутка не потребуется.

При переходе по разделам не меняется информация, отображаемая в рабочей области, но меняется содержимое панели навигации и панели действий.

3.3.2.3. Панель навигации

Рис. 48. Переключение подсистем и рабочая область

ПРИМЕЧАНИЕ. Если в панели разделов нет ни одного раздела (они недоступны или скрыты пользователем), то панель разделов автоматически скрывается и основное окно приложения автоматически переключается на рабочий стол конфигурации.

Панель навигации отображает структуру конфигурации в соответствии с разделом, выбранным в панели разделов. Если у подсистемы имеются подчиненные подсистемы, то они будут отображаться как группы с возможностью сворачивания. В дальнейшем подсистемы, подчиненные подсистемам верхнего уровня, мы будем называть подразделами.

При нажатии на гиперссылки этой панели, как правило, происходит открытие форм списков. При этом формы открываются непосредственно в основном окне, замещая друг друга.

Щелчок по гиперссылке приводит к открытию формы в рабочей области основного окна приложения.

В панели навигации могут располагаться команды трех стандартных групп: Важное, Обычное и См. также. Команды группы Важное будут выделены полужирным шрифтом. Если какой-либо группы нет, то она пропускается. Если разработчик конфигурации определил собственные группы команд из категории Панель навигации, то они будут располагаться непосредственно перед группой См. также (которая всегда является самой последней группой в панели навигации).

При отображении группы См. также действуют следующие правила:

•

команды группы См. также из отображаемого раздела и всех его подразделов визуально размещаются в одном списке См. также;

•

команды выводятся в порядке разделов и подразделов, который задан при конфигурировании;

•

внутри разделов и подразделов команды выводятся в порядке, который задан при конфигурировании.

Порядок разделов (подсистем верхнего уровня), подразделов (подчиненных подсистем) и команд в группе См. также панели навигации можно изменять в редакторе фрагмента командного

3.3.2.5. Информационная панель

3.3.2.6. Область системных команд

Панель действий содержит команды, которые соответствуют текущему разделу, выбранному в панели разделов. Эти команды объединены в стандартные группы: Создать, Отчеты, Сервис и группы, созданные разработчиком.

Группа Создать включает в себя команды создания новых объектов информационной базы, например, документов или элементов справочников. В этой группе размещаются команды создания для всех объектов, входящих в подсистему, однако по умолчанию видимость этих команд отключена. Разработчик должен включить видимость для наиболее часто используемых команд создания новых объектов. Группа Отчеты содержит команды открытия отчетов, а группа Сервис ‑ команды открытия обработок. Если в какой-либо группе нет ни одной команды, то группа не показывается. Если разработчик конфигурации определил собственные группы команд, принадлежащие категории Панель действий, то они располагаются после группы Сервис.

При отображении групп панели действий действуют следующие правила:

•

команды одинаковых групп из отображаемого раздела и всех его подразделов визуально размещаются в одном списке;

•

команды выводятся в порядке разделов и подразделов, который задан при конфигурировании;

•

внутри разделов и подразделов команды выводятся в порядке, который задан при конфигурировании.

Порядок разделов (подсистем верхнего уровня), подразделов (подчиненных подсистем) и команд в группах панели действий можно изменять в редакторе командного интерфейса.

Высота панели действий по умолчанию зависит от количества команд в группах и не превышает трех строк при автоматическом определении высоты панели. Однако пользователь может произвольно изменять высоту с помощью разделителя, расположенного под панелью. Если при текущей высоте панели действий в ней не помещаются все команды какой-либо группы, то в правом нижнем углу группы будет размещена пиктограмма, по нажатию на которую будет раскрыто меню, содержащее все команды группы.

Информационная панель предназначена для обращения к последним данным, редактируемым пользователем, а также для отображения перечня последних оповещений (информация о тех или иных действиях, выполненных в системе).

Область системных команд позволяет выполнять ряд действий, не зависящих от прикладной специфики конфигурации, но помогающих в управлении системой. Кроме того, в этой области расположены различные команды, помогающие в работе с окном.

Рис. 49. Левая часть области системных команд

В левой части области системных команд расположена кнопка вызова главного меню, а также команды вызова меню функций и меню работы с избранным пользователя.

В главном меню расположено меню Вид, которое позволяет настроить внешний вид окна приложения.

Рис. 50. Меню «Вид»

В частности, данное меню позволяет отключать видимость панели разделов, панелей навигации и действий. Это позволит увеличить место под формы и уменьшить вероятность появления полос прокрутки. Также следует обратить внимание на команду Скрыть все панели команд. После

Рис. 51. Скрытые панели команд

Повторное выполнение команды возвращает скрытые панели. Нужно помнить следующую особенность: команда Скрыть все панели команд не будет работать, если панель разделов, панель навигации и панель действий скрыты с помощью меню Вид.

Для ускорения и упрощения доступа к командам той или иной подсистемы служит специальный режим ‑ Меню функций. Для вызова этого режима следует нажать специальную кнопку в области системных команд.

Рис. 52. Меню функций

Меню функций представляет собой панель разделов и специальную форму, которая содержит все команды выбранного раздела. Перечень разделов и состав команд соответствуют текущим настройкам пользователя. Первая колонка формы соответствует панели навигации, остальные колонки ‑ группам панели действий выбранной подсистемы. Отображение панели разделов не зависит от того, в каком состоянии находится настройка Главное меню ‑ Вид ‑ Панель разделов. После выбора необходимой команды основное окно возвращается к тому виду, какой был до вызова меню функций. Состав команд обновляется, если в окне функций выбрать другой раздел.

В «1С:Предприятии» избранное ‑ это список ссылок, специально отобранных самим пользователем для быстрого перехода к тем или иным разделам конфигурации, точкам навигации, формам объектов информационной базы, а также формам отчетов и обработок.

Существует возможность программного управления списком избранного. Для этого используется объект ИзбранноеРаботыПользователя. Данный объект можно получить из хранилища системных настроек.

ПРИМЕЧАНИЕ. При работе с избранным следует помнить, что список избранного является одноуровневым.

В список избранного нельзя добавить ссылку на стандартную функцию (вызываемую с помощью команды Главное меню ‑ Функции для технического специалиста ‑ Стандартные).

Во вспомогательных окнах область системных команд выглядит другим образом (см. здесь).

В меню Окна отображается основное окно, закладки окна и вспомогательные окна. Флажком отмечается:

•

активное вспомогательное окно;

•

активная закладка основного окна;

•

собственно основное окно, если в нем не открыто ни одной закладки.

3.3.3. Вспомогательное окно

3.4. Интерфейс «Такси»

3.4.1. Общая информация

3.4.2. Основное окно приложения

3.4.2.1. Схема основного окна приложения

которые помогают в работе с окном. Перечень команд может быть настроен с помощью соответствующего меню настройки. Доступность и состав команд зависят от текущей формы в активной закладке.

Описание вспомогательного окна см. здесь.

В этом режиме формы в основном открываются в рабочей области основного окна. Некоторые формы по-прежнему открываются в отдельных окнах (например, окна выбора), но эти окна не появляются на панели задач. Переключение между окнами с помощью сочетания клавиш Alt + Tab невозможно. Можно переключаться между открытыми формами с помощью специальных кнопок, присутствующих в заголовке всех форм, которые открыты в рабочей области основного окна приложения.

При работе с «1С:Предприятием» используется одно основное окно приложения. Структура основного окна организована таким образом, чтобы пользователь эффективно осуществлял навигацию по приложению, т. е. быстро находил нужные разделы и команды. В основном окне приложения не выполняется открытия форм (кроме рабочей области).

Рис. 53. Основное окно в интерфейсе «Такси»

На Рис. 53 цифрами обозначены следующие элементы основного окна:

1. Меню функций текущего раздела (и панель функций текущего раздела).

2. Доступ к центру оповещений.

3. Обсуждения, видеозвонки, показ экрана. Данное меню доступно только если информационная база подключена к системе взаимодействия.

4. Текущий пользователь.

5. Меню Сервис и настройки.

6. Панель разделов.

7. Панель открытых.

8. История.

9. Рабочая область основного окна.

10. Избранное работы пользователя.

11. Панель отображения вызовов сервера.

Главное окно приложения (и другие независимые окна: калькулятор, календарь, окна предупреждений и т. д.) могут отображаться в двух вариантах:

1. Без заголовка окна операционной системы (рис.53). В таком виде окна будут отображаться при работе под управлением ОС Windows, в том числе в режиме удаленного рабочего стола (RDP) и в режиме удаленного приложения RemoteApp (для ОС Windows 7 и последующих). В этом случае заголовком окна является главная панель.

2. С заголовком операционной системы. Этот вариант используется при работе в операционных системах Linux и macOS, при использовании веб-клиента, а также при работе под управлением ОС Windows XP в режиме удаленного приложения RemoteApp. В этом случае главная панель расположена под заголовком ОС.

Переключение вариантов отображения главного окна приложения выполняется автоматически, в зависимости от того, в какой ОС и каком окружении запускается клиентское приложение. Кроме того, при работе клиентского приложения в ОС Windows имеется возможность управления отображением заголовка ОС с помощью методов ПолучитьОтображениеЗаголовкаОС()/ УстановитьОтображениеЗаголовкаОС() объекта КлиентскоеПриложение. Установить отображение заголовка окна ОС можно только в обработчике события ПередНачаломРаботыСистемы.

Главная панель содержит основные способы навигации по приложению. Главная панель содержит следующие элементы: кнопка открытия меню функций, заголовок приложения, поле глобального поиска, кнопки открытия, центра оповещения, истории, избранного, имя текущего пользователя и кнопку открытия меню Сервис и настройки.

С помощью команды меню Сервис и настройки ‑ Показать М, М+, М‑ можно управлять одноименными кнопками в главной панели. Эти кнопки расположены левее поля глобального поиска.

Рис. 54. Включение кнопок работы с памятью

3.4.2.2. Начальная страница

несколько различных панелей (см. здесь). В рабочей области основного окна приложения отображаются все формы, с которыми работает пользователь. Исключением являются блокирующие формы, которые открываются в отдельных окнах. Если в форме, открытой в рабочей области, выполняется открытие блокирующей (например, формы выбора) формы, то такая форма отображается в виде отдельного окна, но не присутствует в списке окон на панели задач. В зависимости от режима открытия окна (см. здесь), будет заблокирована работа либо с формой-владельцем, либо со всем интерфейсом системы. При этом если вспомогательное окно открыто в режим блокировки окна-владельца, остается возможность открывать другие формы и использовать командный интерфейс прикладного решения. В случае переключения на форму, из которой открыта форма, блокирующая работу с владельцем, блокирующая форма будет отображена на экране.

Рассмотрим более подробно составные части основного окна приложения.

Работа с прикладным решением начинается с начальной страницы.

Рис. 55. Начальная страница

На этой странице прикладной разработчик располагает формы, которые наиболее востребованы в данном прикладном решении (по его замыслу). Доступность форм на этой странице определяется правами доступа и функциональными опциями. Начальную страницу невозможно закрыть.

Настройка интерфейса начальной страницы выполняется с помощью свойств конфигурации (см. здесь). Пользователь также может сформировать персональный состав начальной страницы из списка доступных форм, которые прикладной разработчик разрешил размещать на начальной странице. Для этого необходимо воспользоваться специальным диалогом настройки начальной

Панель разделов показывает список подсистем верхнего уровня и позволяет быстро выбирать нужный набор функций. Каждый раздел соответствует подсистеме (например, Продажи, Закупки, Запасы). Для повышения наглядности каждой подсистеме можно установить понятную картинку. Отсутствие картинки не препятствует отображению подсистемы в панели разделов. Первым разделом всегда является основной раздел, который называется Главное. В основном разделе собраны самые необходимые и часто используемые инструменты прикладного решения. Остальные разделы соответствуют подсистемам первого уровня иерархии.

Рис. 56. Панель разделов

Фактически, элемент панели разделов группирует команды системы, логически связанные с каким-либо направлением работы в рамках прикладного решения. Например, действия, связанные с управлением закупками (раздел Закупки), управлением товарными запасами (раздел Товарные запасы) и т. д. Панель разделов не является инструментом переключения автоматизированных рабочих мест.

Панель разделов имеет возможность прокрутки. Состав панели разделов для конкретного пользователя определяется его правами доступа и установленными функциональными опциями. Видимость доступных разделов может регулироваться самим пользователем с помощью команды меню Сервис и настройки ‑ Настройки ‑ Настройка панели разделов.

Действие при выборе раздела зависит от того, отображается в главном окне панель функций текущего раздела, или нет (см. здесь):

•

Панель не отображается. В этом случае выбор какого-либо раздела приводит к отображению на экране меню функций данного раздела. В этом случае текущий раздел никак не отображается на экране (когда закрыто меню функций).

Рис. 57. Меню функций при выборе раздела

будет изменено содержимое панели команд текущего раздела. Если отображаемой информации не достаточно, то можно открыть меню функций повторным выбором раздела. Также в этом случае на панели разделов всегда отображается текущий раздел.

Рис. 58. Панель функций текущего раздела

Меню функций содержит команды панели навигации и панели действий. Из меню функций имеется возможность добавить какую-либо команду в избранное. Для этого достаточно нажать звездочку, расположенную слева от имени команды. Для того чтобы удалить команду из избранного, необходимо еще раз нажать на картинку звездочки.

В правом верхнем углу меню функций присутствует поле ввода для поиска и меню настроек. В меню находятся команды настройки панели навигации (команда Настройка навигации) и панели действий (команда Настройка действий).

Рис. 59. Сервис в меню функций

Для начала поиска следует нажать Ctrl + F или начать набор текста. После ввода текста в левой части панели с меню функций появляется текст Поиск по функциям и отображается анимация (на время поиска). Поиск выполняется по всем командам всех разделов, а не только по командам текущего раздела. Результат поиска отображается следующим образом:

3.4.2.4. Панель функций текущего раздела

Рис. 60. Результат поиска по функциям

В результат поиска попадают команды, представление которых содержат любое из слов в строке поиска в любой позиции. Найденные вхождения подсвечиваются. Команды категории Важное не выделяются полужирным шрифтом. Найденные команды группируются по разделам (вместе с отображением картинки раздела) и находятся в тех же колонках меню функций, что и при отключенном поиске. Поиск выполняется не только по представлениям команд, но и по представлениям групп команд (кроме группы См. также). Если одно или несколько слов найдены в названии группы (раздела), то поиск в представлениях команд выполняется без учета этого слова (слов).

Для выхода из режима поиска можно очистить поле поиска, нажать кнопку очистки поля поиска или нажав клавишу ESC.

Открыть меню функций можно несколькими способами:

•

Выбором раздела;

•

С помощью команды главной панели (см. здесь).

•

С помощью клавиатуры:

•

С помощью клавиши F10;

•

С помощью сочетания клавиш Ctrl + Shift + T;

•

С помощью сочетания клавиш Alt + 2. В этом случае курсор будет установлен на первую команду панели навигации;

•

С помощью сочетания клавиш Alt + 3. В этом случае курсор будет установлен на первую команду панели действий.

ПРИМЕЧАНИЕ. Если в панели разделов нет ни одного раздела (они недоступны или скрыты пользователем), то панель разделов автоматически скрывается.

Панель функций текущего раздела содержит команды, соответствующие текущему разделу.

3.4.2.5. Панель открытых

Рис. 61. Панель функций текущего раздела

Панель функций текущего раздела:

•

Команды панели навигации располагаются в начале панели. Команды группы Важное выделены полужирным шрифтом.

В случае, когда панель отображается горизонтально, отображается максимально возможное количество команд (минимум одна). Если все команды не помещаются в панель ‑ на панели отображается подменю Еще, которое содержит оставшиеся команды.

Если панель расположена вертикально, то отображается не менее одной и не более 10 команд панели навигации. Если в панели присутствует подменю Еще ‑ оно будет располагаться 11 элементом командой панели.

•

После команд панели навигации располагаются подменю для всех непустых групп команд панелей навигации и панели действий выбранного раздела.

Данная панель содержит список форм, открытых в текущем сеансе работы с прикладным решением.

Рис. 62. Панель открытых

Первой открытой формой всегда является начальная страница (если она настроена в прикладном решении). Формы рабочей области начальной страницы не отображаются как отдельные формы в панели открытых. Нажатие картинки («крестик») в правом верхнем углу элемента панели приведет к закрытию формы, которая отображается соответствующим элементом.

Если какая-либо форма заблокирована формой, открытой с признаком Блокировать окно владельца (свойство формы Режим открытия окна), то заблокированную форму невозможно закрыть с помощью «крестика» в панели открытых.

Рис. 63. Панель открытых. Горизонтальное расположение

На Рис. 63 цифрами изображены следующие элементы:

1. Начальная страница.

2. Закрепленное окно.

3. Отображение формы, содержащей номер в заголовке.

4. Совместно отображаемые формы.

5. Меню «Все окна» (кнопка открытия и содержимое).

Отображение панели открытых зависит от ориентации панели:

При горизонтальном расположении панели:

•

Текст в элементах панели выводится в одну строку.

•

Закрепленное окно отображается иконкой без текста

•

При увеличении количества элементов ‑ существующие элементы начинают сжиматься, уменьшая количество отображаемого текста.

•

Если в панели открытых есть элементы, содержащие обрезанный текст, то:

•

В правой части панели отображается кнопка для вызова списка всех окон.

•

Элемент для начальной страницы отображается иконкой без текста.

•

Объединенные окна отображаются рядом, как единый элемент.

•

На элементах панели отображается картинка закрытия («крестик»), кроме начальной страницы и закрепленного окна.

•

Для формы документа и бизнес-процесса, чей заголовок содержит представление номера документа (бизнес-процесса), если номер в представлении частично или целиком не поместился в соответствующем элементе панели открытых, то номер отображается в правой части элемента панели. При этом система пытается отобразить номер целиком.

Рис. 64. Панель открытых. Вертикальное расположение

На Рис. 64 цифрами отмечены следующие элементы:

1. Совместно отображаемые формы. Следует обратить внимание на то, что разделитель между такими формами отображается особым образом. Стрелки указывают на эти особенности.

2. Полоса прокрутки панели открытых в том случае, если список открытых окон не может быть размещен на одном экране.

При вертикальном расположении панели:

•

Текст в элементах панели выводится без ограничения на количество строк.

•

При необходимости используется вертикальная прокрутка, при этом начальная страница не попадает в прокручиваемые элементы.

•

Элемент для начальной страницы отображается иконкой с текстом.

•

Объединенные окна отображаются друг под другом, как единый элемент.

•

Картинка закрытия («крестик») на элементах панели отображается при наведении курсора мыши (кроме начальной страницы).

В том случае, если в основном окне приложения настроено отображение панели открытых, в рабочей области начальной страницы перестает отображаться кнопка для перехода к начальной странице.

3.4.2.6. История

перетаскивания, а также закрывать формы путем щелчка средней кнопки мыши (колеса) на элементе панели открытых.

«1С:Предприятие» сохраняет историю работы пользователя, которую можно применять для быстрого доступа к недавно открытым, созданным или отредактированным объектам информационной базы (документам, элементам справочников и др.). История содержит навигационные ссылки на элементы прикладного решения, упорядоченные по времени использования. История может отображать в виде формы истории и в виде панели истории.

Рис. 66. Форма истории

Элементы списка группируются по датам, когда использовалась та или иная форма прикладного решения. В рамках даты элементы упорядочены по времени использования, которое отображается справа от представления элемента.

История работы пользователя хранится в информационной базе. При этом в истории хранится только одна запись на один объект информационной базы (запись о последующем изменении замещает запись о предыдущем изменении данного объекта в течении дня). Хранится не более 400 записей для конкретного пользователя. Если число сохраненных элементов равно 400, то при добавлении новых элементов истории наиболее старые события истории удаляются.

Если список истории достаточно большой, то облегчить поиск в нем можно с помощью поиска. Для ввода поискового запроса предназначено специальное поле в верхней части формы, доступ к которой возможен с помощью сочетания клавиш Ctrl + F или просто начав набирать требуемый текст.

Если история отображается в панели основного окна (см. здесь), то такой список обладает следующими особенностями:

•

Отсутствует группировка по датам и отображение времени использования объекта прикладного решения.

3.4.2.7. Избранное

помещается в отведенном месте.

•

При вертикальном расположении панели в ней отображается не более 10 первых элементов.

•

При нажатии на заголовок панели (слово История) открывается форма истории.

Открыть форму истории можно с помощью команды панели инструментов или сочетания клавиш Ctrl + Shift + H.

Информация попадает в историю работы пользователя несколькими путями:

•

При выполнении интерактивных операций (открытие, создание, запись);

•

При отображении оповещения пользователя, в котором присутствует навигационная ссылка на какой-либо объект системы (в историю попадет объект, на который указывает навигационная ссылка). Подробнее о механизме оповещений см. здесь.

•

При программном изменении истории работы пользователя через свойство глобального контекста ИсторияРаботыПользователя.

Если выполняется программная запись или открытие объекта, то информация о таком объекте не попадет в историю.

Избранное содержит список навигационных ссылок на различные элементы прикладного решения, которые пользователь отметил для частого использования. Избранное может отображать в виде формы избранного и в виде панели избранного.

Рис. 67. Форма избранного

На рис.67 цифрами отмечены следующие элементы:

1. Признак важного элемента избранного.

2. Кнопка начала редактирования представления элемента избранного.

3. Кнопка удаления элемента избранного.

Среди добавленных элементов пользователь может выделить элементы, которые он использует чаще всего. Для этого необходимо нажать пиктограмму кнопки, расположенной слева от элемента. Такой элемент будет выделен полужирным шрифтом и при последующем открытии избранного будет расположен в верхней части панели и не будет изменяться своего положения. Также имеется возможность переименовать элемент или удалить его из списка.

Если список избранного достаточно большой, то облегчить нахождение в нем нужного элемента можно с помощью функции поиска. Для ввода поискового запроса предназначено специальное поле в верхней части формы, доступ к которой возможен с помощью сочетания клавиш Ctrl + F или просто начав набирать требуемый текст.

Если избранное отображается в панели основного окна (см. здесь), то такой список обладает

3.4.2.8. Обсуждения, видеозвонки, показ экрана

избранного.

•

При горизонтальном расположении панели в ней отображается столько элементов, сколько помещается в отведенном месте.

•

При вертикальном расположении панели в ней отображается не более 10 первых элементов.

•

При нажатии на заголовок панели (слово Избранное) открывается форма избранного.

Открыть форму избранного можно с помощью команды панели инструментов или сочетания клавиш Ctrl + Shift + B.

Избранное недоступно, если у пользователя отсутствует право СохранениеДанныхПользователя (см. здесь).

Если информационная база подключена к системе взаимодействия, то в заголовке основного окна приложения становится доступно меню, дающее доступ к возможностям этой системы.

Рис. 68. Меню системы взаимодействия

С помощью данного меню можно выполнить следующие действия:

•

Обсуждения ‑ открыть список существующих обсуждений.

•

Новое обсуждение ‑ начать новое групповое неконтекстное обсуждение.

•

Видеозвонок ‑ начать новый видеозвонок или видеоконференцию. Команда доступна в том случае, если возможность видеозвонков включена в используемом сервере системы взаимодействия.

•

История сообщений ‑ позволяет открыть форму поиска сообщений системы взаимодействия. В форме отображаются сообщения системы взаимодействия за заданную дату из неконтекстных обсуждений, в которых текущий пользователь является участником, а также из контекстных обсуждений, по которым текущий пользователь получал оповещения о непрочитанных сообщениях.

Сообщения выводятся сгруппированными по обсуждениям и отсортированными по возврастанию времени создания. Для сообщений доступны команды, доступные в обсуждениях. Для формирования списка команд вызывается обработчик, подключенный методом ПодключитьОбработчикФормированияКоманд().

В диалогии истории можно менять дату, за котороую отображаются сообщения, отбирать по автору сообщения и фрагменту содержимого сообщений.

•

Настройки ‑ открывается диалог настроек системы взаимодействия.

Когда выполняется показ экрана или идет видеозвонок, у меню меняется картинка. Кроме изменения картинки, в меню добавляются новые команды.

3.4.2.9. Центр оповещений

Рис. 69. Меню системы взаимодействия во время звонка

Команды, которые добавляются в данное меню, дублируют команды, которые присутствуют в окне видеозвонка.

Смотри также:

•

Система взаимодействия (см. здесь).

Центр оповещений позволяет получить доступ к необработанным оповещениям пользователя, для которых установлен статус Важное.

Рис. 70. Центр оповещений

Если у пользователя есть необработанные оповещения, то картинка центра оповещений отображается специальным образом (как на рис.70).

Нажатие картинки центра оповещений открывает список оповещений.

Рис. 71. Список оповещенй

Нажатие оповещения полностью аналогично нажатию по окну оповещения ‑ будет выполнено связанное действие (если оно установлено) и оповещение будет удалено из списка оповещений. Также можно удалить сразу все оповещения (команда Очистить оповещения), однако в этом случае не произойдет выполнения действий, связанных с оповещениями.

Если из центра оповещений удаляется сообщение системы взаимодействия, то обсуждение, соответствующее удаляемому оповещению, будет отмечено как прочитанное. Отметка прочитанного выполняется вне зависимости от того, каким способом удаляется сообщение: с помощью гиперссылки Очистить оповещения или кнопкой «крестик» конкретного сообщения.

3.4.2.10. Поле глобального поиска

можно перейти к списку обсуждений. Для этого в списке оповещений находится команда Обсуждения. Если информационная база не подключена к системе взаимодействия ‑ команда Обсуждения будет скрыта из списка оповещений.

Поле глобального поиска ‑ это универсальный интерфейс к следующим возможностям: поиск информации, калькулятор, инструмент перехода по ссылкам (навигационным и «обычным»). Возможности данного интерфейса могут быть модифицированы с помощью встроенного языка. Поле глобального поиска не доступно в том случае, если для главного окна приложения установлен режим, отличный от обычного (значение Обычный для свойства конфигурации Режим основного окна клиентского приложения).

По умолчанию поиск выполняется в следующих разделах:

•

Избранное.

•

История.

•

Меню функций.

•

Сообщения из неконтекстных обсуждений (включая обсуждения «один на один») и заголовков неконтекстных обсуждений системы взаимодействия.

•

В данных информационной базы (полнотекстовый поиск).

•

Справка прикладного решения и платформы.

Для доступа к полю глобального поиска используется комбинация клавиш Ctrl + Shift + F.

Рис. 72. Состояние по умолчанию

Результаты поиска отображаются в выпадающем списке. Если в поле глобального поиска указана ссылка на какой-либо сайт ‑ он будет открыт в браузере по умолчанию.

История поисковых запросов сохраняется в пользовательских настройках. История сохраняется при завершении сеанса, а также каждые 20 минут, если в ней были изменения. Поисковая строка помещается в историю в том случае, если пользователь выбрал один из результатов поиска по этой строке. История содержит не более 7 элементов.

Если результат поиска не дал результатов, то в выпадающем списке отображается сообщение вида <поисковая строка> не найдено.

В тонком клиенте в выпадающий список в качестве первого элемента добавляется строка, содержащаяся в буфере обмена:

•

Строка добавляется только в том случае, если в выпадающем списке отображаются результаты предыдущего поиска, или строка поиска содержит пустую строку.

•

Строка добавляется только в том случае, если со времени помещения ее в буфер обмена прошло не более 20 секунд.

•

Строка добавляется только в том случае, если ее длина меньше, чем 260 символов, и она содержит меньше 20 слов.

•

Строка добавляется только в том случае, если она отличается от текущей строки в поле поиска.

Система «1С:Предприятие» предоставляет возможность одновременного отображения на экране нескольких форм:

•

Имеется возможность «объединить» отображение двух форм так, чтобы обе формы отображались одновременно при переключении на любую из объединенных форм.

•

Имеется возможность закрепить одну форму на экране так, чтобы закрепленная форма всегда отображалась в рабочей области основного окна приложения.

Объединение и закрепление форм не предназначено для постоянной организации рабочего места, эти возможности не являются заменой настройки начальной страницы. После окончания сеанса все объединенные и закрепленные формы (если таковые были) будут «забыты».

Для управления одновременным отображением двух форм существует несколько способов:

1. Контекстное меню заголовка формы. Меню позволит закреплять/откреплять окно и объединять его с другими.

Рис. 73. Контекстное меню заголовка формы

2. Контекстное меню элемента в панели открытых (см. здесь). Для управления отображением форм предоставляется больше возможностей, чем предыдущий способ.

Рис. 74. Контекстное меню панели открытых

Ключевое отличие заключается в наличии команд Показать вместе с текущим …, которые

Если меню вызвано с помощью кнопки области системных команд или щелчком правой кнопкой мыши на заголовке формы, то в нем будут доступны только команды объединения с указанием второй формы (команды Показать вместе с другим…). Если меню вызвано щелчком правой кнопки мыши на элементе панели открытых, то в меню добавляются команды отображения формы совместно с текущей (команды Показать вместе с текущим…). Затем расположены команды, с помощью которых можно прикрепить форму к какому-либо краю рабочей области (Закрепить…). Следующей расположена команда отключения закрепления или совместного отображения.

Если используется команда Показать вместе с другим…, совместно будут отображаться текущая и выбранная из меню форма. Если используется команда Показать вместе с текущим…, совместно будут отображаться текущая форма и та форма, на представлении которой в панели открытых использована команда контекстного меню. Для упрощения процесса объединения рекомендуется использовать команду контекстного меню элементов панели открытых.

При объединении или закреплении действует общее правило: если форма, над которой выполняется команда объединения или закрепления, уже является объединенной или закрепленной, то вначале выполняется команда разъединения или открепления, а затем ‑ выбранная команда.

В качестве примера совместно отображаемых окон можно привести сравнение результатов построения отчета за разные периоды времени (или с разными настройками). Для совместного отображения двух форм необходимо выполнить следующее:

1. Открыть форму анализируемого отчета.

2. Этот же отчет открыть в другом окне (с помощью команды формы отчета или контекстного меню элемента меню функций).

3. Настроить и сформировать оба отчета.

4. Объединить две формы любым удобным способом.

При объединении следует помнить о следующих особенностях работы команды:

•

Команды кнопки Показать вместе/закрепить недоступны для начальной страницы, а также для формы, блокирующей окно владельца.

•

По команде Показать вместе с другим (вертикально) форма, выбранная из подменю, размещается справа. Если команда вызвана из контекстного меню не текущей формы, то происходит переключение на эту форму.

•

По команде Показать вместе с другим (горизонтально) форма, выбранная из подменю, размещается снизу. Если команда вызвана из контекстного меню не текущей формы, то происходит переключение на эту форму.

•

Между объединенными формами размещается разделитель так, что обе формы отображаются равной ширины (высоты).

•

Активизация любой из совместно отображаемых форм приводит к одновременному отображению обеих форм.

•

Открытие новой формы, выполненной из любой совместно отображаемой формы, ничем не отличается от такого открытия из обычной формы.

•

Кнопки Начальная страница, Вперед и Назад всегда отображаются у левой (верхней) объединенной формы.

•

Начальная страница недоступна для совместного отображения с какой-либо другой формой (кроме случая закрепления формы).

Рис. 75. Совместное отображение форм

Еще одним вариантом совместного отображения форм служит закрепление какой-либо формы так, что она становится всегда доступной пользователю и не перекрывается обычными формами. Такой вариант отображения можно применить, например, в тех случаях, когда есть некоторый источник данных, который надо постоянно иметь перед глазами (отчет или журнал документов) и все остальное, что отрывается при работе в прикладном решении, не должно закрывать этот источник.

Рис. 76. Прикрепление формы

Форма может быть прикреплена с любой стороны основного окна приложения. В примере на рис.76 форма списка заявок на расходование денежных средств прикреплена сверху. Остальные формы открываются в нижней части основного окна приложения.

Для того, чтобы закрепить какую-либо форму, необходимо выбрать команду Закрепить … (любым удобным способом). При закреплении формы, она занимает 40% рабочей области (значение по

3.4.2.12. Настройка панелей

3.4.2.12.1. Интерактивная

Положение разделителя (для каждой стороны основного окна приложения) запоминается в настройках основного окна приложения в системном хранилище настроек (см. здесь).

Интерфейс Такси позволяет выполнять настройку отображения и местоположения различных панелей в основном окне приложения. Для этого служит Редактор панелей. Для его вызова необходимо использовать команду меню Сервис и настройки ‑ Настройки ‑ Настройка панелей….

Рис. 77. Редактор панелей

Открыв редактор, пользователь имеет возможность перемещать мышью соответствующий элемент основного окна приложения (нижняя часть формы, выделенная серым фоном) в нужное место. Элементы следует перетаскивать внутрь светлых прямоугольников, выделенных серой линией. В этом случае панели будут находиться в разных строках или колонках. Можно перетащить элемент на уже существующий элемент. В этом случае элементы будут расположены в одной строке или колонке. В центре редактора отображается рабочая область начальной страницы. В нее невозможно поместить ни одну панель.

Рис. 78. Пример расположения панелей

Для удаления элемента, нужно перенести его со схемы обратно на элемент с серым фоном.

Кроме рабочей области основного окна приложения, остальные элементы могут быть убраны из основного окна приложения. Например, можно создать минималистический интерфейс прикладного решения, когда в основном окне присутствуют только рабочая область и панель открытых.

3.4.2.12.2. Программная

Копировать в буфер обмена Настройки = ХранилищеСистемныхНастроек.Загрузить("Общее/ НастройкиИнтерфейсаКлиентскогоПриложения");

Копировать в буфер обмена ХранилищеСистемныхНастроек.Сохранить("Общее/НастройкиИнтерфейсаКлиентскогоПриложения", "", Настройки);

Рис. 79. Минималистичный интерфейс

При нажатии кнопки Стандартные, интерфейс будет приведен в состояние, которые прикладной разработчик задал с помощью свойства конфигурации Интерфейс клиентского приложения (см. здесь).

Настройку отображения и местоположения различных панелей в основном окне приложения можно выполнить также из встроенного языка. Для выполнения настройки следует воспользоваться методами ПолучитьСостав() и УстановитьСостав() объекта НастройкиИнтерфейсаКлиентскогоПриложения. Таким образом, имеется возможность получить текущие настройки интерфейса клиентского приложение, модифицировать их нужным образом и установить обратно.

Настройки клиентского приложения хранятся в стандартном хранилище системных настроек. Ключ настроек ‑ Общее/НастройкиИнтерфейсаКлиентскогоПриложения (см. здесь). Чтобы изменить настройки необходимо в начале прочитать их из хранилища:

Затем настройки можно модифицировать и поместить обратно в хранилище:

После сохранения нового варианта настроек, необходимо выполнить перестроение интерфейса клиентского приложения с помощью вызова метода ОбновитьИнтерфейс().

Рассмотрим пример, в рамках которого необходимо при каждом начале работы системы принудительно устанавливать упрощенный вариант интерфейса клиентского приложения, который состоит только из одной панели (панели открытых), расположенной вдоль верхней границы основного окна приложения. Для реализации примера необходим общий модуль с установленными

Копировать в буфер обмена Процедура МинимальныйИнтерфейс() Экспорт Настройки = Новый НастройкиИнтерфейсаКлиентскогоПриложения; НастройкиСостава = Новый НастройкиСоставаИнтерфейсаКлиентскогоПриложения; НастройкиСостава.Верх.Добавить(Новый ЭлементНастройкиСоставаИнтерфейсаКлиентскогоПриложения("ПанельОткрытых")); Настройки.УстановитьСостав(НастройкиСостава); ХранилищеСистемныхНастроек.Сохранить("Общее/ НастройкиИнтерфейсаКлиентскогоПриложения", "", Настройки); КонецПроцедуры

Копировать в буфер обмена Процедура ПриНачалеРаботыСистемы() РаботаСИнтерфейсом.МинимальныйИнтерфейс(); ОбновитьИнтерфейс(); КонецПроцедуры

3.4.2.13. Завершение работы приложения

общем модуле необходимо поместить следующую процедуру:

В модуле управляемого приложения необходимо разместить обработчик события ПриНачалеРаботыСистемы:

В результате, вне зависимости от того, какие настройки осуществил пользователь в предыдущем сеансе работы, каждый новый сеанс будет начинаться с минимального интерфейса.

Завершение работы приложения возможно следующими способами:

1. С помощью команды Выход меню Сервис и настройки ‑ Файл.

2. С помощью гиперссылки с именем пользователя в главной панели основного окна приложения. Если в информационной базе не ведется список пользователей, то данная гиперссылка не отображается.

Рис. 80. Завершение работы приложения

При нажатии на гиперссылку с именем пользователя в главной панели отображается специальное меню, которое содержит значение свойства Полное имя для текущего пользователя (оно же отображается в главной панели), свойства Имя для текущего пользователя и гиперссылку Завершить работу. При завершении работы (с помощью меню Сервис и настройки или гиперссылки Завершить работу) выполняются следующие действия:

•

отмена аутентификации OpenID (OpenID logout) ‑ в том случае, если аутентификация выполнялась с помощью OpenID.

•

завершение работы клиентского приложения.

При завершении работы веб-клиента имеется возможность указать, какая страница (указать URL) будет открыта в веб-браузере после завершения работы. Для этого необходимо указать параметр Адрес перехода при окончании работы веб-клиента при публикации веб-клиента (описание параметра см. здесь). Поведение веб-клиента при завершении работы зависит от того, указан данный параметр или нет:

3.4.3. Вспомогательное окно

3.4.3.1. Общая информация

считаться, что используется схема HTTP.

•

URL не указан ‑ будет выполнен переход на специальную страницу, которая позволяет быстро выполнить повторный вход в приложение.

Рис. 81. Завершение работы веб-клиента

Переход, по указанному при публикации адресу (URL), будет выполняться в следующих случаях:

•

завершение работы при выполнении команд Закрыть, Выход, Завершить работу;

•

выполнение метода глобального контекста ЗавершитьРаботуСистемы() с параметром ПерезапуститьПриЗавершении, установленным в значение Ложь.

В остальных случаях выполняется переход по адресу about:blank или выполняется перезапуск веб-клиента.

Вспомогательное окно ‑ это окно приложения, в котором открываются формы, созданные в прикладном решении. Вспомогательное окно может быть открыто в рабочей области основного окна приложения и в отдельном окне. Режим открытия вспомогательного окна приложения зависит от значения свойства формы Режим открытия окна (см. здесь).

Закрытие вспомогательного окна не приводит к закрытию всего приложения. Вспомогательных окон может быть открыто сколько угодно, но для каждого объекта информационной базы (например, документа или элемента справочника) оно одно, т. е. нельзя открыть несколько окон для просмотра одного и того же документа, если это специально не предусмотрено в прикладном решении.

Рис. 82. Структура вспомогательного окна приложения

На рис.82 цифрами отмечены следующие элементы:

1. Кнопки управления формами. Кнопка перехода к начальной странице (первая кнопка слева) отображается на форме в том случае, если в настройках панелей выключено отображение панели открытых. Кнопки перехода к предыдущей/следующей форме предназначены для перехода по списку открытых окон. Кнопка перехода к следующей форме активизируется только после того, как хотя бы раз была нажата кнопка перехода к предыдущему окну.

2. Кнопка помещения формы в список избранного. Если форма отсутствует в списке избранного ‑ цвет звездочки соответствует фону формы. В противном случае звездочка будет окрашена в желтый цвет. Данная кнопка недоступна, если у пользователя отсутствует право СохранениеДанныхПользователя.

3. Панель навигации формы (см. здесь).

4. Командная панель формы (см. здесь).

5. Кнопка получения навигационной ссылки данной формы.

6. Кнопка закрытия формы.

7. Меню формы. Открыть меню формы можно с помощью сочетания клавиш Alt + ‑. На начальной странице отображается всегда одно меню формы (в правом верхнем углу начальной страницы). Меню формы отсутствует в диалогах, которые отображаются методами Вопрос(), ПоказатьВопрос(), ВопросАсинх(), Предупреждение(), ПоказатьПредупреждение() и ПредупреждениеАсинх().

8. Рабочая область формы.

Если в текущей форме есть видимые поля, содержимое которых можно распечатать, то в заголовке формы добавляются кнопки для выполнения команд Сохранить, Печать и Предварительный просмотр.

Рис. 83. Печать в заголовке вспомогательной формы

К видимым полям формы относятся следующие поля: табличный документ, текстовый документ, графическая схема, HTML-документ, форматированный документ, географическая схема,

3.4.3.2. Панель навигации формы

3.4.3.3. Командная панель формы

умолчанию при открытии вспомогательного окна и которая открывается при нажатии на Основное панели навигации формы. При нажатии на другие ссылки панели навигации формы будут открываться вспомогательные формы.

Смотри также:

•

Избранное (см. здесь).

•

Настройка панелей (см. здесь).

•

Права доступа (см. здесь).

•

Навигационные ссылки (см. здесь).

Панель навигации вспомогательного окна (панель навигации формы) позволяет просматривать различные сведения, логически связанные с данными, которые отображает основная форма окна.

В панели навигации могут располагаться команды трех групп: Важное, Перейти и См. также. Общее расположение команд следующее:

•

Первой командой всегда является команда Основное (выделена полужирным шрифтом), которая предназначена для открытия основной формы вспомогательного окна приложения.

•

Затем следуют команды группы Важное.

•

Затем следуют команд группы Перейти.

•

Последними следуют команды группы См. также. Если разработчик конфигурации определил собственные группы команд из категории Панель навигации формы, то команды из этих групп будут располагаться непосредственно перед командами группы См. также (команды этой группы всегда располагаются в самом конце панели навигации формы).

Если команды не помещаются на панели навигации, то последней командой панели будет выступать подменю Еще, в котором будут располагаться все команды, которые не поместились на отображаемой части панели навигации.

Перейти в панель навигации формы можно с помощью сочетания клавиш Alt + 4. При этом в самой панели навигации формы доступны следующие сочетания клавиш:

•

Переход на следующий/предыдущий элемент панели ‑ Tab/Shift + Tab или стрелка вправо/ стрелка влево. При достижении первого/последнего элемента панели перемещение на последний/первый элемент панели не выполняется;

•

Переход на первый элемент панели ‑ Home;

•

Переход на последний элемент панели ‑ End;

•

Выход из режима навигации по панели ‑ Esc.

Командная панель формы содержит команды, непосредственно связанные с объектом, который отображается в основной форме. Существуют стандартные группы Важное и Создать на основании; кроме того, на панели могут размещаться группы, созданные разработчиком. Каждая команда из группы Важное будет отображаться своей кнопкой на панели. Группа Создать на основании будет оформлена в виде подменю панели. Также в виде подменю будут оформлены все группы команд, созданные разработчиком. Команды формы, такие как Сохранить и закрыть, будут расположены перед командами группы Важное.

Если в какой-либо группе нет ни одной команды, то группа не показывается. Если разработчик конфигурации добавил в эту область собственные группы, то они располагаются после группы Создать на основании.

В том случае, если все команды командной панели не помещаются на форме, они помещаются в

3.4.3.4. Управление масштабом форм приложения

3.4.4. Невизуальная доступность интерфейса

3.4.4.1. Общая информация

3.4.4.2. Описание поведения элементов формы и элементов интерфейса

для формы установлена справочная информация.

Клиентское приложение предоставляет возможность управлять масштабом отображения форм на экране. Пользователь имеет возможность изменять масштаб одной или всех форм приложения в интервале от 50 до 400% относительно масштаба, заданного в конфигураторе. Для того чтобы вызвать диалог изменения масштаба, следует использовать команду Изменить масштаб меню формы.

Открывшийся диалог позволяет изменять масштаб с помощью ползунка, а также устанавливать указанный масштаб для все форм приложения (кнопка диалога Установить для всех). Диалог изменения масштаба можно перемещать в любое место экрана.

Рис. 84. Диалог изменения масштаба

При изменении масштаба следует учитывать, что масштаб, установленный в клиентском приложении, накладывается на масштаб, указанный в конфигураторе для каждой формы (свойство ФормаКлиентскогоПриложения.Масштаб). Таким образом, если в конфигураторе установлен масштаб 10%, а в клиентском приложении установлен масштаб 50%, то результирующий масштаб будет 5% от реального размера формы.

Возможность изменения масштаба будет недоступна, если установлен компактный режим отображения для всего приложения (с помощью объекта НастройкиКлиентскогоПриложения).

ПРИМЕЧАНИЕ. Изменение масштаба доступно только для управляемых форм.

Программы экранного доступа при своей работе оперируют следующими частями элемента формы: имя, подсказка, значение элемента формы, а также некоторыми другими, которые могут зависеть от программы экранного доступа. При получении элементом фокуса, программа экранного доступа проговаривается его имя и значение. Проговариваемые части элементов формы могут варьироваться в зависимости от используемой программы экранного доступа. Дополнительно озвучивается текущее состояние элемента управления: свернуто/развернуто (например, для выпадающего списка), установлено/сброшено (например, для поля флажка). У элементов озвучиваются подсказки. Исключением является озвучивание подсказки для кнопки и гиперссылки: если свойство Отображение подсказки установлено в значение, отличное от Всплывающая, то такая подсказка не будет распознана программой экранного доступа.

Панель разделов

Имя панели разделов озвучивается как Панель разделов на текущем языке локализации. Подсказка устанавливается из свойства Пояснение соответствующей подсистемы. Озвучивается текущий активный раздел (в том числе при переключении разделов).

Меню функций

группируются по группам. После выполнения поиска, выполняется группировка по подсистемам.

Панель навигации формы

Имя панели озвучивается как Панель навигации формы на текущем языке локализации. Имена элементов озвучиваются согласно ссылкам на панели навигации формы.

Кнопка и гиперссылка

Имя элемента управления устанавливается равным заголовку (автоматическому или переопределенному). Подсказка устанавливается из свойства Подсказка связанной команды или расширенной подсказки самой кнопки. Если свойство Отображение подсказки установлено в значение, отличное от Всплывающая, то такая подсказка не будет распознана программой экранного доступа.

Для кнопки будет распознано сочетание клавиш связанной команды, если оно задано.

Календарь

Для ячеек месяца устанавливаются имена, равные полному наименованию даты (с месяцем и числом). Если календарь отображает более 1 месяца, то все ячейки одного месяца группируются в группу с названием месяца и года.

Панель месяцев (если присутствует) озвучивается как группа переключателей, после выделения месяца происходит проговаривание выделенного месяца.

Гиперссылка сегодня … озвучивается как слово сегодня и текущая дата.

Поле флажка

Имя элемента управления устанавливается равным заголовку (автоматическому или переопределенному). Подсказка устанавливается из обычной или расширенной подсказки, вне зависимости от способа отображения.

Поле переключателя

Имя элемента управления устанавливается равным заголовку каждого элемента переключателя (автоматическому или переопределенному). Для первого элемента переключателя в группе имя предваряется заголовком реквизита, который редактируется переключателем.

Командная панель

Собственно командная панель не озвучивается, за исключением меню Сервис и настройки. Для кнопок командной панели озвучиваются имена, подсказки и горячие клавиши. Если кнопка служит для отображения выпадающего списка, то для нее озвучивается состояние списка: открыт или закрыт.

Если панель служит для отображения меню, и пункты меню имеют пометки (свойство Пометка), то для таких кнопок озвучивается состояние пометки.

Поле ввода

Имя элемента управления устанавливается равным заголовку (автоматическому или переопределенному). Если присутствует кнопка для отображения выпадающего списка, то для поля ввода озвучивается состояние списка: открыт или закрыт. Подсказка устанавливается из обычной или расширенной подсказки, вне зависимости от способа отображения. Если для поля установлено свойство Пароль, то значение такого поля не озвучивается.

Картинка

Имя элемента устанавливается равным подсказке без горячей клавиши. Подсказка устанавливается из обычной или расширенной подсказки, вне зависимости от способа отображения. Для картинки будет распознано сочетание клавиш, если оно задано.

Свертываемая группа

Имя элемента управления устанавливается равным заголовку (автоматическому или

3.4.4.3. Системные неуправляемые формы

Имя элемента управления устанавливается равным заголовку (автоматическому или переопределенному). Подсказка устанавливается из обычной или расширенной подсказки, вне зависимости от способа отображения.

Поле переключателя

Элементу управления соответствует группа полей переключателей, имя группировки на управляемых формах устанавливается равным заголовку (автоматическому или переопределенному). Имена полей переключателей соответствуют подписям. Активный элемент озвучивается словом выделено. Подсказка устанавливается из обычной или расширенной подсказки, вне зависимости от способа отображения.

Вкладки

Озвучивается текущая вкладка (включая переключение вкладок).

Таблица

Обрабатываются только те колонки, на которые может быть установлен фокус. Если таких колонок больше одной, то такой элемент формы считается таблицей, иначе ‑ списком. Если элемента формы считается списком, то его имя задается из названия колонки (если оно присутствует).

Ячейки таблицы озвучиваются в виде СодержимоеЯчейки ИмяСтолбца. Если озвучивается динамический список и текущий элемент помечен на удаление, то после содержимого ячейки дополнительно озвучивается текст Помечено на удаление на текущем языке локализации.

Если строка является группировкой (если таблица отображает дерево), то у всех её ячеек дополнительно озвучивается текущее состояние группировки: открыта или закрыта.

Табличный документ

Ячейки табличного документа озвучиваются в виде СодержимоеЯчейки Координаты, где координаты полностью соответствуют способу нумерации в системе Microsoft Excel’е:

•

Ячейке в первом столбце первой строки соответствует координата А1.

•

Столбцы кодируются буквами, строки ‑ числами.

Если строка является группировкой (при включенном режиме группировки), то у всех её ячеек дополнительно озвучивается текущее состояние группировки: открыта или закрыта.

Озвучиваются следующие неуправляемые формы:

•

Диалог настройки точности калькулятора,

•

Диалог выбора шрифта,

•

Диалог выбора цвета,

•

Диалог перехода по ссылке,

•

Диалог получения ссылки,

•

Диалог поиска в табличном документе,

•

Диалог поиска в текстовом документе,

•

Диалог доступа к информационной базе в тонком клиенте,

•

Диалог запуска в толстом клиенте,

•

Диалог запуска в тонком клиенте,

•

Диалог настройки диалога запуска в толстом клиенте.

•

Заголовки групп не озвучиваются.

•

Заголовки декораций (картинка) не озвучиваются.

•

Подсказки ввода (внутри поля ввода) не озвучиваются.

•

Допускается перемещение фокуса на неактивные элементы командных панелей, которые при этом не озвучиваются.