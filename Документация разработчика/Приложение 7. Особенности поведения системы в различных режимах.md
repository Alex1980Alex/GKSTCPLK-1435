Приложение 7. Особенности поведения системы в различных режимах

7.1. Особенности режима низкой скорости соединения

При функционировании в режиме низкой скорости соединения имеется ряд особенностей поведения системы, которые перечислены ниже:

•

Формы начальной страницы автоматически не отображаются. Для отображения рабочего стола следует нажать гиперссылку Показать рабочий стол, расположенную в левом верхнем углу рабочей области рабочего стола. В интерфейсе Такси начальная страница отображается сразу.

•

При создании формы происходит получение представлений ссылочных данных формы (не делается дополнительного вызова сервера для получения представлений после открытия формы).

•

При создании формы происходит получение значений данных формы «через точку», отображаемых элементами формы (не делается дополнительного вызова сервера для получения этих значений после открытия формы).

•

Оповещение сервера о закрытии формы (а также снятие блокировки с объекта, если он заблокирован) происходит в следующих случаях:

•

получение формы с сервера с помощью методов ОткрытьФорму(), ПолучитьФорму();

•

вызов серверных (контекстных и внеконтекстных) методов формы;

•

закрытие 20 форм;

•

система находится в состоянии ожидания более 20 секунд;

•

при выполнении следующих команд динамического списка:

•

удаление элемента;

•

пометка на удаление элемента;

•

проведение или отмена проведения документа;

•

перенос элемента справочника в другую группу.

•

Настройки сохраняются только в том случае, если они были изменены, и не сразу при закрытии формы, а отложено ‑ при следующем открытии любой формы, или при накоплении 20 отложено сохраняемых настроек, или по прошествии 20 минут (при бездействии системы), или при закрытии приложения.

•

Клиентское приложение не получает и не отображает картинки панели разделов.

•

В поле ввода не выполняется формирование списка выбора во время ожидания в процессе ввода по строке.

•

Для списков быстрого выбора и списков ввода по строке формируется специальный кеш данных. Данные кеша сохраняются на время сеанса. Для каждого типа объектов хранится не более 20 последних списков. В кеше может храниться не более 200 списков.

Каждые 20 минут кеш очищается от устаревших данных, относящихся к объектам, по которым отображаются изменения на стороне клиента в этом сеансе.

Повторная операция выбора или ввода по строке с теми же параметрами, без перехода в другое поле, приводит к новому запросу данных с сервера.

•

В режиме нормальной скорости соединения, поиск в динамическом списке (см. здесь) выполняется в процессе набора, со стандартной задержкой. В режиме медленной скорости соединения поиск выполняется после того, как строка поиска теряет фокус ввода.

7.2. Особенности режима совместимости

7.2.1. Предыдущие версии

Ряд механизмов системы имеют различное поведение, которое зависит от состояния свойства конфигурации Режим совместимости. В данном разделе перечислены такие различия в поведении.

•

Свойство конфигурации Основной режим запуска не может быть установлено в значение Управляемое приложение одновременно с установкой свойства конфигурации Режим совместимости в значение Версия 8.1. Проверка выполняется при обновлении конфигурации базы данных.

•

В режиме совместимости с версией 8.1 для объектов метаданных, которые могли принадлежать подсистемам, свойство Подсистемы доступно из встроенного языка. Также в режиме совместимости с версией 8.1 доступно свойство конфигурации Состав, которое заполняется ссылками на объекты, принадлежащие корневому элементу дерева подсистем. При выключении режима совместимости с версией 8.1 свойство конфигурации Состав будет очищено и станет недоступным в панели свойств конфигурации.

•

В обычных формах заполнение новых объектов происходит аналогично версии 8.1, т. е. обработчик заполнения вызывается только при вводе на основании и вызове метода Заполнить().

•

В объектах метаданных метод ПроверитьЗаполнение() становится недоступным, автоматическая проверка заполнения не выполняется.

•

Вызов справки из формы выполняется аналогично версии 8.1, т. е. выдается диалог выбора раздела справки, если для данной формы отсутствует справочная информация.

•

Таблицы журналов документов не содержат виртуальное поле Тип.

•

В конструкторе запроса в списке таблицы информационной базы отображаются таблицы и поля, на которые у текущего пользователя отсутствует право просмотра.

•

Система компоновки данных не проверяет интерактивные права на таблицы.

•

Картинки, выбранные из библиотеки картинок во внешний отчет или обработку, конвертируются во внешние картинки.

•

Доступно свойство Тип объектов ДоступноеПолеКомпоновкиДанных, ДоступноеПолеОтбораКомпоновкиДанных и ДоступныйПараметрКомпоновкиДанных.

•

Недоступно свойство ВерсияДанных для справочников, документов, планов видов характеристик, планов счетов, планов видов расчетов, планов обмена, бизнес-процессов и задач. Ограничения доступа к данным для поля ВерсияДанных проверяются на основе ограничений, установленных на поле Ссылка.

•

Установка прав ИнтерактивноеДобавление, ИнтерактивноеУдаление, ИнтерактивнаяПометкаУдаления, ИнтерактивноеСнятиеПометкиУдаления, ИнтерактивноеУдалениеПомеченных, ИнтерактивноеПроведение, ИнтерактивноеПроведениеНеОперативное, ИнтерактивнаяОтменаПроведения, ИнтерактивноеИзменениеПроведенных, ИнтерактивныйСтарт, ИнтерактивнаяАктивация, ИнтерактивноеВыполнение не связана с установкой права Редактирование.

•

При выгрузке файлов конфигурации модуль обычного приложения выгружается в файл Конфигурация.МодульПриложения.txt.

•

Форматирование значений типов Число, Дата и Булево происходит в соответствии с параметрами, заданными в региональных настройках информационной базы.

•

В диалоге выбора цвета веб-цвета упорядочены по английским названиям.

•

Свойствам табличного документа Вывод и ОриентацияСтраницы можно присваивать любые значения. При этом значения с неподходящим типом игнорируются.

ПланВидовХарактеристикОбъект, РегламентныеЗадания, СправочникОбъект, БизнесПроцессОбъект, ЗадачаОбъект, ПланВидовРасчетаОбъект, ПланОбменаОбъект, ПланСчетовОбъект, РегистрСведенийЗапись, ВыбратьИзСписка, ДобавитьЭлементСписка, НоваяГруппа, ИзменитьЭлементСписка, УстановитьПометкуУдаленияЭлементаСписка, УдалитьЭлементСпискаНепосредственно, УдалитьЭлементСписка.

•

Вид сравнения Содержит системы компоновки данных считает символы _, % и [ как специальные символы.

•

Операция языка запросов ВЫРАЗИТЬ возвращает строку фиксированной длины (с концевыми пробелами) при приведении к типу Строка.

•

Настройки параметров печати у отдельных табличных документов (объектов) не различаются и меняются одновременно (даже если совпадает ключ параметров печати).

•

Запрос, в котором указано ключевое слово РАЗЛИЧНЫЕ, а в предложении УПОРЯДОЧИТЬ ПО указано выражение, отсутствующее в списке выборки, считается корректным, и при исполнении такого запроса не будет выдана ошибка.

•

Поля остатка вложенного запроса во внешнем запросе не считаются полями остатка, и итоги по ним рассчитываются как по обычным полям.

•

Размер реквизита метаданных типа Строка фиксированного размера ограничен 1024 символами.

•

Для новых регистров накопления и бухгалтерии по умолчанию не устанавливается признак разделения итогов.

•

Изменяется представление полных имен модулей в технологической информации (технологический журнал, журнал регистрации и т. д.) ‑ в именах отсутствует конкретизация модуля.

•

Проверка значений блокировки на соответствие типу поля блокировки в элементах управляемых блокировок при выполнении метода Заблокировать() выполняется только для первого значения блокировки для каждого элемента.

•

В конструкторе формы и конструкторе макета при изменении синонима изменяется имя, а при изменении имени изменяется синоним, если после открытия конструктора не изменялись значения этих полей, созданные автоматически.

•

Редактор картинок не поддерживает работу с альфа-каналом. Не происходит преобразования картинок в формат PNG после завершения редактирования.

•

Выделяется заголовок активной колонки таблицы в форме.

•

Нажатие клавиш Tab или Shift + Tab в таблице формы, не содержащей строк или имеющей режим выделения Строка, приводит к активизации, соответственно, следующей или предыдущей колонки таблицы. Активизация следующего/предыдущего элемента формы выполняется только после достижения крайней колонки таблицы.

•

У табличного документа делаются доступными свойства ЦветФонаГруппировки, ЦветТекстаГруппировки, ЦветФонаЗаголовков, ЦветТекстаЗаголовков.

•

Если для элемента формы выбрана нестандартная рамка или цвет рамки, а также для элементов Кнопка, Поле ввода и Полоса регулирования выбран нестандартный цвет фона кнопки, то элемент формы отображается заданным цветом и рамка не имеет скруглений.

•

Не вызывается обработчик формы ПередЗакрытием, если модальная форма закрывается по тайм-ауту.

•

При выгрузке журнала регистрации в XML-формате, в поле UserName выводится полное имя пользователя.

•

Пользователь без административных прав может изменять свойство ЗапрещеноИзменятьПароль объекта ПользовательИнформационнойБазы.

устанавливается язык конфигурации по умолчанию.

•

Свойство Путь к данным пользовательского поля системы компоновки данных формируется на английском языке.

•

При открытии обычной формы записи регистра сведений значение свойства Период устанавливается равным текущей дате, только если это свойство не заполнено, и форма записи открывается из формы списка. В остальных случаях свойство не заполняется.

•

Изменяется состав таблиц, описывающих регламентные задания:

•

Используется режим совместимости ‑ все регламентные задания хранятся в одной таблице.

•

Не используется режим совместимости ‑ каждое регламентное задание хранится в отдельной таблице.

•

Изменяется состав таблиц, хранящих константы:

•

Используется режим совместимости ‑ для хранения констант используется одна таблица. Для регистрации изменений используется также одна таблица.

•

Не используется режим совместимости ‑ каждая константа хранится в собственной таблице. Регистрация изменений каждой константы также ведется в собственной таблице.

•

Изменяется состав таблиц, хранящих настройки регистров накопления:

•

Используется режим совместимости ‑ настройки регистров накопления хранятся в одной таблице.

•

Не используется режим совместимости ‑ настройки каждого регистра хранятся в собственной таблице.

•

Изменяется состав таблиц, хранящих настройки регистров бухгалтерии:

•

Используется режим совместимости ‑ настройки регистров бухгалтерии хранятся в одной таблице.

•

Не используется режим совместимости ‑ настройки каждого регистра хранятся в собственной таблице.

•

Изменилось включение справки по подсистеме в содержание справочной информации:

•

Используется режим совместимости ‑ справка по подсистеме отображалась в содержании справки в том случае, если у какого-либо из объектов, входящих в состав подсистемы, было установлено свойство Включать в содержание справки, а у самой подсистемы это свойство было выключено.

•

Не используется режим совместимости ‑ включение справки по подсистеме в содержание справки полностью зависит от состояния свойства подсистемы Включать в содержание справки и не зависит от этого свойства объектов, входящих в состав подсистемы.

•

Изменилось количество ресурсов, выводимых в диаграмму системой компоновки данных:

•

Используется режим совместимости ‑ в диаграмму выводится только один ресурс (первый).

•

Не используется режим совместимости ‑ в диаграмму выводится более одного ресурса.

•

Изменена возможность группировки по полям-ресурсам системы компоновки данных:

•

Используется режим совместимости ‑ группировка по полям-ресурсам не поддерживается.

•

Не используется режим совместимости ‑ возможна группировка по полям-ресурсам.

•

Изменена диагностика ключевых значений, идентифицирующих отображаемую строку, для динамического списка с установленным произвольным запросом:

•

Используется режим совместимости ‑ ошибки, возникающие при получении данных

ключевые значения, то отображается предупреждение и отображение данных становится невозможным.

•

Изменена обязательность параметра Период метода менеджера периодического регистра сведений Получить():

•

Используется режим совместимости ‑ параметр не является обязательным, и результат работы метода не определен.

•

Не используется режим совместимости ‑ параметр является обязательным.

•

Изменилось поведение системы при автоматическом определении размера элемента формы в том случае, если в свойствах элемента формы задан размер шрифта, отличный от размера шрифта по умолчанию:

•

Используется режим совместимости ‑ размер шрифта элемента не учитывается при расчете размера элемента формы.

•

Не используется режим совместимости ‑ размер шрифта элемента учитывается при определении размеров элемента. Изменение шрифта, выполняемое с помощью условного оформления формы или динамического списка, не оказывает влияния на размер элементов формы.

•

Изменено текстовое представление стандартного реквизита ВерсияДанных:

•

Используется режим совместимости ‑ преставление равно пустой строке.

•

Не используется режим совместимости ‑ представлением является строка из 12 пробелов.

•

При передаче значения от реквизита к элементу формы изменено обновление текста в поле ввода:

•

Используется режим совместимости ‑ обновление происходит всегда, кроме случая, когда в обработчике события АвтоПодбор происходит установка значения того же типа, что и тип имеющегося в поле ввода значения. Свойство ОбновлениеТекстаРедактирования игнорируется.

•

Не используется режим совместимости ‑ управление обновлением возможно с помощью свойства поля ввода ОбновлениеТекстаРедактирования и метода ОбновитьТекстРедактирования() расширения формы поля ввода.

•

При одновременном использовании методов УстановитьЗначение() и ИспользоватьИзИсточникаДанных() объекта ЭлементБлокировкиДанных:

•

Используется режим совместимости ‑ приоритетным является значение, установленное методом ИспользоватьИзИсточникаДанных().

•

Не используется режим совместимости ‑ вызывается исключение.

•

Изменены ключи объектов, предназначенных для хранения настроек командного интерфейса рабочего стола:

•

Используется режим совместимости:

•

Для настроек панели навигации используется ключ Подсистема.desktop/ПанельНавигации/НастройкиКомандногоИнтерфейса.

•

Для настроек панели действий используется ключ Подсистема.desktop/ПанельДействий/НастройкиКомандногоИнтерфейса.

•

Не используется режим совместимости:

•

Для настроек панели навигации используется ключ РабочийСтол/ПанельНавигации/НастройкиКомандногоИнтерфейса.

•

Для настроек панели действий используется ключ

которых необходимо проверить:

•

Используется режим совместимости ‑ реквизиты, отключенные с помощью функциональных опций, попадают в список проверяемых реквизитов.

•

Не используется режим совместимости ‑ реквизиты, отключенные с помощью функциональных опций, не попадают в список проверяемых реквизитов.

•

Чтение данных для таблиц управляемой формы, связанных с динамическими списками, выполняемое при открытии формы:

•

Используется режим совместимости ‑ выполняется чтение для всех таблиц, связанных с динамическими списками, в том числе и для тех, которые не видны пользователю.

•

Не используется режим совместимости ‑ чтение выполняется только для таблиц, которые отображаются пользователю при открытии формы.

•

Преобразование свойства Имя в источнике данных поля таблицы внешнего источника данных при помещении в SQL-запрос:

•

Используется режим совместимости ‑ значение свойства всегда заключается в двойные кавычки, вне зависимости от состава символов в имени.

•

Не используется режим совместимости ‑ значение свойства заключается в двойные кавычки только в том случае, если поле содержит спецсимволы и не заключено в одинарные кавычки.

•

Определение типа колонки для вычисляемого поля при выводе результата компоновки данных в коллекцию значений:

•

Используется режим совместимости ‑ тип колонки определяется автоматически, на основании выражения вычисляемого поля.

•

Не используется режим совместимости ‑ в качестве типа значения колонки устанавливается тип значения, указанный для вычисляемого поля. Если тип значения не указан, то тип определяется на основании выражения вычисляемого поля.

•

Вывод результатов компоновки данных в коллекцию значений, в случае, когда одно поле компоновки данных попадает в различные группировки:

•

Используется режим совместимости ‑ поля различных группировок, ссылающихся на одно поле компоновки данных, попадали в разные колонки коллекции.

•

Не используется режим совместимости ‑ поля различных группировок, ссылающихся на одно поле компоновки данных, попадали в разные колонки коллекции.

С версией 8.2.16

•

Формирование произвольного представления объекта данных:

•

Используется режим совместимости с версией 8.2.16 ‑ не поддерживается формирование произвольных представлений.

•

Не используется режим совместимости ‑ поддерживается формирование произвольных представлений.

•

Вывод дополнительных данных для иерархических записей:

•

Используется режим совместимости с версией 8.2.16 ‑ используются данные для иерархической записи.

•

Не используется режим совместимости ‑ используются данные для детальных записей.

С версией 8.3.2

•

Получение значения функциональной опции, для которой установлено получение в привилегированном режиме:

ошибка в том случае, если отсутствуют права доступа на объект, хранящий значение получаемой функциональной опции.

•

Не используется режим совместимости ‑ проверка прав не выполняется.

С версией 8.3.3

•

Использование свойства ОсновныеРоли:

•

Используется режим совместимости с версией 8.3.3 ‑ допускается включение в свойство только одной роли. При переключении в режим совместимости с версией 8.3.3 проверяется, что в свойстве ОсновныеРоли указана только одна роль.

•

Не используется режим совместимости ‑ допускается отмечать несколько ролей.

•

Доступные настройки динамического списка, отключенные с помощью функциональных опций:

•

Используется режим совместимости с версией 8.3.3 ‑ не удаляются из списка доступных настроек.

•

Не используется режим совместимости ‑ удаляются из списка доступных настроек. В некоторых случаях, в случае наличия настроек, ссылающихся на поля, отключенные с помощью функциональных опций, может диагностироваться ошибка Поле не обнаружено.

•

Автоматическое имя кнопки, связанной с командой Отмена расширения управляемой формы отчета, управляемой формы варианта отчета и управляемой формы настроек:

•

Используется режим совместимости с версией 8.3.3 ‑ для кнопки назначалось имя ФормаОтмена (FormCancel).

•

Не используется режим совместимости ‑ для кнопки назначается имя ФормаОтменитьРедактирование (FormCancelEdit).

С версией 8.3.4

•

Вычисление выражения системы компоновки данных:

•

Используется режим совместимости с версией 8.3.4 ‑ вычисление выражения выполняется с правами текущего пользователя.

•

Не используется режим совместимости ‑ при вычислении выражения система переключается в безопасный режим (см. здесь).

•

Перетаскивание в таблице управляемой формы:

•

Используется режим совместимости с версией 8.3.4 ‑ перетаскивание начинается из любой ячейки таблицы. Если ячейка, откуда начинается перетаскивание, доступная ‑ вначале происходит активизация ячейки и потом ‑ собственно перетаскивание. Если ячейка недоступная ‑ выполняется перетаскивание текущей активной ячейки таблицы управляемой формы.

•

Не используется режим совместимости ‑ перетаскивание можно осуществить только из доступной ячейки таблицы управляемой формы.

•

Генерация макета компоновки данных из предопределенных макетов:

•

Используется режим совместимости с версией 8.3.4 ‑ при генерации макета компоновки данных из предопределенных макетов полностью копируются выражения расшифровки.

•

Не используется режим совместимости ‑ при генерации макета компоновки данных из предопределенных макетов удаляются выражения расшифровки, которые содержат поля, недоступные по функциональным опциям.

•

Параметр Текст условного оформления системы компоновки данных, которое задается для области использования в заголовке полей:

группировки.

•

Не используется режим совместимости ‑ применяется к заголовкам полей группировки.

•

Поведение параметра вывода системы компоновки данных РасположениеГруппировок:

•

Используется режим совместимости с версией 8.3.4 ‑ общий итог группировки не выводился, если параметр системы компоновки данных РасположениеГруппировок, для выбранной группировки, имел значение Конец или Нет.

•

Не используется режим совместимости ‑ не влияет на вывод общих итогов.

•

Поведение генератора макета компоновки данных для вложенных отчетов:

•

Используется режим совместимости с версией 8.3.4 ‑ группировки родительского отчета не учитывались при выводе вложенных отчетов.

•

Не используется режим совместимости ‑ для макетов вложенных отчетов системы компоновки данных всегда генерирует свойство ВертикальныйУровень. К значению данного свойства прибавляется уровень родительского отчета, в котором находится вложенный отчет.

•

Добавление строк в таблицу формы:

•

Используется режим совместимости с версией 8.3.4 ‑ строка в таблице автоматически удалялась, если эта строка была добавлена при окончании редактирования предыдущей строки или при нажатии клавиши Стрелка вниз и в том случае, если после окончания добавления эта строка не изменялась интерактивно.

•

Не используется режим совместимости ‑ строка в таблице автоматически удаляется, если эта строка была добавлена при окончании редактирования предыдущей строки или при нажатии клавиши Стрелка вниз и в том случае, если после окончания добавления эта строка не изменялась ни из встроенного языка, ни интерактивно.

•

Ограничение максимальной длины значения свойства управляемой формы КлючНазначенияИспользования:

•

Используется режим совместимости с версией 8.3.4 ‑ ограничения длины не установлено.

•

Не используется режим совместимости ‑ длина значения для данного реквизита ограничена 128 символами.

•

Дополнительные параметры методов НайтиПомеченныеНаУдаление(), НайтиПоСсылкам(), УдалитьОбъекты():

•

Используется режим совместимости с версией 8.3.4 ‑ дополнительные параметры не используются. Их использование приведет к ошибке времени выполнения.

•

Не используется режим совместимости ‑ дополнительные параметры используются.

•

Автоматическое формирование ключа настройки отображения формы:

•

Используется режим совместимости с версией 8.3.4 ‑ ключ объекта формируется как <Полное имя формы>/НастройкиФормы.

•

Не используется режим совместимости ‑ ключ объекта формируется как <Полное имя формы>/<Ключ назначения использования>/НастройкиФормы. Подробнее см. здесь.

•

Доступные настройки отчетов и динамических списков:

•

Используется режим совместимости с версией 8.3.4 ‑ удаляются элементы настроек, которые содержат ссылки на недоступные поля, отключенные функциональными опциями, недоступные в соответствии с правами доступами.

•

Не используется режим совместимости ‑ удаляются элементы настроек, которые содержат ссылки на недоступные поля, отключенные функциональными опциями, недоступные в соответствии с правами доступами или связанные с более несуществующими полями схемы

7.2.2. С версией 8.3.5

ДинамическийСписок:

•

Используется режим совместимости с версией 8.3.4 и ранее ‑ в версии 8.2 основной реквизит формы типа <Вид>Объект не отключался даже если функциональной опцией (любой) был отключен соответствующий объект конфигурации.

В версии 8.3 основной реквизит формы типа <Вид>Объект отключался, если функциональной опцией был отключен соответствующий объект конфигурации. При этом анализировались все функциональные опции.

В предыдущих версиях «1С:Предприятия» основной реквизит типа ДинамическийСписок отключался в том случае, если функциональной опцией был отключен объект конфигурации, который указан в качестве основной таблицы динамического списка. При этом анализировались все функциональные опции.

•

Не используется режим совместимости ‑ основной реквизит управляемой формы типа <Вид>Объект (СправочникОбъект, ДокументОбъект и т. д.) будет отключен в том случае, если функциональной опцией отключен соответствующий объект конфигурации.

Основной реквизит управляемой формы типа ДинамическийСписок будет отключен в том случае, если функциональной опцией отключен объект конфигурации, который указан в качестве основной таблицы динамического списка.

В обоих случаях анализируются только те функциональные опции, которые не имеют параметров.

•

Кнопка управляемой формы, связанная с командой:

•

Используется режим совместимости с версией 8.3.5 ‑ всегда отображается доступной, вне зависимости от доступности команды.

•

Не используется режим совместимости ‑ кнопка становится недоступной, если для текущего пользователя команда, связанная с кнопкой, также недоступна.

•

Поведение управляемой формы при невозможности создать источник доступных настроек динамического списка:

•

Используется режим совместимости с версией 8.3.5 ‑ при невозможности создать источник доступных настроек компоновки данных для динамического списка, никаких ошибок не генерируется, и работа управляемой формы продолжается так, как будто источник данных динамического списка не содержит ни каких доступных полей. В результате все элементы формы, связанные с данными динамического списка, удаляются с управляемой формы.

•

Не используется режим совместимости ‑ при невозможности создать источник доступных настроек динамического списка генерируется исключение и создание формы не происходит.

•

Заполнение значений независимых и совместных разделителей при записи набора записей регистра сведений:

•

Используется режим совместимости с версией 8.3.5 ‑ значения разделителей, в состав которых входит регистр сведений, всегда заменяются на значения разделителей, установленных в текущем сеансе.

•

Не используется режим совместимости ‑ все значения по умолчанию для независимых и совместных разделителей, в состав которых входит регистр сведений, заменяются на значения разделителей, установленных в текущем сеансе.

Если значение разделителя не совпадает со значением по умолчанию для типа разделителя или не равно значению разделителя, установленного в текущем сеансе, то генерируется ошибка.

•

Поведение системы при работы с объектом xBase в случае возникновения ошибок работы с файлом .dbf:

формировались диалоговые окна.

•

Не используется режим совместимости ‑ в случае возникновения ошибки генерируется исключение.

•

Работа обработчиков ожидания (подключенных с помощью методов ПодключитьОбработчикОжидания()) во время временной блокировки (с помощью команды Временная блокировка или с помощью метода ЗаблокироватьРаботуПользователя()) интерфейса клиентского приложения:

•

Используется режим совместимости с версией 8.3.5 ‑ работа обработчиков не зависит от наличия временной блокировки клиентского приложения.

•

Не используется режим совместимости ‑ обработчики ожидания не вызываются.

•

Применение значения, указанного у включенного параметра условного оформления Текст:

•

Используется режим совместимости с версией 8.3.5 ‑ не применялось к полям предопределенных макетов группировок системы компоновки данных.

•

Не используется режим совместимости ‑ применяется к полям предопределенных макетов группировок и полей отчетов системы компоновки данных.

•

Поведение процессора вывода при выгрузке результата компоновки данных в коллекцию значений при наличии колонок с дублирующимися именами:

•

Используется режим совместимости с версией 8.3.5 ‑ уникальность колонок не проверялось, колонки создавались всегда.

•

Не используется режим совместимости ‑ проверяется уникальность имени колонки в коллекции. Колонки с повторяющимися именами повторно не создаются.

•

Выгрузка результата компоновки данных в коллекцию значений при наличии вложенных отчетов:

•

Используется режим совместимости с версией 8.3.5 ‑ выгрузка невозможна. При попытке выполнить выгрузку генерируется исключение.

•

Не используется режим совместимости ‑ выгрузка возможна.

•

Получение параметров прокси-сервера из переменных окружения в ОС Linux:

•

Используется режим совместимости с версией 8.3.5 ‑ переменные среды не использовались при создании объекта ИнтернетПрокси. Если при создании объектов HTTPСоединение и FTPСоединение не были указаны параметры прокси-сервера, при выполнении методов объектов производилась попытка определения параметров прокси-сервера из переменных окружения.

•

Не используется режим совместимости ‑ При создании объекта ИнтернетПрокси используются значения переменных окружения ОС http_proxy, https_proxy, ftp_proxy, ftps_proxy, all_proxy в тех случаях, если параметр конструктора ПроксиПоУмолчанию имеет значение Истина и система не может обнаружить файл inetcfg.xml.

Методы объектов HTTPСоединение и FTPСоединение не пытаются определить настройки прокси-сервера, а используются те настройки, которые находятся в свойстве Прокси соответствующего объекта.

•

Экспорт примечаний табличного документа в файлы формата Microsoft Excel 2007-2010:

•

Используется режим совместимости с версией 8.3.5 ‑ примечания выгружались как рисунки таблицы Excel.

•

Не используется режим совместимости ‑ примечания выгружаются как примечания таблицы Excel.

•

Получение полей детальных записей в агрегатных функциях для иерархических группировок:

набора данных, если в этом наборе данных доступны соответствующие поля.

•

Не используется режим совместимости ‑ используются поля детального набора данных. Для получения внутри агрегатных функций значения иерархической записи можно использовать функцию ВычислитьВыражение().

•

Подстановка параметра шаблона ограничения доступа, указанного в комментариях:

•

Используется режим совместимости с версией 8.3.5 ‑ заменяется на фактическое значение.

•

Не используется режим совместимости ‑ не заменяется.

•

Применение механизма условного оформления системы компоновки данных к полям группировок и детальных записей:

•

Используется режим совместимости с версией 8.3.5 ‑ при оформлении ячейки, в которую выводится поле родительской группировки, используются выражения полей, полученных для родительской группировки.

•

Не используется режим совместимости ‑ при оформлении ячейки, в которую выводится поле родительской группировки, используются выражения полей, полученных для текущей группировки.

•

Загрузка свойства расширения таблицы формы для динамического списка Период и свойства Отображение таблицы формы, связанной с динамическим списком, при открытии формы:

•

Используется режим совместимости с версией 8.3.5 ‑ свойство расширения таблицы формы для динамического списка Период загружается из пользовательских настроек до выполнения обработчика события управляемой формы ПриСозданииНаСервере.

Свойство Отображение таблицы формы, связанной с динамическим списком, загружается из настроек на клиенте при открытии формы.

•

Не используется режим совместимости ‑ загружаются из настроек одновременно с загрузкой пользовательских настроек динамического списка.

•

Поведение системы в том случае, если в обработчике события управляемой формы ПриОткрытии параметру Отказ установлено значение Истина:

•

Используется режим совместимости с версией 8.3.5 ‑ обработчик события ПриЗакрытии и оповещение, указанное в свойстве управляемой формы ОписаниеОповещенияОЗакрытии:

•

В тонком клиенте вызываются;

•

В веб-клиенте не вызываются.

•

Не используется режим совместимости ‑ не вызывается обработчик события ПриЗакрытии и оповещение, установленное в свойстве управляемой формы ОписаниеОповещенияОЗакрытии.

•

История выбора при вводе (см. здесь) для перечислений:

•

Используется режим совместимости с версией 8.3.5 ‑ история выбора не отображается и не сохраняется.

•

Не используется режим совместимости ‑ отображение и сохранение истории выбора управляется свойством ИсторияВыбораПриВводе.

•

Обращение (во встроенных механизмах платформы) к свойствам метода, написанного на встроенном языке, в том случае, если изменяется состав свойств объекта, переданного в качестве параметра этого метода:

•

Используется режим совместимости с версией 8.3.5 ‑ обращение выполняется по номеру свойства, определенного в момент начал вызова. Если номер свойства изменяется ‑ обращение не будет выполнено корректно.

•

Не используется режим совместимости ‑ обращение выполняется по имени свойства. Если

7.2.3. С версией 8.3.6

вызван метод Закрыть() для этой же формы:

•

Используется режим совместимости с версией 8.3.5 ‑ в веб-клиенте обработчик события и оповещение, установленное в свойстве ОписаниеОповещенияОЗакрытии, не будут вызваны. В тонком клиенте обработчик события и оповещение будут вызваны.

•

Не используется режим совместимости ‑ обработчик события и оповещение, установленное в свойстве ОписаниеОповещенияОЗакрытии, не будут вызваны в любом клиентском приложении.

•

Поведение метода Получить() для объекта типа ХранилищеЗначения:

•

Используется режим совместимости с версией 8.3.6 ‑ использование метода в тонком клиенте не приводит к генерации исключения. В этом случае возвращается значение Неопределено. Использование данного метода в веб-клиенте приводит к генерации исключения.

•

Не используется режим совместимости ‑ использование метода в тонком клиенте приводит к генерации исключения.

•

Поведение функции языка запросов ТипЗначения() с параметром типа Неопределено:

•

Используется режим совместимости с версией 8.3.6 ‑ возвращает NULL.

•

Не используется режим совместимости ‑ возвращает значение Неопределено.

•

Поведение функции ПравоДоступа() для проверки прав на графу журнала:

•

Используется режим совместимости с версией 8.3.6 ‑ не выполняется проверка прав на реквизиты, входящие в состав графы журнала. Графа всегда считалась доступной.

•

Не используется режим совместимости ‑ право доступа на графу «складывается» из прав доступа на входящие реквизиты. Графа считается недоступной, если недоступен хотя бы один реквизит, входящий в состав графы.

•

Определение первого дня недели:

•

Используется режим совместимости с версией 8.3.6 ‑ всегда понедельник.

•

Не используется режим совместимости ‑ настраивается с помощью свойства Первый день недели в диалоге региональных настроек информационной базы (подробнее см. здесь). Установленный первый день недели учитывается при работе различных механизмов системы (включая язык запросов, систему компоновки данных, представление календаря и т. д.).

•

Содержимое списка истории выбора:

•

Используется режим совместимости с версией 8.3.6 ‑ пять последних выбранных значений.

•

Не используется режим совместимости ‑ не более 7 значений, отбираемых по специальному алгоритму (см. здесь).

•

Тип значения объекта, хранящего историю выбора:

•

Используется режим совместимости с версией 8.3.6 ‑ объект Массив.

•

Не используется режим совместимости ‑ объект НастройкиИсторииВыбора.

•

Свойство Макет объекта ТабличныйДокумент:

•

Используется режим совместимости с версией 8.3.6 ‑ табличный документ с установленным свойством Макет редактируется в управляемой форме всегда на текущем языке.

•

Не используется режим совместимости ‑ табличный документ с установленным свойством Макет редактируется в управляемой форме на нескольких языка. Состав языков, на которых

•

Используется режим совместимости с версией 8.3.6 ‑ в тонком клиенте табличный документ всегда отображается и редактируется на текущем языке, в веб-клиенте используется свойство КодЯзыка. При редактировании табличного документа устанавливается только строка на текущем языке, строки на других языках теряются.

•

Не используется режим совместимости ‑ табличный документ отображается и редактируется на языке, который задан с помощью свойства КодЯзыка. Если значение свойства не задано ‑ отображение и редактирование выполняется на текущем языке. При редактировании изменяются строки только на указанном языке, строки на других языках не изменяются.

•

Вывод общих итогов в колонках таблицы системы компоновки данных:

•

Используется режим совместимости с версией 8.3.6 ‑ в шапке таблицы системы компоновки данных, в колонке итогов, не отображались заголовки полей ресурсов, расположенных в группах, в том случае если у колонок таблицы установлены макеты группировок.

•

Не используется режим совместимости ‑ в колонках общих итогов таблицы системы компоновки данных выводятся заголовки полей ресурсов, расположенных в группах, в случае если у колонок таблицы установлены макеты группировок.

•

Автоматическое заполнение доступных полей отбора при наличии вложенного запроса в наборе схемы компоновки данных:

•

Используется режим совместимости с версией 8.3.6 ‑ поля вложенного запроса не доступны для установки отбора (кроме параметров виртуальных таблиц).

•

Не используется режим совместимости ‑ поля из списка выборки вложенного запроса становятся доступными для отбора, кроме полей, которые в родительском запросе являются параметрами агрегатных функций.

•

Тип связи наборов данных в системе компоновки данных:

•

Используется режим совместимости с версией 8.3.6 ‑ заменяется на внутреннюю при использовании в отборе поля набора данных, с которым выполняется связь.

•

Не используется режим совместимости ‑ заменяется на внутреннюю в том случае, если применяется отбор, который содержит только поля набора данных, с которым выполняется связь. Условия, для которых не были сделаны внутренние связи, добавляются в свойство группировок ОтборЗаписей, в которых задействован хотя бы один из наборов данных, поля которых используются в условиях.

•

Поведение системы в том случае, если номер объекта (документа, элемента справочника, плана видов характеристик, бизнес-процесса или задачи) выделялся в транзакции и объект в этой транзакции не был записан:

•

Используется режим совместимости с версией 8.3.6 ‑ выделенный номер не использовался повторно в том случае, если установлен режим автонумерации Не освобождать автоматически.

•

Не используется режим совместимости ‑ он будет повторно использоваться даже в том случае, если установлен режим автонумерации Не освобождать автоматически, в том числе в ситуации, когда объект в транзакции не записывался.

Режим автонумерации Не освобождать автоматически действует только на номера, которые выданы вне транзакции. Т. е. если номер выдан вне транзакции и код не был использован (объект не был записан), то в режиме Не освобождать автоматически номер не будет переиспользован, а в режим Освобождать автоматически номер будет переиспользован.

•

Возможность помещения значения NULL в поля внешних источников данных (с точки зрения схемы базы данных):

•

Используется режим совместимости с версией 8.3.6 ‑ значение NULL может быть помещено во все поля внешних источников данных.

•

Не используется режим совместимости ‑ значение NULL может быть помещено в поля таблиц

7.2.4. С версией 8.3.7

поля таблиц кубов внешних источников данных.

•

Итоговое упорядочивание в том случае, если упорядочивание указано у поля набора данных схемы компоновки данных и в настройках компоновки данных:

•

Используется режим совместимости с версией 8.3.7 ‑ если у поля набора данных схемы компоновки данных указано выражение упорядочивания, и в настройках компоновки данных указано упорядочивание по этому полю с направлением упорядочивания По убыванию, то направление упорядочивания, указанное в выражении упорядочивания для данного поля, заменяется на обратное.

•

Не используется режим совместимости ‑ если у поля набора данных схемы компоновки данных указаны выражения упорядочивания, то при упорядочивании по данному полю направление упорядочивания всегда получается из выражения упорядочивания. Направление упорядочивания из настроек для этого поля игнорируется.

•

Использование файла cacert.pem для проверки сертификатов серверов при создании HTTPS/FTPS-соединения:

•

Используется режим совместимости с версией 8.3.7 ‑ используется файл cacert.pem.

•

Не используется режим совместимости ‑ файл cacert.pem не используется. Используется список корневых сертификатов используемой операционной системы.

•

Расширения, подключаемые при выполнении фонового задания:

•

Используется режим совместимости с версией 8.3.7 ‑ подключаются все расширения, зарегистрированные для текущей информационной базы.

•

Не используется режим совместимости ‑ подключаются те же расширения, что и в сеансе, из которого запускается фоновое задание.

•

Поведение метода ПакетОтображаемыхДокументов.Напечатать():

•

Используется режим совместимости с версией 8.3.7 ‑ каждый документ печатается в отдельном задании.

•

Не используется режим совместимости:

•

Для ОС Windows:

•

создается одно задание на принтер;

•

весь пакет выводится в один файл, имя которого запрашивается перед выводом.

•

Для ОС Linux:

•

если параметры печати всех документов в пакете совпадают ‑ поведение совпадает с поведением в ОС Windows;

•

если параметры различаются ‑ каждый документ печатается в отдельном задании принтера.

•

Максимальный размер данных, индексируемых полнотекстовым поиском, до первого вызова метода УстановитьМаксимальныйРазмерИндексируемыхДанных():

•

Используется режим совместимости с версией 8.3.7 ‑ ограничение не установлено.

•

Не используется режим совместимости ‑ 1 Мбайт.

•

Применение свойства условного оформления Выделять отрицательные системы компоновки данных:

•

Используется режим совместимости с версией 8.3.7 ‑ применяется только, если свойство

установлено в значение Истина и свойство Использование также установлено в значение Истина.

•

Расчет типа конструкции языка запросов ВЫБОР:

•

Используется режим совместимости с версией 8.3.7 ‑ при расчете игнорируются ветки ТОГДА, в которых находится константное выражение, принимающее значение NULL.

•

Не используется режим совместимости ‑ при расчете типа учитываются типы выражений из всех веток ТОГДА.

•

Тип результата операции деления (в языке запросов), где делителем является NULL:

•

Используется режим совместимости с версией 8.3.7 ‑ не трактуется как число и может выступать в качестве операнда в операции, где числовое значение недопустимо (например, операции And, Or, Not).

•

Не используется режим совместимости ‑ трактуется как число произвольной разрядности. Результат такой операции не может выступать в качестве операнда в операции, где числовое значение недопустимо (например, операции And, Or, Not).

•

Преобразование символов, отсутствующих в текущем шрифте, при экспорте табличного документа в формат PDF:

•

Используется режим совместимости с версией 8.3.7 ‑ символы, отсутствующие в текущем шрифте, отображаются потерянным символом («квадратиком»).

•

Не используется режим совместимости ‑ выполняется подбор шрифта для символов, отсутствующих в текущем шрифте (см. здесь).

•

Тип поля запроса и тип параметра запроса в схеме компоновки данных (в запросе вида ВЫБРАТЬ &Параметр КАК Поле):

•

Используется режим совместимости с версией 8.3.7 ‑ тип, указанный для параметра схемы компоновки данных, не влияет на тип поля запроса, в котором этот параметр используется.

•

Не используется режим совместимости ‑ тип, указанный для параметра в схеме компоновки данных, влияет на тип поля запроса, в котором используется этот параметр.

•

Применение элементов условного оформления Текст и Формат к полям макета диаграммы системы компоновки данных:

•

Используется режим совместимости с версией 8.3.7 ‑ только в случае, если ранее к этому полю не применялось условное оформление Формат.

•

Не используется режим совместимости ‑ вне зависимости от ранее установленного оформления Формат (в т. ч. и взятого из схемы компоновки данных). При этом элемент условного оформления Текст имеет более высокий приоритет, чем элемент условного оформления Формат.

•

Использование поля системного перечисления (ссылки на таблицу внешнего источника данных или уникального идентификатора) в операции запроса Сгруппировать По в том случае, если полученное значение не комбинируется с другими типами:

•

Используется режим совместимости с версией 8.3.7 ‑ в некоторых случаях группировка по такому полю может не выполняться.

•

Не используется режим совместимости ‑ группировка по такому полю выполняется всегда.

•

Доступность на стороне клиента (через свойство таблицы ТекущиеДанные и метода ДанныеСтроки()) данных динамического списка, на которые у текущего пользователя отсутствует право Просмотр и установлен флаг Использовать всегда:

•

Используется режим совместимости с версией 8.3.7 ‑ данные доступны и заполнены значениями по умолчанию соответствующих типов.

7.2.5. С версией 8.3.8

Просмотр на ключевое поле динамического списка:

•

Используется режим совместимости с версией 8.3.7 ‑ в большинстве случаев работает успешно.

•

Не используется режим совместимости ‑ приводит к ошибке нарушения прав доступа.

•

Доступность в источнике доступных настроек компоновки данных для динамического списка для отбора, сортировки и группировки следующих полей: дочерние поля полей, являющихся агрегатными функциями языка запросов; дочерние поля полей из других (внешних) источников данных; дочерние поля–характеристики полей табличных частей.

•

Используется режим совместимости с версией 8.3.7 ‑ доступны. При установке отбора на такие поля, динамический список мог работать неправильно: не отображать часть или все данные.

•

Не используется режим совместимости ‑ недоступны.

•

Поиск через строку поиска по ссылочным полям, являющимся агрегатными функциями языка запросов:

•

Используется режим совместимости с версией 8.3.7 ‑ поиск пытался выполняться. При этом могли выдаваться ошибки, а в случае, если ошибки не выдавались ‑ динамический список мог работать неправильно: не отображать часть или все данные.

•

Не используется режим совместимости ‑ не выполняется.

•

Доступность для отбора полей основной таблицы (и их дочерних полей) в динамическом списке с заданным произвольным запросом и указанной основной таблицей:

•

Используется режим совместимости с версией 8.3.7 ‑ для отбора были доступны только поля присутствующие в тексте запроса и стандартные поля (Ссылка и т. п.) основной таблицы. Если поместить в отбор недоступные поля с именами, совпадающими с именами полей из основной таблицы, то такой отбор мог примениться успешно.

•

Не используется режим совместимости ‑ не зависит от присутствия этих полей в тексте запроса динамического списка. Поля основной таблицы неявно добавляются в текст запроса, если они отсутствуют в тексте запроса.

Если в тексте запроса, установленном для динамического списка, уже есть поле, псевдоним которого совпадает с псевдонимом поля основной таблицы ‑ для отбора будет использоваться именно это поле, в независимости от того действительно оно является этим полем основной таблицы.

Поля, имеющие несколько вариантов пути (на разных вариантах встроенного языка), доступны только на текущем варианте встроенного языка.

•

Разделители пути для свойств Путь и ПолноеИмяФайла объекта ЭлементZIPФайла:

•

Используется режим совместимости с версией 8.3.8 ‑ разделителем пути всегда выступает символ «/».

•

Не используется режим совместимости ‑ используемый разделитель зависит от используемой операционной системы.

•

Поведение метода Послать() объекта ИнтернетПочта в случае наличия ошибок отправки почтовых сообщений по протоколу SMTP:

•

Используется режим совместимости с версией 8.3.8 ‑ вызывается исключение.

•

Не используется режим совместимости ‑ метод Послать() возвращает объект типа Сответствие, где описываются ошибки для каждого почтового адреса, для которого доставка окончилась неудачей.

параметра Объект передано значение, для которого нельзя получить навигационную ссылку:

•

Используется режим совместимости с версией 8.3.8 ‑ возвращается пустая строка.

•

Не используется режим совместимости ‑ генерируется исключение.

•

Наличие временных таблицы в менеджере временных таблиц после отката транзакции:

•

Используется режим совместимости с версией 8.3.8 ‑ удаляются все временные таблицы, которые были созданы в рамках транзакции. В файловом варианте невозможно в запросе использовать временные таблицы, которые были созданы этим запросом в рамках транзакции, после отката транзакции. При работе с другими СУБД недоступно использование временных таблиц после отката транзакции.

•

Не используется режим совместимости ‑ временные таблицы автоматически не удаляются. В файловом варианте базы данных, в запросах можно использовать временные таблицы, созданные в рамках транзакции и после отката транзакции. При работе с другими СУБД использование временных таблиц после отката транзакции недоступно.

•

Поведение различных вариантов СУБД, если в качестве параметра операции В языка запросов передать таблицу значений, в которой для колонки указан тип Строка с длиной более 1024 символов или ДвоичныеДанные размером более 2048 байт:

•

Используется режим совместимости с версией 8.3.8 ‑ возможность исполнения такого запроса зависит от используемой СУБД.

•

Не используется режим совместимости ‑ во время исполнения такого запроса будет сгенерировано исключение.

•

Поведение различных вариантов СУБД, если в качестве параметра операции В языка запросов передать таблицу значений, в которой для колонки указан тип Строка с длиной более 1024 символов или ДвоичныеДанные размером более 2048 байт:

•

Используется режим совместимости с версией 8.3.8 ‑ возможность исполнения такого запроса зависит от используемой СУБД.

•

Не используется режим совместимости ‑ во время исполнения такого запроса будет сгенерировано исключение.

•

Формирование псевдонимов в конструкторе запроса (в конфигураторе и толстом клиенте) и объекте СхемаЗапроса (в толстом клиенте):

•

Используется режим совместимости с версией 8.3.8 ‑ формируются псевдонимы только для полей-выражений и полей, по которым выполняется упорядочивание и расчет итогов.

•

Не используется режим совместимости ‑ формируются псевдонимы для всех полей первого запроса (среди объединений) для каждого запроса пакета.

•

Формирование имен параметров компоновщиком макета компоновки данных:

•

Используется режим совместимости с версией 8.3.8 ‑ может присвоить параметрам имена, которые уже существуют в схеме компоновки данных.

•

Не используется режим совместимости ‑ не присваивает параметрам имена, которые уже существуют в схеме компоновки данных.

•

Установка видимости и имени группы при автоматической группировке строк/колонок в табличном документе:

•

Используется режим совместимости с версией 8.3.8 ‑ проставляется видимости и имя группы от области, которая выводилась внутри группировки.

•

Не используется режим совместимости ‑ проставляется видимость и имя группы от области, которая выводилась в области заголовка группировки.

•

Значение по умолчанию свойства ДвусторонняяПечать для табличного документа,

•

Не используется режим совместимости или для режима совместимости с версией 8.2.16 и ниже ‑ значение ИспользоватьНастройкиПринтера.

•

Запись или чтение HTML-документа, который содержит внутри себя строку <?xml:

•

Используется режим совместимости с версией 8.3.8 ‑ приведет к ошибке.

•

Не используется режим совместимости ‑ будет выполнена без ошибок.

•

Генерация параметров в макете схемы компоновки данных, для параметров, имена которых могут быть на русском и английском языках:

•

Используется режим совместимости с версией 8.3.8 ‑ всегда формировался параметр с именем на английском языке.

•

Не используется режим совместимости ‑ имена формируются на языке, который соответствует текущему варианту встроенного языка.

•

Поведение при выполнении следующего сценария: в поле ввода вводится какой-либо текст, не выходя из поля ввода нажимается гиперссылка, расположенная в декорации, в обработчике нажатия гиперссылки декорации выполняется контекстный серверный вызов:

•

Используется режим совместимости с версией 8.3.8:

•

в тонком и толстом клиентских приложениях:

•

для декорации вызывается обработчик события ОбработкаНавигационнойСсылки;

•

поле ввода отображает значение, которое было до ввода текста.

•

в веб-клиенте:

•

для декорации вызывается обработчик события ОбработкаНавигационнойСсылки;

•

поле ввода отображает введенный текст.

•

Не используется режим совместимости:

•

для поля ввода вызывается обработчик события ПриИзменении;

•

для декорации вызывается обработчик события ОбработкаНавигационнойСсылки;

•

поле ввода отображает значение, соответствующее введенному тексту.

•

Выполнение компоновки макета системы компоновки данных, получение полей и применение отборов к полям, полученным «через точку» от полей, содержащих агрегатные функции, которые получаются из запроса:

•

Используется режим совместимости с версией 8.3.8 ‑ выполняется в самом запросе. При этом может быть получен некорректный результат или сформированный запрос может выдавать ошибку при исполнении.

•

Не используется режим совместимости ‑ выполняется с помощью дополнительных наборов данных, автоматически генерируемых компоновщиком макета.

•

Экспорт табличного документа в форматы XLS (Microsoft Excel 97), Microsoft Office OpenXML (Microsoft Excel 2007‑ 2010), содержащего ячейки с многострочным текстом, который выровнен по центру ячейки и не умещается в ячейке целиком:

•

Используется режим совместимости с версией 8.3.8 ‑ не создается дополнительных объединений ячеек.

•

Не используется режим совместимости ‑ добавляются дополнительные объединения ячеек. Объединение выполняется по горизонтали, в обе стороны от оригинальной ячейки, на равные расстояния, достаточные для размещения всего текста оригинальной ячейки. Колонки, в которые «попадают» левая и правая границы прямоугольника, занимаемого

7.2.6. С версией 8.3.9

Office OpenXML (Microsoft Word 2007 и старше):

•

Используется режим совместимости с версией 8.3.8 ‑ не экспортируются картинки в ячейках табличного документа.

•

Не используется режим совместимости ‑ экспортируются картинки в ячейках табличного документа. При этом имеются следующие ограничения:

•

В ячейках с картинками поддерживается только горизонтальное направление текста.

•

Если направление текста в такой ячейке табличного документа отлично от горизонтального, при экспорте он будет выведен горизонтально.

•

В динамическом списке автоматическое заполнение доступных полей:

•

Используется режим совместимости с версией 8.3.7 ‑ для любого запроса автоматическое заполнение доступных полей включено.

•

Не используется режим совместимости ‑ автоматическое заполнение доступных полей можно отключать с помощью свойства АвтоЗаполнениеДоступныхПолей.

•

Доступность содержимого папки Системные поля для использования в качестве полей выбора в динамическом списке:

•

Используется режим совместимости с версией 8.3.9 ‑ содержимое папки доступно для использования в качестве полей выбора.

•

Не используется режим совместимости ‑ недоступно для использования в качестве полей выбора.

•

Настройка полей группировки динамического списка, для которого не указана основная таблица или в основной таблице отсутствует поле ключа, которое может использовать динамический список:

•

Используется режим совместимости с версией 8.3.9 ‑ поддерживается, но приводит к ошибкам при получении данных.

•

Не используется режим совместимости ‑ не поддерживается.

•

Доступность свойств ДинамическоеСчитываниеДанных, ОсновнаяТаблица, ПроизвольныйЗапрос и ТекстЗапроса для объекта ДинамическийСписок в толстом клиенте:

•

Используется режим совместимости с версией 8.3.9 ‑ доступны в толстом клиенте. Однако их изменение не приводит к каким-либо изменениям в работе динамического списка.

•

Не используется режим совместимости ‑ недоступны в толстом клиенте.

•

Присвоение значения реквизиту управляемой формы типа ДинамическийСписок:

•

Используется режим совместимости с версией 8.3.9 ‑ присвоение поддерживается. При этом дальнейшее поведение системы не определено.

•

Не используется режим совместимости ‑ не поддерживается.

•

Передача значения типа ДинамическийСписок в параметрах или возвращаемом значении клиент-серверного вызова:

•

Используется режим совместимости с версией 8.3.9 ‑ передача возможна. При этом дальнейшее поведение системы не определено.

•

Не используется режим совместимости ‑ не поддерживается.

•

Получение представлений для значений ссылочных типов, которые не отображаются на форме или связаны с фактически невидимыми элементами формы:

значений ссылочного типа, которые передаются на сторону клиентского приложения.

•

Не используется режим совместимости ‑ возможность получения представлений для таких полей регулируется свойством ПолучениеПредставленийДляНевидимыхПолей реквизита управляемой формы типа ДинамическийСписок.

•

Импорт листа табличного документа из файла формата Microsoft Office OpenXML (Microsoft Excel 2007 и старше), для которого отсутствует имя:

•

Используется режим совместимости с версией 8.3.9 ‑ такой лист не будет загружен.

•

Не используется режим совместимости ‑ такой лист будет успешно загружен в область с автоматически сгенерированным именем.

•

Преобразование текста в ячейке в число при экспорте табличного документа в форматы XLS (Microsoft Excel 97-2003) и Microsoft Office OpenXML (Microsoft Excel 2007‑ 2010):

•

Используется режим совместимости с версией 8.3.9 ‑ текст в ячейке преобразуется в число при любом горизонтальном выравнивание содержимого ячейки.

•

Не используется режим совместимости ‑ только в том случае, если в ячейке установлено горизонтальное выравнивание вправо. В противном случае содержимое ячейки сохраняется в виде текста.

•

Наименование XML-компонента общих строк при экспорте табличного документа в файл формата Microsoft Office OpenXML (Microsoft Excel 2007‑ 2010):

•

Используется режим совместимости с версией 8.3.9 ‑ XML-компонент общих строк называется SharedStrings.xml (начинается с заглавной буквы).

•

Не используется режим совместимости ‑ XML-компонент общих строк называется sharedStrings.xml (начинается со строчной буквы).

•

Отображение в легенде маркера линии тренда при формировании диаграммы:

•

Используется режим совместимости с версией 8.3.9 ‑ в легенде диаграммы всегда выводился квадратный маркер того цвета, которым в диаграмме выводится соответствующая серия.

•

Не используется режим совместимости ‑ информация о серии (маркер) в легенде диаграммы зависит от того, каким образом (цвет линии, стиль линии, маркер) отображается в диаграмме эта серия.

•

Выбор маркера серии диаграммы (свойство СерияДиаграммы.Маркер):

•

Используется режим совместимости с версией 8.3.9 ‑ маркер выбирается на основании номера серии из следующего списка: Квадрат, Круг или Ромб.

•

Не используется режим совместимости ‑ свойство принимает значение Авто. Выбор маркера осуществляется автоматически.

•

Настройка размера страницы по умолчанию при печати документов или выводе в формат PDF:

•

Используется режим совместимости с версией 8.3.9 ‑ используется формат А4.

•

Не используется режим совместимости ‑ для настройки размера бумаги по умолчанию используется объект НастройкиПечати. В веб-клиенте используется настройка Размер страницы по умолчанию диалога настроек параметров.

•

Если серийный номер сертификата криптографии начинается с установленного старшего бита, то:

•

Используется режим совместимости с версией 8.3.8 ‑ серийный номер не дополняется ведущим нулевым байтом.

•

Не используется режим совместимости ‑ к серийному номеру добавляется ведущий нулевой

форме, событие ПередСворачиванием:

•

Используется режим совместимости с версией 8.3.9 ‑ формируется только для элементов дерева верхнего уровня.

•

Не используется режим совместимости ‑ формируется для каждого сворачиваемого узла по всей иерархии.

•

Вызов метода ПравоДоступа() в случае, если проверяемое право доступа не может быть применено к объекту метаданных:

•

Используется режим совместимости с версией 8.3.9 ‑ возвращает значением Истина.

•

Не используется режим совместимости ‑ генерирует исключение.

•

Значение параметра HTTPМетод при вызове метода HTTPСоединение.ВызватьHTTPМетод():

•

Используется режим совместимости с версией 8.3.9 ‑ может принимать любое значение.

•

Не используется режим совместимости ‑ значение должно соответствовать стандарту RFC 7230 (https://tools.ietf.org/html/rfc7230).

•

При работе с запросом, если в выражении, следующем за именем временной таблицы, отсутствует имя поля:

•

Используется режим совместимости с версией 8.3.9 ‑ в качестве имени поля используется имя первого поля временной таблицы.

•

Не используется режим совместимости ‑ при анализе запроса генерируется ошибка.

•

Видимость параметров схемы компоновки данных, тип которых содержит только типы, отключенные функциональным опциям:

•

Используется режим совместимости с версией 8.3.9 ‑ функциональные опции не оказывают влияния на видимость параметров компоновки данных. При загрузке варианта отчета у таких параметров данных не снимается флаг использования. Для таких параметров метод КомпоновщикНастроекКомпоновкиДанных.Восстановить() не изменяет свойство Использование.

•

Не используется режим совместимости ‑ такие параметры создаются с отключенной видимостью. В результате эти параметры не будут доступны для редактирования пользователем, однако по-прежнему будут доступны из встроенного языка. Кроме того, такие параметры не добавляются в список доступных полей–параметров. При загрузке варианта отчета у таких параметров снимается флаг использования. Для таких параметров метод КомпоновщикНастроекКомпоновкиДанных.Восстановить() отключает свойство Использование.

•

Возможность установки дробных значений для свойств Начало и Конец объекта ПолосаИзмерительнойДиаграммы:

•

Используется режим совместимости с версией 8.3.9 ‑ свойства могут принимать только целые значения. При попытке установки дробного значения, реально установленное значение округлялось до целого.

•

Не используется режим совместимости ‑ свойства могут принимать дробные значения.

•

Установка цветов серий/точек при десериализации диаграммы, если свойства Настройка серий или Настройка точек установлены в значение Ложь:

•

Используется режим совместимости с версией 8.3.9 ‑ выполняется из палитры по умолчанию.

•

Не используется режим совместимости ‑ выполняется после загрузки из палитры цветов.

•

Действия, выполняемые в том случае, если при интерактивном редактировании диаграммы значение флажка Настройка серий или Настройка точек будет установлено в значение Ложь:

по умолчанию для оформительских параметров серий и точек.

•

Не используется режим совместимости ‑ оформительские параметры серий или точек будут установлены в значения по умолчанию, диаграмма будет перерисована.

•

Источник цветов серий/точек в тонком клиенте, если у диаграммы выключены флажки Настройка серий и Настройка точек:

•

Используется режим совместимости с версией 8.3.9 ‑ палитра по умолчанию.

•

Не используется режим совместимости ‑ установленная палитра.

•

Попытка изменить какие-либо свойства серии или точки с помощью встроенного языка, если у диаграммы установлены в значение Ложь свойства Настройка серий или Настройка точек:

•

Используется режим совместимости с версией 8.3.9 ‑ исключение не генерировалось. Значение устанавливалось в серию или точку.

•

Не используется режим совместимости ‑ генерируется исключение.

•

Макеты ресурсов, создаваемых на пересечении с соответствующими предопределенными макетами заголовков группировок:

•

Используется режим совместимости с версией 8.3.9 ‑ содержат ресурсы.

•

Не используется режим совместимости ‑ создаются пустыми.

•

Цвет текста всех областей макета (кроме заголовка отчета) в макете оформления компоновки данных «Основной», используемом в интерфейсе Такси:

•

Используется режим совместимости с версией 8.3.9 ‑ в качестве цвета текста используется серый цвет.

•

Не используется режим совместимости ‑ в качестве цвета текста используется значение Авто.

•

Поведение таблицы управляемой формы в том случае, если область фиксации таблицы больше, чем видимая область таблицы:

•

Используется режим совместимости с версией 8.3.9 ‑ прокрутка таблицы становилась невозможной.

•

Не используется режим совместимости ‑ выполняется автоматическое отключение фиксации колонок.

•

Обработка шаблона в ячейке табличного документа:

•

Используется режим совместимости с версией 8.3.9 ‑ при обработке шаблона в ячейке табличного документа, в результат не попадает содержимое шаблона, расположенного между секцией [] и экранированным символом [.

•

Не используется режим совместимости ‑ при обработке шаблона в ячейке табличного документа, из результата не удаляется содержимое от последней секции [] и до экранированного символа [.

•

Поведение поля ввода, отображающего данные типа Число или Строка, в режиме выбора из списка:

•

Используется режим совместимости с версией 8.3.9 ‑ при редактировании значения типа Число, квалификаторы числа, настроенные для реквизита, продолжают влиять на формат редактируемого текста.

•

Не используется режим совместимости ‑ снимаются ограничения на длину вводимой строки, а поле ввода, отображающее такие данные, будет автоматически растягиваться по ширине.

•

Цвет текста при отображении табличного документа в интерфейсе Такси:

для отображения на экране и для печати) используется черный цвет.

•

Не используется режим совместимости ‑ в качестве цвета текста Авто используется:

•

при отображении на экране: стилевой цвет текста редактирования;

•

при печати: черный цвет.

•

Представление операционной системы Windows, начиная с версии Vista и далее, в свойстве СистемнаяИнформация.ВерсияОС:

•

Используется режим совместимости с версией 8.3.9 ‑ текст свойства не содержит пользовательского представления названия операционной системы.

•

Не используется режим совместимости ‑ текст свойства содержит пользовательское представление названия операционной системы в дополнение к технической информации (версия, номер сборки и т. д.).

•

Проверка соответствия события подписки и типа источника подписки:

•

Используется режим совместимости с версией 8.3.9 ‑ для подписок на события проверка соответствия события и типа источника не выполняется.

•

Не используется режим совместимости ‑ проверка выполняется перед сохранением конфигурации. В случае если событие не соответствует типу источника ‑ формируется ошибка и конфигурация не сохраняется.

•

Добавление условия отбора в запрос с помощью конструктора объекта ВыражениеСхемыЗапроса:

•

Используется режим совместимости с версией 8.3.9 ‑ выражение отбора добавляется в некорректном виде.

•

Не используется режим совместимости ‑ выражение отбора добавляется без преобразований.

•

Поведение системы при двойном нажатии левой кнопки мыши в ячейке таблицы управляемой формы том случае, если в этой ячейке отображается гиперссылка и для ячейки установлен режим Только просмотр:

•

Используется режим совместимости с версией 8.3.9 ‑ генерация двух событий таблицы Выбор.

•

Не используется режим совместимости ‑ генерация одного события таблицы Выбор.

•

Использование системой компоновки данных полей измерений в параметрах виртуальных таблиц регистров сведений при автоматическом заполнении доступных полей набора данных-запроса:

•

Используется режим совместимости с версией 8.3.9 ‑ поля измерений не доступны для отбора через параметры виртуальной таблицы.

•

Не используется режим совместимости ‑ поля измерений доступны для отбора через параметры виртуальной таблицы.

•

Расположение команд перехода к связанным объектам для форм элемента и группы иерархических справочников и планов видов характеристик:

•

Используется режим совместимости с версией 8.3.9 ‑ все команды перехода к подчиненным справочникам располагаются в панели навигации формы элемента. В панели навигации формы группы команды перехода к подчиненным справочникам не размещаются.

Для иерархического справочника или плана видов характеристик все команды перехода к регистрам сведений располагаются в панели навигации формы элемента. В панели навигации формы группы команды перехода к регистрам сведений не размещаются.

иерархического справочника или плана видов характеристик размещаются:

•

Команды перехода к подчиненным справочникам, для которых установлено подчинение элементам или элементам и группам.

•

Команды перехода к регистрам сведений, тип ведущего измерения которых совпадает с типом справочника или плана видов характеристик и у которых для этого измерения свойство Выбор групп и элементов установлено в Элементы или Группы и элементы.

В панели навигации формы группы иерархического справочника или плана видов характеристик размещаются:

•

Команды перехода к подчиненным справочникам, для которых установлено подчинение группам или элементам и группам.

•

Команды перехода к регистрам сведений, тип ведущего измерения которых совпадает с типом справочника или плана видов характеристик и у которых для этого измерения свойство Выбор групп и элементов установлено в Группы или Группы и элементы.

•

Наличие перечислений в диалоге выбора типа:

•

Используется режим совместимости с версией 8.3.9 ‑ в тонком и в толстом клиентских приложениях, работающих в режиме управляемого приложения, диалог выбора типа и диалог описания типов не содержит перечислений. В веб-клиенте в этих диалогах перечисления присутствуют.

•

Не используется режим совместимости ‑ во всех клиентских приложениях, работающих в режиме управляемого приложения, в диалоге выбора типов и в диалоге описания типов присутствуют перечисления.

•

Поведение системы при попытке создания из встроенного языка группу управляемой формы с некорректным значением свойства Вид:

•

Используется режим совместимости с версией 8.3.9 ‑ поведение системы не определено (включая возможность аварийного завершения работы).

•

Не используется режим совместимости ‑ генерируется исключение.

•

Управление высотой таблицы управляемой формы:

•

Используется режим совместимости с версией 8.3.9 ‑ возможно указание только высоты таблицы в условных единицах. Более точное управление высотой таблицы формы доступно только в мобильной платформе.

•

Не используется режим совместимости ‑ возможно управление высотой таблицы управляемой формы, которая отображает данные, отличные от динамического списка. Используется свойство ВариантУправленияВысотойЭлемента.

•

Поведение формы в том случае, если в обработчике события ПриОткрытии параметр Отказ установлен в значение Истина:

•

Используется режим совместимости с версией 8.3.9 ‑ в некоторых сценариях, после окончания выполнения обработчика, форма могла не выгружаться из памяти. Как следствие, сохранялись все связанные с ней ресурсы (временное хранилище, блокировки и т. д.) и работали установленные обработчики ожидания.

•

Не используется режим совместимости ‑ после окончания выполнения обработчика форма будет выгружена из памяти, будут освобождены все связанные с ней ресурсы (временное хранилище, блокировки и т. д.) и перестанут работать установленные обработчики ожидания.

•

Вывод объединенных ячеек процессором вывода результата компоновки данных в табличный документ:

•

Используется режим совместимости с версией 8.3.9 ‑ процессор вывода результата компоновки данных в табличный документ, при выводе объединенных ячеек, в некоторых

7.2.7. С версией 8.3.10

результате колонки могут иметь слишком маленький размер.

•

Не используется режим совместимости ‑ процессор вывода результата компоновки данных в табличный документ, при выводе объединенных ячеек, таким образом изменяет ширину колонок, в которых располагаются объединенные ячейки, чтобы содержимое этих ячеек занимало минимальное место по высоте.

•

Отображение таблицы управляемой формы, если у группы колонок таблицы свойство ФиксацияВТаблице установлено в значение Лево или Право:

•

Используется режим совместимости с версией 8.3.9 ‑ фиксируются только те колонки, которые находились левее (для значения Лево) или правее (для значения Право) такой группы. Колонки, входящие в саму группу, не фиксировались.

•

Не используется режим совместимости ‑ фиксируются все колонки самой группы, а также все прочие колонки и группы таблицы, для которых указана фиксация.

•

Список формальных параметров обработчиков событий табличного документа ОбработкаРасшифровки и ОбработкаДополнительнойРасшифровки:

•

Используется режим совместимости с версией 8.3.9 ‑ обработчики событий имеют два параметра: Расшифровка, СтандартнаяОбработка. Если в процедуру-обработчик события добавлен параметр ДополнительныеПараметры, то значение этого параметра будет Неопределено.

•

Не используется режим совместимости ‑ для данных обработчиков реализован параметр ДополнительныеПараметры. Если событие генерируется диаграммой Ганта, то в данном параметре передается дата, на которой инициирована расшифровка. В остальных случаях будет передана пустая структура.

•

Состояние свойства Использование для параметров данных, которые отключены функциональными опциями, после загрузки варианта отчета или после вызова метода КомпоновщикНастроекКомпоновкиДанных.Восстановить():

•

Используется режим совместимости с версией 8.3.9 ‑ свойство отключается всегда.

•

Не используется режим совместимости ‑ свойство отключается только в том случае, если параметр доступен для редактирования пользователю.

•

Установка значений параметров РазделительСтрок и КонвертируемыйРазделительСтрок конструктора объекта ЧтениеТекста:

•

Используется режим совместимости с версией 8.3.10 ‑ если значения параметра не указано, в качестве значения используется пустая строка. Если тип или значение переданного параметра является недопустимым, генерируется ошибка.

•

Не используется режим совместимости ‑ если значения параметров не указаны, используются значения по умолчанию:

•

РазделительСтрок ‑ ПС,

•

КонвертируемыйРазделительСтрок ‑ ВК + ПС.

Если тип или значение переданного параметра является недопустимым, генерируется ошибка.

•

Использование метода Сдвинуть() при работе с объектной моделью схемы запросов:

•

Используется режим совместимости с версией 8.3.10:

•

При выполнении метода для объектов ПакетЗапросовСхемыЗапроса и ОператорыСхемыЗапроса из параметров <Индекс> и <Новый индекс> выбирается максимальный, и элемент с максимальным индексом перемещается на позицию по второму

метода для следующих объектов: КолонкиСхемыЗапроса, ВыраженияИндексаСхемыЗапроса, ВыраженияПорядкаСхемыЗапроса, КонтрольныеТочкиИтоговСхемыЗапроса.

•

Не используется режим совместимости ‑ выполнение данного метода у перечисленных ниже объектов сдвигает элемент в коллекции на указанное число позиций: ПакетЗапросовСхемыЗапроса, ОператорыСхемыЗапроса, КолонкиСхемыЗапроса, ВыраженияИндексаСхемыЗапроса, ВыраженияПорядкаСхемыЗапроса, КонтрольныеТочкиИтоговСхемыЗапроса.

•

В мобильной платформе при ошибке отправки уведомлений, связанных с устареванием маркера доступа:

•

Используется режим совместимости с версией 8.3.10 ‑ генерируются исключение.

•

Не используется режим совместимости ‑ ошибка должна быть обработана в коде конфигурации.

•

Палитра диаграммы, используемая по умолчанию:

•

Используется режим совместимости с версией 8.3.10 ‑ палитра Палитра32.

•

Не используется режим совместимости ‑ палитра МягкаяАдаптивная.

•

Значения свойств объекта ОбластьПостроенияДиаграммы:

•

Используется режим совместимости с версией 8.3.10 ‑ значение ЦветШкалы.Авто интерпретируется как 0xA9A9A9. Значение ЦветФона.Авто интерпретируется как 0xFFFFFF.

•

Не используется режим совместимости ‑ значение ЦветШкалы.Авто интерпретируется как 0xDDDDDD. Значение ЦветФона.Авто интерпретируется как цвет ФонРедактирования.

•

Если свойство ЦветЛинииШкалы объекта ШкалаДиаграммы установлено в значение Авто и свойство ЦветШкал объекта ОбластьПостроенияДиаграммы равно Авто, то для отрисовки линии шкалы используется:

•

Используется режим совместимости с версией 8.3.10 ‑ цвет 0xA9A9A9.

•

Не используется режим совместимости ‑ цвет 0x7D7D7D.

•

При выполнении запроса, содержащего функции МАКСИМУМ() и МИНИМУМ(), в параметре которых получается значение типа УникальныйИдентификатор или системное перечисление в сочетании друг с другом или со значениями примитивного типа:

•

Используется режим совместимости с версией 8.3.10 ‑ ошибка не диагностируется. Результат функций может быть неправильным, либо исполнение запроса может привести к аварийному завершению работы платформы.

•

Не используется режим совместимости ‑ генерируется ошибка.

•

При выполнении запросов, содержащих операции ЕСТЬNULL или ВЫБОР, которые применяются к функциям МАКСИМУМ() и МИНИМУМ(), применяемых к значениям типа УникальныйИдентификатор или системному перечислению, если в другом операнде операции ЕСТЬNULL или ВЫБОР используется выражение примитивного типа или другое системного перечисления:

•

Используется режим совместимости с версией 8.3.10 ‑ возвращается Неопределено.

•

Не используется режим совместимости ‑ выдается правильный результат.

•

Определение типов параметров, используемых в запросе в операции сложения и операциях сравнения РАВНО, НЕ РАВНО, МЕНЬШЕ, БОЛЬШЕ, МЕНЬШЕ ИЛИ РАВНО, БОЛЬШЕ ИЛИ РАВНО:

•

Используется режим совместимости с версией 8.3.10 ‑ типом параметра считается тип другого операнда операции, включая квалификаторы.

•

Не используется режим совместимости ‑ квалификаторы типа не содержат ограничений.

•

Использование параметра Параметры.СтрокаПоиска в стандартной обработке события менеджера объекта конфигурации ОбработкаПолученияДанныхВыбора:

•

Используется режим совместимости с версией 8.3.10 ‑ если значение параметра Параметры.СтрокаПоиска установлено в значение Неопределено, то это равноценно указанию в качестве строки поиска пустой строки.

•

Не используется режим совместимости ‑ считается, что, если значение параметра Параметры.СтрокаПоиска равно Неопределено, то поведение системы аналогично быстрому выбору и возвращается список всех элементов, которые имеются в базе данных для данного объекта конфигурации

•

Отображение картинок папок в строках таблицы, отображающей иерархический список:

•

Используется режим совместимости с версией 8.3.10 ‑ невозможно отключить отображение картинок папок в строках для иерархических динамических списков. Очистка свойства ПутьКДаннымКартинкиСтрок таблицы, отображающей иерархический динамический список, не приводит к отключению отображения картинок папок.

•

Не используется режим совместимости ‑ в качестве картинки папки отображается картинка, установленная в свойстве ПутьКДаннымКартинкиСтроки. Если данное свойство очищено ‑ картинка папок не выводится.

•

Проверка имени пользовательской команды на совпадение с именем стандартной команды при проверке логической целостности конфигурации:

•

Используется режим совместимости с версией 8.3.10 ‑ для команд с именем, не прошедшим проверку, генерируется предупреждение о том, что имя команды совпадает с именем стандартной команды. Обновить информационную базу можно.

•

Не используется режим совместимости ‑ для команд с именем, не прошедшим проверку, генерируется ошибка с информацией о том, что имя команды совпадает с именем стандартной команды. Обновить информационную базу нельзя.

•

Проверка прав доступа к обрабатываемым объектам во время полнотекстового поиска в данных при включенном привилегированном режиме:

•

Используется режим совместимости с версией 8.3.10 ‑ выполняется проверка прав доступа.

Свойство СписокПолнотекстовогоПоиска.ПолучатьПредставление не оказывает влияния на результаты поиска.

Не выполняется проверка права доступа на поля объекта, которые участвуют в формировании описания объекта, если свойство СписокПолнотекстовогоПоиска.ПолучатьОписание установлено в значение Ложь.

•

Не используется режим совместимости ‑ не выполняется проверка прав доступа.

Всегда проверяются права доступа на поля объекта, участвующие в формировании представления.

Всегда проверяются права доступа на поля объекта, которые участвуют в формировании описания объекта.

•

Получение метаданных для объектов типа РегистрСведенийКлючЗаписи:

•

Используется режим совместимости с версией 8.3.10 ‑ данная возможность не предоставляется.

•

Не используется режим совместимости ‑ доступен метод Метаданные().

•

Импорт свойств default и fixed для ссылок на глобальные элементы и атрибуты, при импорте XSD-схемы в пакет XDTO:

•

Используется режим совместимости с версией 8.3.9 ‑ импорт свойств default и fixed,

зависимости от вида объявления соответствующего элемента или атрибута. Свойства default и fixed импортируются в свойства По-умолчанию и Фиксированное соответственно.

•

Язык формируемого имени области табличного документа:

•

Используется режим совместимости с версией 8.3.10 ‑ имя формируется на текущем языке интерфейса.

•

Не используется режим совместимости ‑ имя формируется на языке, который соответствует выбранному варианту встроенного языка.

•

Поведение при присвоении значения переменной с именем общего модуля на стороне клиентского приложения при работе в тонком или веб-клиентах:

•

Используется режим совместимости с версией 8.3.10 ‑ не срабатывает и не диагностируется платформой. При работе в веб-клиенте работа клиентского приложения завершается аварийно.

•

Не используется режим совместимости ‑ не срабатывает и при этом генерируется сообщение об ошибке.

•

Использование в динамическом списке полей ИмяПредопределенныхДанных и ВерсияДанных:

•

Используется режим совместимости с версией 8.3.10:

•

Доступны все виды сравнения.

•

При поиске с помощью строки поиска по таким полям генерируется ошибка.

•

Расширенный поиск позволял указать любой вариант поиска, но при поиске по вхождению или началу строки генерировалась ошибка.

•

Не используется режим совместимости:

•

Доступны только виды сравнения Равно, Не равно, В списке, Не в списке, Заполнено, Не заполнено.

•

Поиск с помощью строки поиска по этим полям не поддерживается.

•

Расширенный поиск возможен только по точному соответствию.

•

Свойства шкалы диаграммы УголНаклонаПодписей, ПоложениеШкалы, МаксимальноеКоличествоРядовПодписей, ПоложениеОтметокШкалы, ПоложениеПодписейШкалы:

•

Используется режим совместимости с версией 8.3.10 ‑ не поддерживаются и не отображаются в палитре свойств диаграммы.

•

Не используется режим совместимости ‑ доступны. Отображение диаграммы, шкал, подписей к шкалам и отрисовка таблицы данных может отличаться от отображения при включенном режиме совместимости.

•

Свойства объекта ОбластьПостроенияДиаграммы:

•

Используется режим совместимости с версией 8.3.10 ‑ свойства используются для построения диаграмм: ОтображатьПодписиШкалыСерии, ОтображатьПодписиШкалыТочек, ОтображатьПодписиШкалыЗначений, ОтображатьЛинииЗначенийШкалы, ФорматШкалыЗначений, ОриентацияМеток.

•

Не используется режим совместимости ‑ следующие свойства устарели и не рекомендуются для применения:

•

ОтображатьПодписиШкалыСерии. Для доступа рекомендуется использовать ШкалаСерий.ПоложениеПодписейШкалы.

•

ОтображатьПодписиШкалыТочек. Для доступа рекомендуется использовать ШкалаТочек.ПоложениеПодписейШкалы.

ШкалаЗначений.ПоложениеПодписейШкалы.

•

ОтображатьЛинииЗначенийШкалы. Для доступа рекомендуется использовать ШкалаЗначений.ОтображениеЛинийСетки.

•

ФорматШкалыЗначений. Для доступа рекомендуется использовать ШкалаЗначений.ФорматПодписей.

•

ОриентацияМеток. Для доступа рекомендуется использовать ШкалаТочек.ОриентацияПодписей.

•

Порядок обхода элементов группы управляемой формы, у которой свойство Объединенная установлено в значение Ложь, в тонком клиенте.

•

Используется режим совместимости с версией 8.3.10 ‑ такая группа игнорировалась и не влияла на порядок обхода.

•

Не используется режим совместимости ‑ группа не игнорируется и элементы в группе обходятся в соответствии с настройками групп (вертикальная или горизонтальная).

•

Поддержка в объекте ОсьДиаграммы биржевой диаграммы следующих свойств: СпособОпределенияМинимальногоЗначения, МинимальноеЗначение, СпособОпределенияМаксимальногоЗначения, МаксимальноеЗначение:

•

Используется режим совместимости с версией 8.3.10 ‑ свойства не поддерживаются.

•

Не используется режим совместимости ‑ свойства поддерживаются.

•

Поведение системы компоновки данных при использовании в запросе вложенных запросов с видом сравнения Не заполнено, применяемым к полям из вложенного запроса правой части левого соединения:

•

Используется режим совместимости с версией 8.3.10 ‑ условие всегда помещается во вложенный запрос, если это возможно.

•

Не используется режим совместимости ‑ условие помещается во вложенные запросы, находящиеся в правой части левого соединения только, если это условие не удается поместить во внешний запрос. В противном случае, условие во вложенный запрос не помещается.

•

Поведение языка запросов, если в конструкции ВЫБОР используется другая конструкция ВЫБОР или функция ЕСТЬNULL, и в них используется виртуальное поле и не виртуальное поле:

•

Используется режим совместимости с версией 8.3.10 ‑ результат вычисления может быть неправильным или может произойти аварийное завершение работы программы.

•

Не используется режим совместимости ‑ результат вычисляется правильно.

•

При использовании запрещенных символов в параметре <ИмяКаталога> методов СоздатьКаталог() и НачатьСозданиеКаталога():

•

Используется режим совместимости с версией 8.3.10 ‑ каталог не создается. При этом исключение сгенерировано не будет.

•

Не используется режим совместимости ‑ будет сгенерировано исключение.

•

Расположение относительно родительской группы другой группы управляемой формы, для которой свойство ГоризонтальноеПоложениеВГруппе установлено в значение Центр:

•

Используется режим совместимости с версией 8.3.10 ‑ располагается смещенной влево относительно родительской группы.

•

Не используется режим совместимости ‑ располагается по центру относительно родительской группы.

•

Видимость элементов управляемой формы, связанных с командами расширений таблицы или

в том случае, если они были добавлены разработчиком:

•

Изменить ‑ если основной таблицей динамического списка является критерий отбора.

•

Удалить ‑ если основной таблицей динамического списка является таблица внешнего источника данных.

•

Команды Вывести список, Загрузить настройки динамического списка, Сохранить настройки динамического списка для любого динамического списка.

Автоматически размещенные команды не отображались на форме.

•

Не используется режим совместимости ‑ недоступные пользователю команды не отображаются вне зависимости от того, как они размещены на форме.

•

Команды таблицы формы в зависимости от различных параметров:

•

Используется режим совместимости с версией 8.3.10:

•

Если основная таблица динамического списка является критерием отбора или перечислением ‑ не добавляются команды расширенного поиска и управление настройкой списка.

•

Элементы, связанные с командами расширений таблицы или формы для динамического списка, которые являются недоступные из-за связанных свойств таблицы, удаляются, если они добавлены автоматически (расширениями таблицы или формы) и не удаляются, если они добавлены явно, прикладным разработчиком. При этом оставленные команды (во втором случае) не выполняют никаких действий.

•

Если в процессе создания формы становится ясно, что таблица, отображаемая на форме недоступна, то из формы удаляется большинство команд, которые предоставлялись для этой таблицы. На форме остается одна команда (как правило это команда Обновить).

•

Не используется режим совместимости:

•

Если основная таблица динамического списка является критерием отбора или перечислением ‑ добавляются команды расширенного поиска и управление настройкой списка.

•

Элементы, связанные с командами расширений таблицы или формы для динамического списка, которые являются недоступные из-за связанных свойств таблицы, удаляются в любом случае.

•

Если в процессе создания формы становится ясно, что таблица, отображаемая на форме недоступна, то из формы удаляются все команд, которые предоставлялись для этой таблицы.

•

Размещение в текстовом документе символов табуляции (которые разделяют колонки таблицы) при выводе таблицы управляемой формы с помощью команды Вывести список:

•

Используется режим совместимости с версией 8.3.10 ‑ вставляются после первого непустого значения колонки.

•

Не используется режим совместимости ‑ вставляются между всеми колонками.

•

Отображение пустых значений типа Дата и Число при выводе таблицы управляемой формы с помощью команды Вывести список:

•

Используется режим совместимости с версией 8.3.10 ‑ могут выводиться в виде, отличном от того, как отображаются на форме.

•

Не используется режим совместимости ‑ выводятся в том же виде, как отображаются на форме.

•

Отображение фона кнопки управляемой формы и кнопки командной панели, у которых свойство ОтображениеФигуры имеет значение Нет и свойство ЦветФона отлично от Авто:

7.2.8. С версией 8.3.11

цветом.

•

Не используется режим совместимости ‑ фон не отображается.

•

Поведение системы при обращении к имени файла в ZIP-архиве (через объект ЧтениеZipФайла) в том случае, если это имя файла содержит запрещенные символы (>, <, |, ?, *, /,\, :,"):

•

Используется режим совместимости с версией 8.3.10 ‑ имя файла обрезается до первого запрещенного символа.

•

Не используется режим совместимости ‑ запрещенные символы в имени файла будут заменены на знак подчеркивания «_».

•

Расположение вложенных таблиц и диаграмм в результирующем табличном документе при работе системы компоновки данных:

•

Используется режим совместимости с версией 8.3.10 ‑ группировка к вложенным диаграммам и таблицам не применяется. Генератор макетов не создает пустые макеты с установленным свойством ВертикальныйУровень, расположенные после макетов диаграмм. Для таблиц, вложенных в группировки, пустой макет создается и для него свойство ВертикальныйУровень устанавливается в значение 0.

•

Не используется режим совместимости ‑ располагаются в группировках табличного документа. Генератор макетов системы компоновки данных создает пустые макеты с установленным свойством ВертикальныйУровень, расположенные после макетов диаграмм и таблиц, вложенных в группировки.

•

Результат работы метода плана обмена ЭтотУзел(), вызванного для элемента плана обмена, у которого свойство ЭтотУзел установлено в значение Истина:

•

Используется режим совместимости с версией 8.3.10 ‑ не всегда возвращает ссылку на этот элемент.

•

Не используется режим совместимости ‑ всегда возвращает ссылку на этот элемент.

•

Вывод выделенных строк таблицы (с помощью команды Вывести список) в табличный или текстовый документ:

•

Используется режим совместимости с версией 8.3.10:

•

строки выводятся в порядке выделения;

•

выводятся не все строки, если таблица отображает динамический список в режиме Иерархический список или Дерево.

•

Не используется режим совместимости:

•

строки выводятся в том порядке, в котором они располагаются в таблице;

•

выводятся все строки, вне зависимости от уровня иерархии, если таблица отображает динамический список в режиме Иерархический список или Дерево.

•

Всплывающая группа на управляемой форме:

•

Используется режим совместимости с версией 8.3.11 ‑ выглядит и ведет себя как свертываемая группа.

•

Не используется режим совместимости ‑ является всплывающей группой.

•

Ширина обычной группы, для которой явно указана ширина, но подчинённые элементы в нее не помещаются и при этом подчинённые элементы растягиваются:

•

Используется режим совместимости с версией 8.3.11 ‑ заданная ширина устанавливается

•

Не используется режим совместимости ‑ минимальная ширина группы не может быть меньше минимальной ширины подчиненных элементов.

•

Реакция системы на заполненность свойства Группа команд кубов и таблиц измерений внешних источников данных во время проверки конфигурации перед сохранением:

•

Используется режим совместимости с версией 8.3.11 ‑ возможно сохранение конфигурации.

•

Не используется режим совместимости ‑ сохранение конфигурации невозможно. Необходимо заполнить данное свойство перед сохранением конфигурации.

•

Отображение табличного документа в режиме черно-белого просмотра:

•

Используется режим совместимости с версией 8.3.11:

•

диаграммы отображаются цветными;

•

географическая схема отображается цветной;

•

OLE-объекты отображаются цветными;

•

картинки в форматах SVG, EMF и WMF отображаются цветными;

•

картинки в других форматах отображаются оттенками серого.

•

Не используется режим совместимости:

•

диаграммы отображаются в черно-белом режиме;

•

географическая схема отображается в черно-белом режиме;

•

картинки и OLE-объекты отображаются оттенками серого.

•

Отображение табличного документа в режиме черно-белой печати:

•

Используется режим совместимости с версией 8.3.11:

•

диаграммы отображаются цветными;

•

географическая схема отображается цветной;

•

OLE-объекты отображаются цветными;

•

картинки в форматах SVG, EMF и WMF отображаются цветными;

•

картинки в других форматах отображаются оттенками серого.

•

Не используется режим совместимости:

•

диаграммы печатаются в черно-белом режиме;

•

географическая схема печатается в черно-белом режиме;

•

картинки и OLE-объекты печатаются оттенками серого.

•

Алгоритм подбора узор заливки при печати диаграммы в черно-белом виде:

•

Используется режим совместимости с версией 8.3.11 ‑ подбирается на основе цвета, без анализа использования. Доступно 12 узоров заливки.

•

Не используется режим совместимости ‑ подбирается на основе цвета, но, если полученный узор уже используется в данной диаграмме ‑ используется следующий узор из доступных. В случае, если использованы все доступные узоры ‑ они начинают использоваться повторно. Доступно 27 узоров заливки.

•

Повторное указание в качестве параметра Адрес метода ПоместитьВоВременноеХранилище() значения, для которого применялся метод УдалитьИзВременногоХранилища():

форма, уникальный идентификатор которой передается в качестве вызова метода ПоместитьВоВременноеХранилище(), открыта во время последующих помещений во временное хранилище.

•

Не используется режим совместимости ‑ приводит к генерации исключения.

•

Поведение метода глобального контекста ПереключитьИнтерфейс()при работе в управляемом режиме в любом клиентском приложении:

•

Используется режим совместимости с версией 8.3.11 ‑ приводит к отображению командных панелей, настроенных в конфигурации.

•

Не используется режим совместимости ‑ игнорируется. Не рекомендуется использовать обычные формы при работе в управляемом режиме клиентского приложения.

•

Результат работы функции глобального контекста ТекущийЯзык() при выполнении на сервере, в толстом клиенте и во внешнем соединении:

•

Используется режим совместимости с версией 8.3.11 ‑ при выполнении на сервере, в толстом клиенте и во внешнем соединении возвращала значение Неопределено в том случае, если для текущего пользователя указан несуществующий в конфигурации язык.

•

Не используется режим совместимости ‑ возвращает язык интерфейса, выбранный для текущего пользователя или основной язык конфигурации в том случае, если отсутствует текущий пользователь, для текущего пользователя не указан язык или указан несуществующий в конфигурации язык.

•

Приоритет применения элементов условного оформления:

•

Используется режим совместимости с версией 8.3.11:

•

Чем «ближе» к области применения находится элемент условного оформления, тем выше у него приоритет.

•

В рамках одного списка элементов условного оформления, чем ниже элемент условного оформления находится в списке элементов условного оформления, тем выше у него приоритет. Исключение составляет случай, когда в списке условных оформлений присутствуют оформления с заданными и не заданными оформляемыми полями и у них есть заданные отборы. В этом случае сначала применяются условные оформления, которым заданы оформляемые поля, а затем условные оформления с не заданными оформляемыми полями.

•

Не используется режим совместимости:

•

Чем «ближе» к области применения находится элемент условного оформления, тем выше у него приоритет. Например, если есть условное оформление у всего отчета, у таблицы и у группировки таблицы, то наивысший приоритет будет у условного оформления группировки, потом ‑ таблицы, потом ‑ всего отчета.

•

В рамках одного списка элементов условного оформления, чем ниже элемент условного оформления находится в списке элементов условного оформления, тем выше у него приоритет.

•

Формирование строки представления отбора в системе компоновки данных (в отчетах и динамических списках):

•

Используется режим совместимости с версией 8.3.11 ‑ не учитывается квалификатор, который указан для поля компоновки данных, по которому выполняется отбор.

•

Не используется режим совместимости ‑ при формировании учитывается квалификатор, который указан для поля компоновки данных, по которому выполняется отбор.

•

Реакция на операцию «деление на 0» в функции ВычислитьВыраждение() системы компоновки данных:

•

Используется режим совместимости с версией 8.3.11 ‑ выражение, включающее вызов этой

•

Не используется режим совместимости ‑ результат вычисления выражения, включающего вызов функции ВычислитьВыражение(), будет равно строке Деление на 0.

•

Значение вычисляемого поля в детальных записях системы компоновки данных в том случае, если для этого поля указано пустое выражение:

•

Используется режим совместимости с версией 8.3.11 ‑ генерируется ошибка с сообщением о том, что поле не найдено.

•

Не используется режим совместимости ‑ будет использоваться NULL.

•

Свойство Масштаб при указании абсолютного шрифта в диалоге выбора шрифта (в конфигураторе, тонком и толстом клиентах):

•

Используется режим совместимости с версией 8.3.11 ‑ игнорируется.

•

Не используется режим совместимости ‑ учитывается.

•

Поведение компоновщика настроек системы компоновки данных в том случае, когда для параметра системы компоновки данных установлена возможность использования списка значений, а устанавливаемый параметр является массивом:

•

Используется режим совместимости с версией 8.3.11 ‑ в параметр помещается список значений, содержащий один элемент, со значением, равным значению по умолчанию для типа значения, указанного у параметра.

•

Не используется режим совместимости ‑ выполняется корректная конвертация массива в список значений.

•

Значения параметров и поведение обработчика события ПриОкончанииРедактированияИнтервала элемента формы, отображающего диаграмму Ганта:

•

Используется режим совместимости с версией 8.3.11:

•

В качестве значения параметра Интервал передавалась копия интервала диаграммы.

•

Изменения, сделанные в переданном интервале, никогда не сохранялись в диаграмме.

•

Не используется режим совместимости:

•

В качестве значения параметра Интервал передается сам интервал диаграммы.

•

Значения, измененные в переданном интервале, будут перенесены в диаграмму, если параметр обработчика ОтменаРедактирования не установлен в значение Истина.

•

Если параметр обработчика ОтменаРедактирования установлен в значение Истина, то в свойства интервала Начало и Конец будут установлены значения, которые были до начала редактирования, а в остальные значения будут скопированы значения из интервала.

•

Если параметр запроса находится в выражении языка запросов, для которого было установлено имя, или параметр присутствует в выражении как самостоятельное выражение:

•

Используется режим совместимости с версией 8.3.11 ‑ такой параметр не помещается в список доступных параметров данных системы компоновки данных.

•

Не используется режим совместимости ‑ такой параметр будет считаться доступным для использования в параметрах данных системы компоновки данных, с ограничением видимости для конечного пользователя.

•

Если при открытии формы отчета указан параметр КлючПользовательскихНастроек и не указан параметр ПользовательскиеНастройки, то:

•

Используется режим совместимости с версией 8.3.11:

•

Если для текущего варианта отчета в хранилище системных настроек сохранены

настройки с указанным ключом, то будут загружены эти настройки.

•

Иначе будут установлены настройки по умолчанию для текущего варианта.

•

Не используется режим совместимости:

•

Если в хранилище пользовательских настроек отчетов есть настройки с указанным ключом ‑ будут загружены они.

•

В противном случае будут загружены пользовательские настройки по умолчанию для текущего варианта отчета.

•

Поведение системы в том случае, если во вложенном запросе, находящемся в правой части левого соединения, поле явно не указано в предложении {ГДЕ}, и во внешнем запросе для поля с таким же именем компоновки данных используется не точно это же поле:

•

Используется режим совместимости с версией 8.3.11 ‑ при использовании автоматического заполнения доступных полей набора данных, компоновщик макета компоновки данных всегда размещает отбор во вложенном запросе.

•

Не используется режим совместимости ‑ компоновщик макета компоновки данных не будет размещать отбор во вложенном запросе.

При необходимости обеспечить прежнее поведение, разработчику следует явно указать поле доступным для отбора в запросе с помощью предложения {ГДЕ}.

•

Вывод макета с пустой строкой после макетов заголовков (отчета, таблицы, группировки, диаграммы) системы компоновки данных:

•

Используется режим совместимости с версией 8.3.11 ‑ выводится в некоторых случаях.

•

Не используется режим совместимости ‑ не выводится.

•

Если в системе компоновки данных поля являются дочерними полями-характеристиками полей табличных частей, полученных через точку (например, Ссылка.Товары.Товар.[Страна происхождения]), то в источнике доступных настроек системы компоновки данных для динамического списка доступность таких полей для отбора, сортировки и группировки зависит от установленного режима совместимости:

•

Используется режим совместимости с версией 8.3.11 ‑ поля доступны.

•

Не используется режим совместимости ‑ поля недоступны.

•

Отображение общих итогов по вертикали в таблицах отчетов системы компоновки данных в зависимости от значения параметра настроек системы компоновки данных АвтоПозицияРесурсов:

•

Используется режим совместимости с версией 8.3.11 ‑ общие итоги по вертикали не выводятся, если параметр АвтоПозицияРесурсов установлен в значение НеИспользовать.

•

Не используется режим совместимости ‑ не влияет.

•

Перетаскивание ячеек/рисунков табличного документа, отображаемого в веб-клиенте:

•

Используется режим совместимости с версией 8.3.11 ‑ стандартная обработка перетаскивания не выполняется.

•

Не используется режим совместимости ‑ выполняется стандартная обработка перетаскивания: копирование ячеек/рисунков в случае перетаскивания с нажатой клавишей Ctrl или перемещение ячеек/рисунков.

•

Поведение запроса с предложением ОБЪЕДИНИТЬ, когда данные могут содержать NULL:

•

Используется режим совместимости с версией 8.3.11 ‑ запрос с предложением ОБЪЕДИНИТЬ может не удалять дублирующиеся NULL, полученные операцией ВЫРАЗИТЬ КАК Ссылка.

7.2.9. С версией 8.3.12

результат.

•

Не используется режим совместимости ‑ запрос, который содержит выражение ОБЪЕДИНИТЬ (без ключевого слова ВСЕ), операция ВЫРАЗИТЬ КАК Ссылка в результате будет содержать одну строку со значением NULL.

Функция ЕСТЬNULL() от выражения ВЫРАЗИТЬ КАК Ссылка возвращает корректный результат.

•

Поведение системы в том случае, если колонка таблицы, связанной с динамическим списком, находится в группе колонок с группировкой В ячейке, то в документе, полученном путем выполнения команды Вывести список:

•

Используется режим совместимости с версией 8.3.11:

•

В тонком клиенте для этой колонки в качестве заголовка используется имя колонки таблицы формы.

•

В веб-клиенте для этой колонки в качестве заголовка используется заголовок колонки таблицы формы.

•

Не используется режим совместимости ‑ для этой колонки в качестве заголовка будет использоваться заголовок колонки таблицы управляемой формы.

•

Установка фиксации строк и колонок при генерации макета заголовков компоновки данных на основе предопределенного макета:

•

Используется режим совместимости с версией 8.3.11 ‑ фиксация никогда не устанавливается.

•

Не используется режим совместимости ‑ фиксация строк и колонок устанавливается при необходимости. Фиксация колонок (свойство ячейки области макета компоновки данных ФиксироватьСлева) устанавливается в том случае, если параметр отчета ФиксироватьСлева установлен в значение Авто или не установлен. Фиксация строк (свойство ФиксироватьСверху) устанавливается в том случае, если параметр отчета ФиксироватьСверху имеет значение Авто или не установлен.

•

Поведение системы при вызове методов ДобавитьСтроку(), ИзменитьСтроку(), СкопироватьСтроку() и ЗакончитьРедактированиеСтроки() объекта ТаблицаУправляемойФормы:

•

Используется режим совместимости ‑ поведение зависело от вида клиентского приложения:

•

В тонком клиенте выполняется соответствующее действия;

•

В веб-клиенте никаких действий не выполняется.

•

Не используется режим совместимости ‑ не выполняется никаких действий, если недоступны интерактивные команды, соответствующие данным методам.

•

Поведение при вызове фонового задания, в зависимости от размера параметров (в сериализованном виде):

•

Используется режим совместимости ‑ если размер сериализованных параметров фонового задания превышает значение 2 Гбайт ‑ формируется исключение.

•

Не используется режим совместимости ‑ если размер сериализованных параметров фонового задания превышает значение 1 Гбайт ‑ формируется исключение.

•

Максимальный размер страницы табличного документа:

•

Используется режим совместимости ‑ ограничений нет. При экспорте и печати документа могут возникать проблемы.

•

Не используется режим совместимости ‑ размер по любой стороне (ширина и высота)

•

Вывод диаграммы в табличный документ:

•

Используется режим совместимости ‑ процессор вывода системы компоновки данных не устанавливает автоматический расчет ширины колонок для последней колонки в области ячеек, которая занята диаграммой.

•

Не используется режим совместимости ‑ процессор вывода системы компоновки данных устанавливает автоматический расчет ширины колонок для всех ячеек той области табличного документа, которая занята диаграммой.

•

Поведение в том случае, если оператор языка запросов ЕСТЬ NULL применяется к выражению, в котором используется комбинация нескольких виртуальных полей или комбинация виртуального поля и выражения, не содержащего виртуальных полей:

•

Используется режим совместимости ‑ результатом работы функции всегда является значение Ложь.

•

Не используется режим совместимости ‑ результатом работы функции будет значение Истина, если результат выражения равен NULL и Ложь в противном случае.

•

Значение свойства ОтметкаНезаполненного для таблицы управляемой формы, при установке свойства АвтоОтметкаНезаполненного таблицы управляемой формы в значение Истина:

•

Используется режим совместимости ‑ обновлялось только после обновления таблицы или при изменении текущей ячейки.

•

Не используется режим совместимости ‑ будет соответствовать реальному состоянию таблицы после окончания работы встроенного языка.

•

Поведение при выводе вычисляемого поля в коллекцию значений в том случае, если в вычисляемом выражении системы компоновки данных используется конструкция ВЫБОР, в секциях которой получаются поля, тип которых неизвестен (например, если поля получаются из таблицы значений и у поля не указан тип) и в секции ИНАЧЕ указано значение Неопределено:

•

Используется режим совместимости ‑ в качестве типа колонки будет указан только тип NULL.

•

Не используется режим совместимости ‑ в качестве типа колонки будет указан тип Произвольный (описание типов не будет содержать ни одного типа).

•

Поведение таблицы управляемой формы при установке отбора строк (присваивание значения свойству ОтборСтрок), если в устанавливаемом отборе более одного элемента и для первого элемента значение отбора равно Неопределено:

•

Используется режим совместимости ‑ игнорируется первый элемент отбора (со значением отбора, равным Неопределено).

•

Не используется режим совместимости ‑ отбор строк выполняется.

•

Поведение системы в том случае, если для вывода колонок таблицы используются предопределенные макеты группировок:

•

Используется режим совместимости ‑ в макете общих итогов могут не выводиться заголовки полей ресурсов в случае, если высота предопределенного макета группировки колонок меньше, чем предполагаемая генератором макетов высота макета общих итогов.

•

Не используется режим совместимости ‑ высота макета общих итогов рассчитывается таким образом, чтобы в макете отображались заголовки всех выводимых ресурсов. Если предполагаемая генератором макетов высота макета общих итогов больше, чем высота предопределенного макета группировок, то генератор макетов увеличивает высоту макетов группировок колонок таблицы.

•

Поведение отбора системы компоновки данных в случае, если в настройках системы компоновки данных применяется отбор с видом сравнения Заполнено/НеЗаполнено к

типом, определяемым пользователем, или с типом ‑ любой ссылкой:

•

Используется режим совместимости ‑ отбор игнорирует типы, входящие в тип Характеристика, определяемый тип или любую ссылку.

•

Не используется режим совместимости ‑ отбор будет учитывать типы, входящие в тип Характеристика, определяемый тип или любую ссылку.

•

Тип поля временной таблицы, формируемой с помощью оператора языка запросов ПОМЕСТИТЬ, куда может помещаться NULL:

•

Используется режим совместимости ‑ имеет тип NULL.

•

Не используется режим совместимости ‑ становится составным. Составной тип включает в себя следующие типы: Число с точностью 1.0, Строка длиной 1 символ, ДатаВремя, Булево и NULL.

•

Применение условного оформления формы для оформления динамического списка, если в динамическом списке указана основная таблица, в которой есть деление на группы и элементы, то для всех колонок, не связанных с полями основной таблицы:

•

Используется режим совместимости ‑ условное оформление формы применяется следующим образом:

•

Для колонок, связанных с присутствующими в запросе обычными полями (не полями через точку, выражениями и т. п.) не основной таблицы ‑ если в строке отображается элемент основной таблицы.

•

Для остальных, не связанных с полями основной таблицы, колонок ‑ если в строке отображается группа основной таблицы.

•

Не используется режим совместимости ‑ условное оформление формы применяется независимо от того, отображается в строке элемент или группа основной таблицы.

•

Получение значения функциональной опции, значение которой хранится в ресурсе периодического регистра сведений:

•

Используется режим совместимости ‑ значение вычисляется с помощью операции логического ИЛИ среди всех хранимых значений, не ограничиваясь срезом последних. Такое поведение наблюдается в том случае, если при получении значения функциональной опции указывается только параметр Период.

•

Не используется режим совместимости ‑ используется только значение, полученное из среза последних. В качестве даты среза используется дата, заданная для параметра функциональной опции Период или текущая дата (если параметр Период не задан).

•

Доступность дочерних полей составного типа в пользовательских настройках системы компоновки данных.

•

Используется режим совместимости ‑ если у пользователя нет права Просмотр на одну из таблиц поля, имеющего составной тип, то в пользовательских настройках отсутствуют все дочерние поля недоступного типа.

•

Не используется режим совместимости ‑ дочерние поля составного типа доступны в пользовательских настройках, если есть право Просмотр хотя бы на одну таблицу из составного типа и на само поле. Дочерние поля становятся доступным для выбора, могут участвовать в отборе, сортировке, условном оформлении и в других местах пользовательских настроек, где представлены доступные поля.

•

Расчет медианы в механизме анализа данных в том случае, если выборка содержит четное количество элементов (включая два элемента):

•

Используется режим совместимости ‑ значение медианы зависело от количества элементов в выборке:

элементов выборки.

•

В выборке содержится ровно 2 значения ‑ значение второго элемента.

•

Не используется режим совместимости ‑ в качестве медианы будет использоваться среднее арифметическое двух средних элементов выборки.

•

Поведение системы при открытии форм отчетов и динамических список в том случае, если в хранилище отсутствуют пользовательские настройки:

•

Используется режим совместимости ‑ наблюдается следующее поведение:

•

Из основных настроек динамического списка и настроек варианта отчета, отмеченных как пользовательские, не удаляются элементы с недоступными и отсутствующими полями.

•

Из пользовательских настроек, сформированных по умолчанию, не удаляются элементы, содержащие недоступные и несуществующие поля.

•

Не вызываются обработчики событий ПередЗагрузкойПользовательскихНастроекНаСервере и ПриЗагрузкеПользовательскихНастроекНаСервере.

При выполнении команды Установить стандартные настройки форм отчетов и динамических списков наблюдается следующее поведение:

•

Из основных настроек динамического списка и настроек варианта отчета, отмеченных как пользовательские, не удаляются элементы с недоступными и отсутствующими полями.

•

Из пользовательских настроек, сформированных по умолчанию, не удаляются элементы, содержащие недоступные и несуществующие поля.

•

Если за время использования отчета или динамического списка пользовательские настройки не изменялись на стороне клиента ни интерактивно, ни с помощью встроенного языка, то при закрытии формы отчета или динамического списка, в качестве пользовательских настроек сохраняются стандартные настройки, сформированные на основании текущего варианта (основных настроек динамического списка).

Метод КомпоновщикНастроекКомпоновкиДанных.Восстановить(), вызванный с параметром СпособВосстановленияНастроекКомпоновкиДанных.Полное, отключает флаг Использование у элементов основных настроек, потерявших связь с доступными полями.

•

Не используется режим совместимости ‑ выполняются следующие действия:

•

Из основных настроек динамического списка и настроек варианта отчета, отмеченных как пользовательские, удаляются элементы с недоступными и отсутствующими полями.

•

Из пользовательских настроек, сформированных по умолчанию, удаляются элементы, содержащие недоступные и несуществующие поля.

•

Вызываются обработчики событий ПередЗагрузкойПользовательскихНастроекНаСервере и ПриЗагрузкеПользовательскихНастроекНаСервере.

Для обработчиков событий ПередЗагрузкойПользовательскихНастроекНаСервере и ПриЗагрузкеПользовательскихНастроекНаСервере реализован параметр ИспользуютсяСтандартныеНастройки.

При выполнении команды Установить стандартные настройки форм отчетов и динамических списков выполняются следующие действия:

•

Из основных настроек динамического списка и настроек варианта отчета, отмеченных как пользовательские, удаляются элементы с недоступными и отсутствующими полями.

•

Из пользовательских настроек, сформированных по умолчанию, удаляются элементы, содержащие недоступные и несуществующие поля.

•

Если за время использования отчета или динамического списка пользовательские

7.2.10. С версией 8.3.13

пользовательские настройки удаляются из системного хранилища.

Метод КомпоновщикНастроекКомпоновкиДанных.Восстановить(), вызванный с параметром СпособВосстановленияНастроекКомпоновкиДанных.Полное, выполняет следующие действия: отключает флаг Использование у элементов основных настроек, потерявших связь с доступными полями, удаляет элементы пользовательских настроек и основных настроек, отмеченных, как пользовательские, но которые содержат поля, отсутствующие в коллекции доступных полей или недоступные для текущих функциональных опций и прав.

•

Поведение метода ИнтернетПочта.ПолучитьФлагиСообщений() в том случае, если в текущем почтовом ящике не обнаружено ни одного сообщения, которое соответствует переданным в качестве параметра идентификаторам:

•

Используется режим совместимости ‑ генерируется исключение.

Не используется режим совместимости ‑ возвращается пустое соответствие.

•

Печать отчета, содержащего диаграмму:

•

Используется режим совместимости ‑ диаграмма может быть «разрезана» разрывом страниц.

•

Не используется режим совместимости ‑ диаграмма всегда целиком печатается на одной странице. Для этого процессор вывода системы компоновки данных, для строк табличного документа, следующих за диаграммой, устанавливает свойство ВместеСоСледующим в значение Истина.

•

Формирование псевдонима поля при генерации макета компоновки:

•

Используется режим совместимости ‑ псевдоним поля формируется по стандартным правилам конструктора запросов.

•

Не используется режим совместимости ‑ псевдоним поля включает в себя псевдоним исходного поля и описание дополнительной информации (представление реквизита поля, агрегатной функции и т. д.).

•

Использование системой компоновки данных языка запросов СУБД для агрегации данных:

•

Используется режим совместимости ‑ язык запросов СУБД не используется для агрегации данных, за исключением случаев, когда в запросе явно указывалось предложение СГРУППИРОВАТЬ ПО.

•

Не используется режим совместимости ‑ при создании запроса, используемого для получения набора данных, пытается использовать язык запросов СУБД для агрегации данных. Для агрегации данных используются функции СУММА(), МАКСИМУМ() и МИНИМУМ() языка запросов, применяемые к одному полю.

•

Возможность получения справочной информации по глобальным командам и разделам командного интерфейса:

•

Используется режим совместимости ‑ подсказка отображается следующим образом:

•

Если для раздела или глобальной команды задана справочная информация, то в подсказке для этого раздела в панели разделов или глобальной команды отображается гиперссылка Справка.

•

В меню функций у команд подсказка не отображается.

•

В веб-клиенте подсказка для раздела в панели разделов содержит синоним раздела, а не пояснение.

•

В веб-клиенте подсказка для команды в панели функций текущего раздела содержит синоним команды, а не пояснение или расширенное представление для списков и

•

При отображении подсказки к разделам и командам командного интерфейса убрано отображение гиперссылки Справка в том случае, если для раздела или команды задана справочная информация. Справочная информация по разделу или команде по-прежнему доступна через окно отображения справочной информации.

•

В панели функций текущего раздела и меню функций отображается подсказка с пояснением или расширенным представлением для списков и объектов конфигурации.

•

Интерпретация значения Авто свойства ВыборГруппИЭлементов для поля ввода формы, отображающего данные ссылочного типа:

•

Используется режим совместимости ‑ значение Авто интерпретируется как ГруппыИЭлементы.

•

Не используется режим совместимости ‑ значение Авто интерпретируется как Элементы.

•

Сравнение различных значений в системе компоновки данных:

•

Используется режим совместимости ‑ при сравнении друг с другом объектов одного типа (включая массив и таблицу значений), не примитивного типа, не ссылочного типа, в качестве результата сравнения используется сравнение адресов расположения сравниваемых объектов в оперативной памяти компьютера.

•

Не используется режим совместимости ‑ правила сравнения значений см. здесь.

•

Ошибка, возникающая в том случае, когда один из операндов операции «+» языка запросов превышает 1 024 символа:

•

Используется режим совместимости ‑ ошибка имеет формулировку Неверные параметры "+".

•

Не используется режим совместимости ‑ ошибка имеет формулировку В операции "+" нельзя использовать строки неограниченной длины.

•

Размерность результата работы функции ПОДСТРОКА() языка запросов:

•

Используется режим совместимости ‑ длина результирующей строки была всегда равна значению третьего параметра функции. Длина первого параметра в расчет не принималась.

•

Не используется режим совместимости ‑ длина результирующей строки будет равна значению третьего параметра функции, но не более, чем длина первого параметра.

•

Поведение системы при изменения свойств поля ввода формы, содержащей модифицированные данные:

•

Используется режим совместимости ‑ при установке полю ввода свойства Видимость в значение Ложь, выполняются следующие действия:

•

Для поля, связанного с текстовым значением, формируется значение из введенного текста, и вызывается обработчик события ПриИзменении.

•

Поле, связанное со ссылочным значением, может остаться в не консистентном состоянии при незавершенном вводе.

•

Не используется режим совместимости ‑ для поля ввода форм, содержащего модифицированные данные и являющегося текущим элементом формы, попытка установить в значение Ложь свойства Видимость, Доступность или РедактированиеТекста, а также установить в значение Истина свойство ТолькоПросмотр, приводит к следующим действиям:

•

Вызывается обработчик события ОкончаниеВводаТекста.

•

Если по окончанию работы обработчика события ОкончаниеВводаТекста значение параметра СтандартнаяОбработка установлено в значение Истина, то:

•

Вызывается обработчик события ПриИзменении, если удалось сформировать

ввода если не удалось сформировать корректное значение по введенным данным.

•

Если по окончанию работы обработчика события ОкончаниеВводаТекста значение параметра СтандартнаяОбработка установлено в значение Ложь, то в поле ввода устанавливается текущее значение реквизита, связанного с полем ввода если не удалось сформировать корректное значение по введенным данным.

Для поля ввода форм, содержащего не модифицированные данные и являющегося текущим элементом формы, попытка установить в значение Ложь свойства Видимость, Доступность или РедактированиеТекста, а также установить в значение Истина свойство ТолькоПросмотр, приводит к закрытию выпадающего списка, если таковой был открыт.

•

Поведение полнотекстового поиска при использовании символа подстановки «*» совместно с высокочастотным префиксом:

•

Используется режим совместимости ‑ при выполнении поиска выражений вида «слово*», поиск может не завершиться вовсе с ошибкой превышения количества допустимых слов поиска.

•

Не используется режим совместимости ‑ уменьшена вероятность возникновения ошибки превышения допустимого количества слов поиска при попытке поиска часто возникающих выражений вида «слово*».

•

Особенности импорта рисунков из документов формата XLS (Microsoft Excel 97), Microsoft Office OpenXML (Microsoft Excel 2007 и старше) или ODS (OpenDocument):

•

Используется режим совместимости:

•

Для рисунка-фигуры импорт не выполняется если текст рисунка пустой, но выполняется, если текст рисунка состоит только из пробелов.

•

Для рисунка-картинки импорт выполняется в любом случае, даже если текст рисунка пустой или состоит только из пробелов.

•

Не используется режим совместимости ‑ рисунок типа Текст в результирующем табличном документе не создается, если у рисунка-фигуры или рисунка-картинки текст рисунка пустой или состоит только из пробелов.

•

Тип рисунка для примечания в ячейке табличного документа:

•

Используется режим совместимости: ‑ значением свойства ТипРисунка для рисунка-примечания ячейки табличного документа является ТипРисункаТабличногоДокумента.Текст.

•

Не используется режим совместимости ‑ значением свойства ТипРисунка для рисунка-примечания ячейки табличного документа является ТипРисункаТабличногоДокумента.Примечание.

•

Вывод в макет группировки полей ресурсов в некоторых случаях случаев:

•

Используется режим совместимости ‑ генератор макета системы компоновки данных не выводит в макет группировки поля ресурсов, если для вывода родительской группировки используется предопределенный макет и в выбранных полях не указаны ресурсы, а у дочерней группировки ресурсы указаны.

•

Не используется режим совместимости ‑ генератор макета системы компоновки данных выводит в макет группировки поля ресурсов, даже если для вывода родительской группировки используется предопределенный макет и в выбранных полях не указаны ресурсы, а у дочерней группировки ресурсы указаны.

•

Поведение запроса, не содержащего в списке выборки реквизитов табличной части, но содержащем сравнение нескольких реквизитов табличной части, объединенных «по И»:

•

Используется режим совместимости ‑ условия исполняются изолированно, что может приводить к неверным результатам сравнения.

•

Не используется режим совместимости ‑ условия исполняются вместе для каждой строки

7.2.11. С версией 8.3.14

выводе полей в макет группировки:

•

Используется режим совместимости ‑ применял условное оформление только к полям, которые не являются ресурсами.

•

Не используется режим совместимости ‑ применяет условное оформление ко всем выводимым полям.

Таким образом, при выводе отчета, созданного при помощи системы компоновки данных, условное оформление, применяемое к полям-ресурсам, будет отрабатываться и в диаграмме.

В результате может измениться внешний вид отчета, если в нем используется диаграмма, в которой используются ресурсы с настроенным условным оформлением.

•

Отображение текста в ячейке табличного документа, если для ячейки установлено выравнивание «По ширине»:

•

Используется режим совместимости ‑ выглядит как выравнивание «Влево».

•

Не используется режим совместимости ‑ текста отображается корректно.

•

Результат работы функции языка запросов ТипЗначения(), применяемой к выражению, содержащее поле ЭтоГруппа:

•

Используется режим совместимости ‑ возвращает неверное значение. Результат вычисляется так, как будто значение поля ЭтоГруппа содержит инвертированное значение.

•

Не используется режим совместимости ‑ возвращает правильное значение.

•

Результат работы функции языка запросов ТипЗначения(), применяемой к выражению, в котором участвует как виртуальное поле, так и значение примитивного типа:

•

Используется режим совместимости ‑ возвращает некорректное значение.

•

Не используется режим совместимости ‑ возвращает корректное значение.

•

Работа системы компоновки данных с дополнительными характеристиками при получении значений характеристик (для любых целей, например сортировки или отбора по ней):

•

Используется режим совместимости ‑ не учитывается тип значения характеристики при получении значения характеристики. Даже если в информационной базе записано значение, не соответствующее типу значения используемой характеристики, оно будет использовано.

•

Не используется режим совместимости ‑ учитывается тип значения характеристики при получении значения характеристики. Если в информационной базе записано значение, не соответствующе типу значения используемой характеристики, то вместо него будет использоваться NULL.

•

Добавление команд Сформировать, Печать, Сохранить, Компактный режим в командную панель формы отчета (с установленным признаком автоматического заполнения) в зависимости от того, заполнено свойство формы отчета Результат отчета или нет:

•

Используется режим совместимости ‑ всегда добавляются в командную панель формы отчета с установленным признаком автоматического заполнения.

•

Не используется режим совместимости ‑ будут добавлены в командную панель формы отчета только в том случае, если задано свойство формы отчета Результат отчета. Если свойство формы отчета Результат отчета не задано, то команды не будут добавлены в автоматически заполняемую командную панель формы отчета.

•

Поведение системы при обработке текста запроса, который содержал правые соединения, конструктором запроса, схемой запроса, системой компоновки данных и построителем отчета:

•

Используется режим совместимости ‑ выполняется автоматическая замена правых

•

Не используется режим совместимости ‑ автоматическая замена правых соединений на аналогичные левые соединения не выполняется.

•

Поведение компоновщика макета системы компоновки данных при работе с вычисляемыми полями, полями наборов данных и вычисляемыми полями-ресурсами:

•

Используется режим совместимости ‑ компоновщик макета компоновки данных, использует выражение представления вычисляемого поля, являющегося ресурсом в детальных, групповых и итоговых записях.

•

Не используется режим совместимости ‑ компоновщик макета компоновки данных, при формировании выражения групповых и итоговых записей для вычисляемых полей, являющихся ресурсами, не использует выражение представления, указанное у вычисляемого поля. Таким образом, выражение представления для вычисляемых полей, являющихся ресурсами, будет выдаваться в отчет только в детальных записях.

•

Работа языка запросов с выражениями, которые являются параметрами виртуальных таблиц:

•

Используется режим совместимости ‑ в языке запросов отсутствует оптимизация вычислений выражений, которые выступают параметрами виртуальных таблиц.

•

Не используется режим совместимости ‑ в языке запросов реализована оптимизация вычислений выражений, которые выступают параметрами виртуальных таблиц. Оптимизация полностью эквивалента оптимизации обычных выражений языка запросов.

•

Определение используемых полей компоновщиком макета системы компоновки данных:

•

Используется режим совместимости ‑ компоновщик макета системы компоновки данных считает задействованными все поля, которые есть в элементе условного оформления, даже если этот элемент условного оформления не применяется ни к одному полю. В запрос получения данных помещаются все поля, которые формально участвуют в условном оформлении.

•

Не используется режим совместимости ‑ компоновщик макета системы компоновки данных считает задействованными поля, использующиеся в элементе условного оформления компоновки данных только тогда, когда этот элемент условного оформления применяется как минимум к одному из выводимых полей (в том числе и при применении условного оформления ко всем полям). Если элемент условного оформления ни к одному полю не применяется, то поля, которые в нем задействованы, считаются не используемыми и не добавляются в результирующий запрос макета компоновки данных. В результате в запрос получения данных не добавляются поля, которые не используются в условном оформлении.

•

Использование операции ВЫБОР в качестве константного параметра виртуальной таблицы:

•

Используется режим совместимости ‑ операция языка запросов ВЫБОР не заменяется на константу и не может использоваться в константных параметрах виртуальных таблиц. При расчете операции ВЫБОР в итогах запроса, если операнд операции содержит NULL, то результатом операции является NULL.

•

Не используется режим совместимости ‑ операция языка запросов ВЫБОР будет считаться константой и заменяться на константу, если все ветки операции содержат только константные выражения. Как следствие, операцию ВЫБОР можно будет использовать в константных параметрах виртуальных таблиц, при условии, что все ветки операции ВЫБОР содержат только константные выражения.

Если операнд операции ВЫБОР в итогах запроса содержит NULL, то результатом операции будет значение, указанное в разделе ИНАЧЕ или NULL, если его нет.

•

Проверка системой компоновки данных доступности для поля, которое получается «через точку» от поля временной таблицы или вложенного запроса:

•

Используется режим совместимости ‑ проверка доступности не включает проверку того, что поле не отключено функциональной опцией. Если поле временной таблицы или вложенного запроса доступно, то считается, что все поля, доступные «через точку», также доступны.

7.2.12. С версией 8.3.15

поле не отключено функциональной опцией.

•

Использование функций языка запросов ПОДСТРОКА(), ГОД(), КВАРТАЛ(), МЕСЯЦ(), ДЕНЬГОДА(), ДЕНЬ(), НЕДЕЛЯ(), ДЕНЬНЕДЕЛИ(), ЧАС(), МИНУТА(), СЕКУНДА() в константных параметрах виртуальных таблиц:

•

Используется режим совместимости ‑ функции нельзя использовать в константных параметрах виртуальных таблиц при любом значении параметров функций.

•

Не используется режим совместимости ‑ функции считаются константными и заменяются на константу, если все параметры функции содержат только константные выражения. В результате данные функции можно использовать в константных параметрах виртуальных таблиц, при условии, что параметры функций содержат только константные выражения.

•

Применение условного оформления к колонкам таблицы отчета системы компоновки данных:

•

Используется режим совместимости ‑ применяется только к заголовку и итогу по колонке.

•

Не используется режим совместимости ‑ применяется ко всей колонке отчета.

•

Расчет типа выражения системы компоновки данных для выражений, содержащих параметры и поля с произвольным типом.

•

Используется режим совместимости ‑ если в выражении системы компоновки данных участвует значение с произвольным типом, то при вычислении типа результирующего выражения произвольный тип игнорируется.

•

Не используется режим совместимости ‑ если в выражении системы компоновки данных один из типов в выражении является произвольным, то и результирующее выражение будет иметь произвольный тип.

•

Расчет полей (% общий, % в группировке, % в группе иерархии, % в строке или серии, % в колонке или точке, % в группировке строки или серии, % в группировке колонки или точки, % в группе иерархии строки или серии, % в группе иерархии колонки или точки) системы компоновки данных, если значение ресурса, от которого получено данное поле, в текущей группировке равно 0:

•

Используется режим совместимости ‑ деление на значение родительской группировки (или общего итога) выполняется всегда, кроме случая, когда значение ресурса в группировке было равно NULL. В результате во время выполнения могла формироваться ошибка деления на 0.

•

Не используется режим совместимости ‑ значение поля равно 0.

•

Поведение системы в случае присвоения свойству Диаграмма.ИсточникДанных нового значения:

•

Используется режим совместимости ‑ очистка диаграммы не выполняется, выделение не очищается.

•

Не используется режим совместимости ‑ после присваивания будет вызываться метод Очистить() объект Диаграмма. Поэтому, в результате присваивания нового значения будет удаляться текущее выделение.

•

Формирование меню дополнения элемента формы Управление поиском:

•

Используется режим совместимости ‑ меню состоит из всех команд связанной таблицы формы (аналогично автозаполнению командной панели таблицы). «Лишним» командам отключается видимость.

•

Не используется режим совместимости ‑ меню состоит только из тех команд, которые должны находиться в данном меню: поиск по текущему значению, расширенный поиск, история поиска, отмена поиска.

на строке) в строке таблицы, связанной с динамическим списком, а также при вызове метода таблицы формы ИзменитьСтроку() расширение таблицы формы:

•

Используется режим совместимости с версией 8.3.10 ‑ будет выполнять открытие формы, связанной с этой строкой независимо от того, есть ли в составе команд таблицы команда Изменить.

•

Используется режим совместимости с версиями от 8.3.11 до 8.3.15 ‑ будет выполнять открытие формы, связанной с этой строкой только в том случае, если в составе таблицы есть команда Изменить.

•

Не используется режим совместимости ‑ будет выполнять открытие формы, связанной с этой строкой независимо от того, есть ли в составе команд таблицы команда Изменить.

•

Использование в платформе XSD-схем, содержащих типы, в которых атрибуты определены через ссылки на глобальные атрибуты, но переопределяющие такие свойства как default или fixed:

•

Используется режим совместимости ‑ в процессе проверки модели XDTO формируется ошибка. Работа с такими схемами невозможна.

•

Не используется режим совместимости ‑ использование возможно.

•

Проверка наличия полей отбора в списке доступных полей:

•

Используется режим совместимости ‑ проверка не выполняется.

•

Не используется режим совместимости ‑ проверка выполняется. При обнаружении первого недоступного для отбора поля генерируется ошибка.

•

Использование в качестве ключевых полей динамического списка полей, имеющих разные выражения для выбора и отбора:

•

Используется режим совместимости ‑ использование возможно. В этом случае при работе динамического списка могут наблюдаться различные труднодиагностируемые ошибки.

•

Не используется режим совместимости ‑ использование не поддерживается.

•

Совмещение упорядочивания запроса набора данных и упорядочивания собственно схемы компоновки данных:

•

Используется режим совместимости ‑ компоновщик макета компоновки данных добавляет упорядочивание из запроса после существующего упорядочивания схемы компоновки данных.

•

Не используется режим совместимости ‑ компоновщик макета компоновки данных добавляет упорядочивание из запроса перед существующим упорядочиванием схемы компоновки данных.

•

Тип поля компоновки данных, которое получается в результате использования агрегатных функций языка запросов СУММА() и СРЕДНЕЕ():

•

Используется режим совместимости ‑ за тип поля принимается тип поля, которое является параметром указанных агрегатных функций.

•

Не используется режим совместимости ‑ за тип поля принимается число неограниченной длины.

•

Запись в информационную базу набора записей независимого регистра сведений без замещения в режиме загрузки данных (свойство ОбменДанными.Загрузка установлено в значение Истина):

•

Используется режим совместимости ‑ не выполняется проверка уникальности записей. Такое поведение могло приводить к нарушению целостности данных.

•

Не используется режим совместимости ‑ выполняется проверка уникальности записей.

7.2.14. С версией 8.3.17

•

Диагностика запросов, формирующих временную таблицу из таблицы значений, в которой есть колонка без указания конкретного типа значения в этой колонке, и эта колонка попадает во временную таблицу (как напрямую, так и в составе какого-либо выражения):

•

Используется режим совместимости ‑ ошибка не выдается, но поведение может быть неверным.

•

Не используется режим совместимости ‑ выдается ошибка.

•

Использование права Просмотр для системы компоновки данных в том случае, если в запросах системы компоновки данных используются запросы с объединениями, и используется метод ПроцессорКомпоновкиДанных.Инициализировать() с параметром ОграничиватьПолучениеПолейПоСсылкамПоПравуПросмотра, установленным в значение Истина:

•

Используется режим совместимости ‑ право Просмотр учитывается только для первой части объединения.

•

Не используется режим совместимости ‑ право Просмотр учитывается для всех частей объединения.

•

Поведение системы для значения по умолчанию у свойств с вариантом представления «Элемент» при экспорте пакета XDTO в схему XML:

•

Используется режим совместимости ‑ не выполняется экспорт значения по умолчанию (или фиксированного значения).

•

Не используется режим совместимости ‑ выполняется экспорт значения по умолчанию (или фиксированного значения) так же, как это делается для свойств с вариантом представления «Атрибут».

•

Чтение настроек отчетов, динамических списков и условного оформления форм, которые содержат отсутствующие элементы стиля:

•

Используется режим совместимости ‑ генерируется ошибка. Настройки не могут быть загружены.

•

Не используется режим совместимости ‑ ошибки не генерируется. Отсутствующие элементы стиля заменяются значениями по умолчанию соответствующего типа.

•

Результат работы оператора В (который отвечает всем следующим критериям) при использовании в запросе для файлового или клиент-серверного варианта (при использовании СУБД Microsoft SQL Server): оператор В содержит подзапрос; подзапрос оператора В содержит операции ПЕРВЫЕ или УПОРЯДОЧИТЬ ПО; в левой части оператора В и подзапросе содержатся значения разных типов или тип ЛюбаяСсылка.

•

Не используется режим совместимости ‑ возвращает значение типа Булево или NULL.

•

Используется режим совместимости ‑ всегда возвращает значение типа Булево.

•

Формирование запроса к данным в том случае, если в настройках системы компоновки данных указан отбор с видом сравнения Заполнено или Не заполнено для поля, которое в запросе задано как агрегатная функция СУММА():

•

Не используется режим совместимости ‑ такое условие в результирующем запросе помещается в секцию запроса ИМЕЮЩИЕ.

•

Используется режим совместимости ‑ такое условие в результирующем запросе помещается в секцию запроса ГДЕ.

•

Поведение системы компоновки данных в том случае, когда для отбора компоновки данных, заданного на уровне набора данных, указано условие Содержит, Не содержит, Подобно, Не подобно, Начинается с и Не начинается с, и строка с условием содержит символ """ (одиночная

экранирует такие символы при формировании макета компоновки данных.

•

Используется режим совместимости ‑ система компоновки данных не экранирует такие символы при формировании макета компоновки данных. В результате исполнение такой компоновки данных могло привести к ошибке.

•

Поведение платформы в том случае, если при получении текстов почтового сообщения, текст сообщения был неизвестного для платформы «1С:Предприятие» типа:

•

Не используется режим совместимости ‑ свойство ИнтернетТекстПочтовогоСообщения.ТипТекста устанавливается в значение ТипТекстПочтовогоСообщения.ПроизвольныйТекст.

•

Используется режим совместимости ‑ свойство ИнтернетТекстПочтовогоСообщения.ТипТекста устанавливается в значение ТипТекстПочтовогоСообщения.ПростойТекст.

•

Если у объекта ЧтениеДанных свойство КонвертируемыйРазделительСтрок не установлено или установлено в значение Символы.ВК+Символы.ПС, а в читаемом текстовом файле имеются подряд идущие символы Символы.ВК между комбинациями Символы.ВК+Символы.ПС, то:

•

Не используется режим совместимости ‑ метод ПрочитатьСимволы() работает следующим образом:

•

Каждая пара Символы.ВК+Символы.ПС заменяется на Символы.ПС.

•

Все остальные символы возвращаются методом «как есть».

•

Используется режим совместимости ‑ метод ПрочитатьСимволы() может нарушать порядок символов (включая перестановку символов, удаление и добавление Символы.ВК или Символы.ПС).

•

Формирование конструктором запросов отсутствующих псевдонимов полей запроса:

•

Не используется режим совместимости ‑ по такой же схеме, что и механизм исполнения запросов.

•

Используется режим совместимости ‑ по схеме, которая отличается от схемы работы механизма исполнения запросов.

•

Использование метода Выполнить() для вызова методов расширяемой формы из формы расширения:

•

Не используется режим совместимости ‑ такой вызов более не поддерживается. Вызывать можно только те методы, которые доступны через свойство ЭтотОбъект.

•

Используется режим совместимости ‑ такой вызов возможен.

•

Применение отбора к запросу набора данных, содержащего объединение:

•

Не используется режим совместимости ‑ отбор применяется только в тех частях объединения, где это поле доступно для отбора, если во всех частях объединения поле, к которому применяется отбор, доступно только для применения отбора и недоступно для выбора.

•

Используется режим совместимости ‑ обязательно применяется ко всем частям объединения, если хотя бы в одной части объединения поле было доступно для отбора.

•

Поведение системы в том случае, когда в качестве значения свойства СписокПолнотекстовогоПоиска.ОбластьПоиска устанавливается массив, который содержит элемент, не являющийся объектом метаданных:

•

Не используется режим совместимости ‑ генерируется исключение.

•

Используется режим совместимости ‑ проверка не выполняется, однако при попытке получить результат поиска (метод СписокПолнотекстовогоПоиска.ПерваяЧасть())

тонком и веб-клиентах:

•

Не используется режим совместимости ‑ генерируется ошибка.

•

Используется режим совместимости ‑ зависит от клиентского приложения:

•

Веб-клиент ‑ генерируется ошибка.

•

Тонкий клиент ‑ установка срабатывает и данные отображаются диаграммой до первого серверного вызова. После первого серверного вызова, связь диаграммы с данными теряется.

•

Интерактивное редактирование диаграммы с установленным источником данных:

•

Не используется режим совместимости ‑ не поддерживается.

•

Используется режим совместимости ‑ наблюдается следующее поведение:

•

Значения диаграммы редактируются.

•

Значения в источнике данных не изменяются.

•

При изменении значений в источнике данных ‑ все изменения, сделанные вручную, теряются и диаграмма начинает отображать данные из источника данных.

•

Результат запроса к виртуальной таблице СрезПоследних регистра сведений:

•

Не используется режим совместимости: попадают только те записи регистра, для которых свойство Активность установлено в значение Истина.

•

Используется режим совместимости: попадают все записи, вне зависимости от значения свойства записи Активность.

•

Поведение при попытке использовать несуществующее свойство или метод внешней компоненты в веб-клиенте:

•

Не используется режим совместимости: сообщается об ошибке, которую можно перехватить в рамках конструкции Попытка - Исключение. При этом вызов метода или обращение к свойству вообще не начинается. Поведение в тонком и толстом клиентских приложениях соответствует описанному поведению веб-клиента (поведение не изменилось).

•

Используется режим совместимости: веб-клиент пытается выполнить вызов. Если метод или свойство отсутствует, то ошибка попадает только в обработчик ошибки, который указан в описании оповещения. Ошибка не может быть перехвачена в рамках конструкции Попытка - Исключение.

•

Представление вычисляемого поля компоновки данных, по которому выполняется группировка, в результате компоновки данных:

•

Не используется режим совместимости ‑ в этой группировке (и в ее вложенных группировках), при выводе такого поля в результат компоновки данных, используется выражение представления этого поля (если указано).

•

Используется режим совместимости ‑ представление вычисляемого поля выводится только в детальных записях.

•

Формирование макетов системы компоновки данных, использующих предопределенные макеты ресурсов:

•

Не используется режим совместимости ‑ генератор макетов системы компоновки данных вычисляет ширину (в ячейках) каждого макета ресурсов, выводимого в колонке таблицы системы компоновки данных, как максимальную ширину всех макетов, выводимых в данной колонке таблицы системы компоновки данных (как сгенерированных, так и предопределенных макетов). Таким образом, если для макетов группировок и ресурсов указаны предопределенные макеты, то для этих группировок не учитывается количество ресурсов, указанных для них в настройках компоновки данных.

7.2.15. С версией 8.3.18

7.2.16. С версией 8.3.19

вычисляет ширину (в ячейках) каждого макета ресурсов, выводимого в колонке таблицы системы компоновки данных, на основании всех выводимых в данный макет ресурсов (в настройках компоновки данных) и предопределенных макетов. Таким образом, если для какого-либо макета ресурсов, заданного для пересечения строки/колонки таблицы, предполагаемая ширина макета больше, чем ширина предопределенного макета, то ширина создаваемого макета становится равна предполагаемой ширине.

•

Поведение метода ПредопределенноеЗначение(), когда в качестве значения параметра указано несуществующее значение перечисления:

•

Не используется режим совместимости: формируется исключение.

•

Используется режим совместимости: возвращается пустое значение.

•

При вычислении доступности дочерних полей, используемых в выражениях компоновки данных, проверка того, что поле не отключено с помощью функциональной опции:

•

Не используется режим совместимости ‑ выполняется и для самого поля, и для всех родительских полей этого поля.

•

Используется режим совместимости ‑ выполняется только для самого поля. Проверка для родительских полей не выполняется.

•

Поведение системы, если в запросе, формирующем временную таблицу на основании таблицы значений, используется получение поля «через точку» от другого выражения:

•

Не используется режим совместимости ‑ при исполнении такого запроса выдается ошибка языка запросов. Рекомендуется проанализировать тексты запросов формирования временных таблиц для устранения изменяемого поведения.

•

Используется режим совместимости ‑ при исполнении такого запроса в клиент-серверном варианте формируется ошибка времени исполнения, а в файловом варианте ‑ в значение временной таблицы помещается неправильное значение.

•

Поведение метода ПолучитьСклоненияСтрокиПоЧислу() при формировании числа с окончанием:

•

Не используется режим совместимости:

•

Для порядкового числительного:

•

Если предпоследняя буква в окончании полученного числительного является согласной, то формируется двухбуквенный вариант.

•

Если предпоследняя буква в окончании полученного числительного является гласной, то формируется однобуквенный вариант.

•

Для количественного числительного: формируется ошибка неверного указания параметров.

•

Используется режим совместимости ‑ для порядковых и количественных числительных всегда возвращаются двухбуквенные окончания.

•

Использование элемента условного оформления с установленной областью использования В общем итоге для условного оформления макетов ресурсов итога по горизонтали и вертикали таблицы в системе компоновки данных:

•

Не используется режим совместимости ‑ элемент используется для условного оформления.

•

Используется режим совместимости ‑ элемент не используется для условного оформления.

7.2.17. С версией 8.3.20

ШрифтЗаголовка и ЦветТекстаЗаголовка.

•

Не используется режим совместимости ‑ свойства не используются.

•

Используется режим совместимости:

•

Значение свойства ШрифтЗаголовка группы формы вида Страница задает шрифт заголовка страницы. Данное свойство для группы формы вида Страницы управляет шрифтом заголовка всех страниц группы (для которых явно не указан шрифт).

•

Значение свойства ЦветТекстаЗаголовка группы формы вида Страница задает цвет текста заголовка страницы. Данное свойство для группы формы вида Страницы управляет цветом текста заголовка всех страниц группы (для которых явно не указан цвет текста заголовка).

•

Поведение системы компоновки данных, в которой используется отбор с видами сравнения Содержит, Начинается с, Соответствует шаблону, Не содержит, Не начинается с, Не соответствует шаблону для поля запроса, содержащего объединение, в котором это поле в одной части объединения имеет строковой тип, а в другой части объединения ‑ не строковой тип:

•

Используется режим совместимости ‑ в той части объединения, где поле имеет не строковый тип, в запрос не добавляется никаких условий.

•

Не используется режим совместимости ‑ в той части объединения, где поле имеет не строковый тип, в запрос будет добавлено заведомо ложное условие.

•

Размер межстрочного интервала, который используется при экспорте табличного документа в Microsoft Excel, при вычислении высоты строк документа, содержащих многострочный текст (включая текст с автоматическим переносом строк):

•

Используется режим совместимости ‑ используется межстрочный интервал, равный межстрочному интервалу табличного документа.

•

Не используется режим совместимости ‑ используется увеличенный межстрочный интервал.

•

Поведение системы при обращении к свойствам объекта СтандартноеХранилищеНастроекВыборка в том случае, когда выборка закончилась или была пустой:

•

Используется режим совместимости ‑ наблюдается различное поведение:

•

Если выборка закончилась ‑ в свойствах объекта остаются последние прочитанные значения.

•

Если выборка была пустой ‑ в свойствах объекта находятся значения Неопределено.

•

Не используется режим совместимости ‑ формируется восстановимая ошибка встроенного языка.

•

Работа функций языка запросов МИНИМУМ() и МАКСИМУМ() для колонки типа Булево (на СУБД PostgreSQL) в том случае, когда в колонки присутствуют значения типа Булево и NULL:

•

Используется режим совместимости ‑ результат работы функций зависит от того, в каком порядке в выборке представлены значения типа Булево и NULL.

•

Не используется режим совместимости ‑ результат работы не от того, в каком порядке в выборке представлены значения типа Булево и NULL.

•

Поведение множественного оператора В с подзапросом в различных СУБД:

•

Используется режим совместимости ‑ для СУБД PostgreSQL, Oracle Database, IBM Db2 выражение языка запросов, содержащих множественный оператор В с подзапросом,

Это приводит к тому, что выражение языка запросов могло возвращать разные значения на разных СУБД.

•

Не используется режим совместимости ‑ для СУБД PostgreSQL, Oracle Database, IBM Db2 выражение языка запросов, содержащих множественный оператор В с подзапросом, транслируется в язык СУБД с использованием оператора EXISTS(). В результате изменения множественный оператор В с подзапросом всегда возвращает значение типа Булево.

•

Наименование листа при сохранении табличного документа в формат XLS (Microsoft Excel 97) или Microsoft Office OpenXML (Microsoft Excel 2007 и старше):

•

Используется режим совместимости ‑ в результирующем документе для листа Microsoft Excel устанавливается имя TDSheet.

•

Не используется режим совместимости ‑ в результирующем документе для листа Microsoft Excel устанавливается имя Лист_1.

•

Поведение генератора макета системы компоновки данных в том случае, если необязательное соединение запроса признано используемым (в настройках компоновки данных используется поле из таблиц этого соединения):

•

Используется режим совместимости ‑ это не делает используемыми соединения с таблицами, поля которых были использованы в этом соединении.

•

Не используется режим совместимости ‑ используемыми считаются также и соединения с таблицами, поля которых использованы в этом соединении.

•

Поведение системы компоновки данных в том случае, когда задана группировка вида «поле-период ‑ поле, не являющееся периодом ‑ поле-период»:

•

Используется режим совместимости ‑ система компоновки данных выводит в отчет записи из других периодов.

•

Не используется режим совместимости ‑ система компоновки данных не выводит в отчет записи из других периодов.

•

Вывод списковых макетов системой компоновки данных:

•

Используется режим совместимости ‑ в правой нижней ячейке макета выполнялось объединение по вертикали с пустой ячейкой, находящейся в строке ниже.

•

Не используется режим совместимости ‑ в правой нижней ячейке макета не выполняется объединение по вертикали с пустой ячейкой, находящейся в строке ниже.

•

Возможности поиска и отбора в динамическом списке по видимому полю, тип которого содержит строку неограниченной длины и любой другой тип (кроме NULL и Неопределено):

•

Используется режим совместимости ‑ поиск по такому полю через строку поиска невозможен (формируется ошибка). Такое поле присутствует в списке доступных полей отбора, но попытка применить отбор по этому полю завершается ошибкой.

•

Не используется режим совместимости ‑ поиск по такому полю доступен только через строку поиска. Такое поле отсутствует в списке доступных полей отбора.

•

Содержимое коллекции полей порядка в настройках компоновки данных, которые получаются в результате вызова метода расширения таблицы формы для динамического списка ПолучитьИсполняемыеНастройкиКомпоновкиДанных(), если в динамическом списке корректно указаны ключевые поля:

•

Используется режим совместимости ‑ в конец список полей порядка не добавляются ключевые поля динамического списка. В результате сортировка данных, которая выполняется по таким настройкам, может быть нестабильной.

•

Не используется режим совместимости ‑ в конец список полей порядка добавляются ключевые поля динамического списка. В результате сортировка данных, которая выполняется по таким настройкам, всегда будет стабильной.

•

Минимальная граница для реквизита иерархического плана видов характеристик, который принадлежит только элементу или только группе, в XDTO-пакете, описывающем типы данных текущей конфигурации:

•

Используется режим совместимости ‑ установлено в значение 1.

•

Не используется режим совместимости ‑ установлено в значение 0.

•

Поведение системы компоновки данных в том случае, когда одно доступное поле отбора компоновки данных формируется из нескольких полей (посредством объединения полей в запросе или посредством получения нескольких полей через точку для разных ссылочных типов):

•

Используется режим совместимости ‑ у этого доступного поля свойства СвязьПоТипу, ФормаВыбора, ПараметрыВыбора, СвязиПараметовВыбора, заполняются из первого поля, в котором соответствующее свойство имеет не пустое значение.

•

Не используется режим совместимости ‑ у этого доступного поля свойства СвязьПоТипу и ФормаВыбора заполняются, только если у всех полей, формирующих это поле, данные свойства содержат одинаковые значения. Кроме того, для доступного поля свойства ПараметрыВыбора и СвязиПараметовВыбора, заполняются таким образом, что в результирующие связи и параметры попадают только параметры и связи, которые есть во всех полях, входящих в доступное поле, и у которых совпадают значения всех свойств.

•

Применение параметра оформления Выделять отрицательные, заданного в оформлении поля набора данных схемы компоновки данных, в макетах отчетов системы компоновки данных и макетах динамического списка:

•

Используется режим совместимости ‑ специальный цвет стиля ЦветОтрицательногоЧисла используется в ячейке макета отчета системы компоновки данных и динамического списка, только если в ячейке содержится текст, первый значимый символ которого "-". В макете компоновки данных в оформлении поля макета создается параметр ВыделятьОтрицательные.

•

Не используется режим совместимости ‑ специальный цвет стиля ЦветОтрицательногоЧисла используется в ячейке макета отчета системы компоновки данных и динамическом списке, если в выводимом поле содержится отрицательное значение. В макете компоновки данных в оформлении ячейки для параметра оформления ЦветТекста создается выражение макета системы компоновки данных.

•

Параметр оформления Текст, заданный в оформлении поля набора данных схемы компоновки данных:

•

Используется режим совместимости ‑ не используется в макетах отчетов системы компоновки данных.

•

Не используется режим совместимости ‑ используется в макетах отчетов системы компоновки данных.

•

Автоматический расчет ширины колонок при выводе результата отчета в табличный документ выполняется следующим образом:

•

Не используется режим совместимости ‑ в этом случае:

•

Для колонок первой выводимой строки размер рассчитывался «точно»: при помощи графической библиотеки измерялась ширина, которую займет выводимый текст и к этому значению добавлялось 10 пикселей.

•

Для последующих 99 выводимых строк размер рассчитывался «приблизительно»: количество символов выводимого текста, умножалось на среднюю ширину символа шрифта и к этому значению добавлялось значение, равное 2 средним ширинам символа.

•

Для строк, начиная со 101, ширина колонок автоматически не рассчитывалась.

•

Используется режим совместимости ‑ в этом случае:

7.2.19. С версией 8.3.22

графической библиотеки измеряется ширина, которую займет выводимый текст, без добавления «запаса» ширины.

•

Ширина колонок для строк, начиная со 101 строки, автоматически не рассчитывается.

•

Поведение конструктора объекта Шрифт, если размер шрифта указан равным 0.

•

Используется режим совместимости ‑ используемый размер шрифта зависел от клиентского приложения.

•

Не используется режим совместимости ‑ будет использован шрифт размером 13 pt во всех клиентских приложениях и на сервере.

•

Поведение конструктора объекта Шрифт, если шрифт задается на основании другого шрифта с указанием размера или масштаба.

•

Используется режим совместимости ‑ размер и масштаб шрифта-основания используются для определения характеристики создаваемого шрифта.

•

Не используется режим совместимости ‑ размер и масштаб шрифта-основания не используются для определения характеристики создаваемого шрифта.

•

Формат картинок при сохранении табличного документа в формате Office OpenXML WordprocessingML (docx-файлы):

•

Используется режим совместимости ‑ картинки сохраняются в формате VML.

•

Не используется режим совместимости ‑ картинки сохраняются в формате DrawingML.

•

Преобразование картинок при формировании отчета с помощью системы компоновки данных, для которой не установлено значение параметра ПлотностьСохраняемыхКартинок:

•

Используется режим совместимости ‑ компоновщик макета использует для этого параметра значение Исходная.

•

Не используется режим совместимости ‑ компоновщик макета использует для этого параметра значение Высокая.

•

Установка значения нижней границы для свойств, чьи элементы входят в модель содержания choice (в описании xsd-схемы) при импорте xsd-схемы в пакет XDTO:

•

Не используется режим совместимости ‑ устанавливаются значения, определенные для этих элементов непосредственно в xsd-схеме.

•

Используется режим совместимости ‑ в качестве значений нижней границы всегда устанавливались значения 0.

•

Ограничения длины имени пользователя и ключа настроек при работе со стандартным хранилищем настроек:

•

Используется режим совместимости ‑ длина:

•

ключа настроек не должна превышать 128 символов;

•

имени пользователя не должна превышать 64 символа.

•

Не используется режим совместимости ‑ без ограничений.

•

Правила упорядочивания выборки из стандартных настроек (после использования метода Выбрать() менеджера хранилища стандартных настроек):

•

Используется режим совместимости ‑ выборка упорядочена по возрастанию по следующим полям:

7.2.20. С версией 8.3.23

•

Ключа настроек.

•

Не используется режим совместимости ‑ выборка упорядочена по возрастанию по следующим полям:

•

Значению хеш-функции от имени пользователя.

•

Ключу объекта (в алфавитно-цифровом порядке).

•

Значению хеш-функции от ключа настроек.

•

Полю Версия.

•

Поведение метода КомпоновщикНастроекКомпоновкиДанных.Восстановить() в том случае, когда поле, используемое в левой части отбора системы компоновки данных или динамического списка отсутствует в списке доступных полей:

•

Используется режим совместимости ‑ такая проверка не выполнялась.

•

Не используется режим совместимости ‑ будет выполняться очистка (или отключение) отборов, в которых такое поле расположено в левой части отбора и если отбор используется в пользовательских настройках.

•

Отображение текста в том случае, если для ячейки табличного документа вертикальное положение текста задано как Центр или Низ, а текст не полностью помещается в ячейку по вертикали:

•

Используется режим совместимости ‑ размещение по вертикали и обрезание текста (для того, чтобы текст поместился в ячейку) выполнялось следующим образом:

•

Для выравнивания Центр ‑ текст центрировался по вертикали, а обрезание выполнялось и с начала, и с конца текста.

•

Для выравнивания Низ ‑ текст прижимается к нижнему краю ячейки, а обрезание выводимого текста выполнялось с начала текста.

•

Не используется режим совместимости ‑ текст будет выводиться таким образом, как если бы в ячейке вертикальное положение текста было указано как Верх. В этом случае текст отображается начиная с верхней границы ячейки. Если текст не помещается в ячейку ‑ будет обрезано окончание выводимого текста.

Если табличный документ экспортируется в какой-либо формат, отличный от формата MXL (HTML, Microsoft OpenXML, OpenOffice и т. д.), то выравнивание останется прежним и экспортированный документ может отличаться от оригинала.

•

Применение отбора к полям, содержащим множественные характеристики:

•

Используется режим совместимости ‑ выполняется фильтрация и поля, содержащего множественную характеристику и значений самой множественной характеристики.

•

Не используется режим совместимости ‑ выполняется фильтрация поля, содержащего множественную характеристику. Фильтрация значений самой множественной характеристики не выполняется.

•

Упорядочивание динамического списка по полям составного типа, содержащим более 10 типов:

•

Используется режим совместимости ‑ упорядочивание выполняется, состав доступных полей не ограничивается.

•

Не используется режим совместимости ‑ упорядочивание не поддерживаются, поля с таким составом типов исключаются из списка доступных полей для упорядочивания.

7.2.22. С версией 8.3.25

7.3. Особенности режима совместимости расширения

счетов:

•

Используется режим совместимости ‑ данные свойства размещаются до свойств, соответствующих признакам учета.

•

Не используется режим совместимости ‑ размещаются после свойств, соответствующих признакам учета.

•

Поведение функций СУММА() и СРЕДНЕЕ() языка запросов в том случае, если операндом функций является определяемый тип:

•

Используется режим совместимости - результатом работы функций является число с параметрами (длина и точность), которые указаны в определяемом типе. Ресурс регистра бухгалтерии, имеющий определяемый тип, имеет параметры (длину и точность) описываемую определяемым типом.

•

Не используется режим совместимости - результатом работы функций будет число без ограничения размерности. Ресурс регистра бухгалтерии, имеющий определяемый тип, будет иметь длину 38 разрядов и точность, описываемую определяемым типом.

•

Установка текста запроса (свойство Запрос.Текст) или вызов методов объекта Запрос и изменение значений свойств ИспользованиеКопийБазыДанных и ИспользуемыеКопииБазыДанных объекта Запрос:

•

Используется режим совместимости - изменения значений свойств не выполняется.

•

Не используется режим совместимости - приводит к установке свойства ИспользованиеКопийБазыДанных в значение ИспользованиеКопийБазыДанных.Авто и очистке свойства ИспользуемыеКопииБазыДанных.

•

Обработка параметра МаксимальноеКоличество метода ВыбратьСообщения() менеджера канала сервиса интеграции:

•

Используется режим совместимости - значение параметра игнорируется, метод всегда возвращает все сообщения канала сервиса интеграции.

•

Не используется режим совместимости - если параметра указан, то метод возвращает сообщения в количестве, не превышающем значение параметра.

•

Обработка значения нулевого уникального идентификатора (NIL UUID, значение из одних нулей) в свойстве ИдентификаторСообщенияЗапроса структуры отбора метода ВыбратьСообщения() менеджера канала сервиса интеграции:

•

Используется режим совместимости - значение нулевого уникального идентификатора игнорируется и возвращаются все сообщения канала.

•

Не используется режим совместимости - возвращаются только те сообщения канала сервиса интеграции, идентификатор сообщения запроса которых равен нулевому уникальному идентификатору.

С версией 8.3.7

•

Добавление дочерних объектов для заимствованных объектов:

•

Используется режим совместимости с версией 8.3.7 ‑ действие не поддерживается.

•

Не используется режим совместимости ‑ действие поддерживается.

•

Переопределение свойств заимствованных объектов в расширении:

•

Используется режим совместимости с версией 8.3.7 ‑ действие не поддерживается.

7.4. Особенности работы веб-клиента

С версией 8.3.10

•

Проверка применимости расширений перед применением расширения конфигурации:

•

Используется режим совместимости расширения с версией 8.3.10 ‑ не требуется.

•

Не используется режим совместимости расширения ‑ является обязательной.

•

Добавление собственных справочников и регистров сведений, а также добавление к справочникам основной конфигурации реквизитов и табличных частей:

•

Используется режим совместимости расширения с версией 8.3.10 ‑ действие не поддерживается.

•

Не используется режим совместимости расширения ‑ действие поддерживается.

•

В веб-браузерах Google Chrome и Safari не поддерживается:

•

Программная вставка из буфера обмена, а начиная с версии Google Chrome 6 и Safari 5 ‑ любые операции программного доступа к буферу обмена. Доступны только команды работы с буфером обмена с помощью клавиатуры (а не контекстного меню).

•

Автоматическая аутентификация операционной системы.

•

Возможность изменения колонтитулов при печати.

•

В веб-браузере Safari не поддерживается расширение работы со средствами криптографии.

•

Работа с COM-объектами поддерживается только при работе в веб-браузере Microsoft Internet Explorer.

•

ОС OS X поддерживают ввод паролей только с помощью букв латинского алфавита и цифр. ОС iOS, до версии 5.x (включая), поддерживает ввод паролей только с помощью букв латинского алфавита и цифр. В версии ОС iOS 6 допускается использовать в паролях символы национальных алфавитов. Для обеспечения совместимости между различными версиями ОС, а также при необходимости использовать прикладное решение с помощью веб-браузера Safari, рекомендуется задавать пароли пользователей с использованием цифр и букв только латинского алфавита.

•

При добавлении страницы с веб-приложением в Закладки веб-браузера Mozilla Firefox с помощью команды Добавить страницу в закладки следует вручную исправить добавленную ссылку. Для этого необходимо открыть окно редактирования свойств добавленной закладки и в поле адреса удалить текст от начала строки до http://, либо воспользоваться перетаскиванием иконки приложения (слева от адреса страницы) в меню Закладки.

•

При использовании веб-клиента в веб-браузере Google Chrome, с установленным расширением для работы с системой «1С:Предприятие», может возникать ситуация, при которой при запуске браузера расширение не начинает работать. Это может проявляться в том, что в веб-клиенте становится невозможной работа с буфером обмена. В подобной ситуации рекомендуется выполнить перезапуск браузера.

•

В веб-клиенте, при работе по протоколу HTTP, некоторые возможности могут быть недоступны или работать некорректно. Например, при работе веб-клиента по протоколу HTTP, в 32-разрядной операционной системе могут устанавливаться 64-разрядные расширения работы с файлами, криптографией или внешние компоненты.

•

Не поддерживается прерывание пользователем работы модуля. Во время выполнения модуля вызов метода ОбработкаПрерыванияПользователя() игнорируется.

•

Не поддерживается метод ЗаблокироватьРаботуПользователя().

•

В функции Вычислить() не диагностируется ошибка Обращение к процедуре как к функции.

быть записаны только на русском и английском языках.

•

При возникновении ошибки в выражении, переданном в функцию Вычислить(), ошибка диагностируется как ошибка вызова метода, а не как ошибка в переданном выражении.

•

В зависимости от используемого веб-браузера, отображается или оригинальная картинка в формате SVG, либо предварительно выполняется конвертация картинки в формат PNG. При этом размер картинки в формате PNG соответствует размеру, заданному в картинки в формате SVG. Следующие веб-браузеры отображают оригинальные картинки в формате SVG:

•

Internet Explorer 11.

•

Google Chrome;

•

Mozilla Firefox;

•

Safari 7 и старше.

Для корректного отображения картинки в формате SVG необходимо, чтобы в картинке был установлен размер (с помощью свойств width и height), а для отображения с помощью веб-браузера Microsoft Internet Explorer ‑ дополнительно должно быть установлено свойство viewBox.

•

В веб-клиенте не поддерживается отладка кода на встроенном языке в обработчиках событий приложения ПередЗавершениемРаботыСистемы() и ПриЗавершенииРаботыСистемы(), а также в обработчиках управляемой формы ПередЗакрытием() и ПриЗакрытии() в процессе завершения работы приложения, если завершение выполняется закрытием окна браузера.

•

Во время выполнения длительных операций не происходит изменения вида курсора.

•

Не поддерживается горизонтальная прокрутка (с помощью колеса мыши и нажатой клавиши Shift) во всех элементах формы.

•

В веб-браузерах Microsoft Internet Explorer и Mozilla Firefox не обрабатываются клавиши, нажатые во время серверного вызова. В веб-браузерах Google Chrome и Safari эти нажатия обрабатываются после завершения серверного вызова.

•

Не поддерживается определение горячей клавиши с помощью символа & в текстах команд, пунктов меню и т. д. Символ &, указанный в тексте, игнорируется и не отображается в интерфейсе.

•

При работе в веб-браузере Safari при длительном выполнении запроса сервером может происходить ошибка.

•

Не рекомендуется выполнять программное открытие и закрытие одной или нескольких форм в одном обработчике. Такие действия должны быть разнесены по времени. Рекомендуется закрытие форм выполнять в обработчике ожидания.

•

Если форма, которая открыта во вспомогательном окне, закрывается нажатием системной кнопки закрытия окна («крестик» в правом верхнем углу формы) или нажатием Alt + F4, то не происходит вызов обработчика ПередЗакрытием модуля закрываемой формы.

•

Если форму, которая открывается во вспомогательном окне, закрыть нажатием системной кнопки закрытия окна («крестик» в правом верхнем углу формы) до того, как она полностью отображена на экране, возможно возникновение ошибки веб-браузера.

•

При изменении значений реквизитов формы вне модуля этой формы, сделанные изменения не отображаются элементами формы. Для отображения изменений необходимо вызвать метод ОбновитьОтображениеДанных().

•

В веб-браузере Google Chrome не производится активизация свернутого окна при выдаче предупреждения, относящегося к содержимому данного окна.

•

Если в веб-браузере Google Chrome свернуть форму измененного объекта, а затем закрыть основное окно приложения, то будет выдано предупреждение о несохраненных данных, но форма с этими данными не будет активизирована.

размера шрифта, следует указывать не только размер, но и гарнитуру используемого векторного шрифта (TrueType-шрифт).

•

В веб-клиенте, работающем в веб-браузере Google Chrome, при использовании в элементах формы шрифта «MS Shell Dlg», вместо шрифта «Microsoft Sans Serif» будет использоваться шрифт «Times New Roman».

•

Формирование представления значения (для отображения в поле ввода), которое передается в параметре ВыбранноеЗначение обработчика ОбработкаВыбора, происходит после того, как переданное значение приводится к типу значения реквизита, который отображается полем ввода.

•

Если высота кнопки превышает 5 единиц (при стандартном размере шрифта), то кнопка отображается без перехода цветов (градиента).

•

Если в перечне кнопок функции глобального контекста Вопрос() нет кнопки со значением КодВозвратаДиалога.Отмена, то попытка закрыть диалог с помощью системной кнопки закрытия («крестик» в правом верхнем углу формы) приведет к повторному открытию диалога.

•

Функциональность панели состояния ограничена. Во время выполнения модуля обновление состояния зависит от используемого веб-браузера (подробнее см. здесь).

•

Отображение поля индикатора отличается от тонкого клиента. В частности, отличается внешний вид поля индикатора, у которого свойство Отображение установлено в значение Прерывистый или ПрерывистыйНаклонный.

•

Функциональность объекта Дендрограмма ограничена.

•

Функциональность объекта ГрафическаяСхема ограничена:

•

не поддерживается редактирование графической схемы;

•

объектная модель доступна в ограниченном объеме для следующих объектов: ЭлементГрафическойСхемыДействие, ЭлементГрафическойСхемыРазделение, ЭлементГрафическойСхемыУсловие, ЭлементГрафическойСхемыСоединительнаяЛиния, ЭлементГрафическойСхемыДекоративнаяЛиния, ЭлементГрафическойСхемыДекорация, ЭлементГрафическойСхемыЗавершение, ЭлементГрафическойСхемыСтарт, ЭлементГрафическойСхемыСлияние, ЭлементГрафическойСхемыВыборВарианта, ЭлементГрафическойСхемыОбработка, ЭлементГрафическойСхемыВложенныйБизнесПроцесс.

•

Функциональность объекта ГеографическаяСхема ограничена.

•

Для объекта ДиаграммаГанта ограничены возможности интерактивной настройки.

•

Не поддерживается получение системной информации о клиентском компьютере.

•

Не поддерживается работа с объектами ЧтениеТекста, ЗаписьТекста, ЧтениеZipФайла, ЗаписьZipФайла, XBase. Рекомендуется выполнять работу с такими файлами на стороне сервера.

•

Не поддерживается работа с XML и XDTO. Рекомендуется выполнять работу с такими файлами на стороне сервера.

•

В веб-браузерах Google Chrome и Safari реализован внутренний буфер обмена:

•

Данные во внутреннем буфере обмена актуальны во время сеанса.

•

Все значения, помещаемые в буфер обмена операционной системы, также дублируются во внутренний буфер обмена.

•

Команды M+ и M‑ изменяют значение, находящееся во внутреннем буфере обмена. Полученный результат помещается в буфер обмена операционной системы.

•

Внутренний буфер обмена в калькуляторе отображается в ячейке «1». Команды калькулятора MR, M+ и M‑ работают со значением внутреннего буфера обмена. Полученный результат помещается в буфер обмена операционной системы.

•

Правила переноса текста в ячейке табличного документа зависят от используемого веб-браузера.

•

Не поддерживается просмотр и печать табличного документа в черно-белом режиме.

•

Табличный документ, напечатанный из различных веб-браузеров, может иметь разные размеры.

•

Для правильной печати из веб-браузеров табличных документов с нестандартным размером страницы рекомендуется использовать свойство табличного документа ТочностьПечати. В противном случае пользователю перед печатью нужно будет проверить и при необходимости установить размер листа в диалоге печати веб-браузера в соответствии с размером листа печатаемого табличного документа.

•

При печати из браузера Google Chrome табличного документа с установленным свойством ДвусторонняяПечать для двусторонней печати рекомендуется использовать печать с помощью системного диалогового окна. Для табличного документа при этом необходимо указать, в настройках печати, использование двусторонней печати необходимого типа. Также можно использовать свойство ТочностьПечати, установленное в значение Точная, для печати документов, использующих двустороннюю печать.

•

При отображении в ячейках табличного документа текста, состоящего из нескольких строк, может отличаться межстрочный интервал в зависимости от используемого веб-браузера.

•

При отображении текста в ячейках табличного документа может отличаться межсимвольный интервал в зависимости от используемого веб-браузера.

•

В ячейку таблицы управляемой формы выводятся только те строки многострочного текста, которые целиком помещаются в ячейку по высоте. Если строка отображается не полностью, в конце строки отображается символ "...".

•

Если в результате изменения источника данных таблицы в таблице изменяется текущая строка и одновременно изменяется значение свойства элемента формы, которое приводит к перестроению формы, то порядок вызова обработчика ПриИзмененииСтроки и момент перезагрузки формы не определены.

•

В формах, в которых предполагается вертикальная прокрутка, у таких элементов, как таблица, табличный документ, диаграмма и т. д., необходимо выключать растягивание по вертикали.

•

Метод ПолучитьHTML() объекта ФорматированныйДокумент возвращает пустой список картинок.

•

Выделение текста, выполненное в поле форматированного документа, скрывает цветовое оформление текста (цвет текста и цвет фона) при работе в веб-браузере Microsoft Internet Explorer и тонком клиенте.

•

Не поддерживается открытие из файла табличного документа, содержащего отчет, в расшифровках которого присутствуют ссылочные значения.

•

В табличном документе, поле табличного документа и таблице формы не поддерживается прокрутка с помощью нажатия колеса мыши.

•

Если у ячейки табличного документа установлено выравнивание по правому краю и текст полностью не помещается в ячейке, то помещающаяся часть текста выравнивается по левому краю.

•

В веб-браузерах Google Chrome и Safari при определенном сочетании объединений ячеек и рамок ячеек в табличном документе возможно неправильное отображение рамки.

•

В веб-браузерах Microsoft Internet Explorer и Google Chrome точечная рамка смежных ячеек в некоторых случаях может отображаться как сплошная.

•

Для правильной печати из веб-браузеров Google Chrome и Mozilla Firefox (версии 20 и выше) табличных документов, содержащих точечные линии, рекомендуется устанавливать у этих

выше) табличных документов, для которых нужно обеспечить точную размерность всех элементов, выводимых на печать.

•

Не поддерживается режим сравнения файлов.

•

Не поддерживается список последних открытых файлов.

•

Не поддерживается перетаскивание файлов в формы веб-клиента.

•

В веб-клиенте используется ограниченный набор шрифтов, доступных в используемых операционных системах. Другие шрифты не могут выбираться в диалоге выбора шрифта в веб-клиенте, а при использовании замещаются на поддерживаемые шрифты.

•

Доступ к меню Сервис и настройки (главному меню) выполняется с помощью клавиши F10, доступ с помощью одиночного нажатия клавиши Alt не поддерживается.

•

Нажатие комбинации Ctrl + W в веб-браузере Google Chrome приводит к закрытию вспомогательного окна, а не к выделению слова.

•

Нажатие комбинации Ctrl + F4 в веб-браузере Google Chrome приводит к закрытию текущей вкладки. Если вкладка последняя, выполняется закрытие текущего окна веб-браузера.

•

Нажатие комбинации Ctrl + N в веб-браузере Google Chrome приводит к созданию нового окна веб-браузера, а не к открытию меню создания нового документа.

•

Не поддерживается установка в веб-браузере масштаба отображения, отличного от 100 %, или использование нестандартного dpi.

•

Переключение окон с помощью клавиатуры имеет ряд особенностей (в зависимости от веб-браузера):

•

Google Chrome:

•

Для любых версий ‑ не работает переключение по Ctrl + Tab, Ctrl + Shift + Tab. Переключение по F6, Ctrl + F6 работает без ограничений.

•

Для версии 7.0 и младше ‑ при использовании горячих клавиш (F6, Ctrl + F6) для переключения окон веб-клиента, при попытке повторного открытия уже открытой формы или при использовании для переключения метода Активизировать(), после переключения на новое окно выдается предупреждение Выполнен переход к окну. Нажмите ОК для продолжения. После нажатия кнопки ОК можно продолжить работу с окном, в которое произошло переключение.

•

Модальное окно в веб-браузере Microsoft Internet Explorer блокирует все родительские окна, в веб-браузере Mozilla Firefox блокируется только родительское окно данного окна, в веб-браузере Google Chrome окна не блокируются. При этом остальные окна приложения затемняются, в эти окна можно переключиться, но в них нельзя выполнять никаких действий.

•

При открытии модального окна перестает выполняться обновление отображения главного окна в веб-браузере Microsoft Internet Explorer.

•

Из-за ограничения веб-браузеров, невозможно открытие немодальной формы из формы, открытой модально. В связи с этим, все формы, открываемые из модальной формы, также открываются в модальном режиме.

•

Окно веб-клиента не может быть меньше некоторого размера, определяемого используемым веб-браузером.

•

При работе на нескольких мониторах, если они имеют разное установленное разрешение, окна, открытые не на первом мониторе, при повторном открытии могут иметь другие координаты.

•

Не поддерживается отображение командной панели с вертикальным отображением кнопок.

•

Отображение отсутствующей картинки в веб-клиенте отличается от отображения в тонком клиенте.

имя хоста веб-сервера, что и веб-клиент. Рекомендуется хранить страницы в информационной базе.

•

Не поддерживается обработка событий поля HTML-документа для страниц, имеющих в адресе имя хоста веб-сервера, отличное от веб-клиента. Страницы, для которых требуется обработка событий, следует хранить в информационной базе.

•

Окно выбора из списка значений при использовании методов ВыбратьИзСписка() и ПоказатьВыборИзСписка() открывается в виде отдельного окна веб-браузера, а не в виде списка.

•

Меню выбора из списка значений при использовании метода ВыбратьИзМеню(), а также меню расшифровки системы компоновки данных открываются в виде отдельного окна веб-браузера, а не в виде меню.

•

При вызове метода ПоместитьФайл() возможны ситуации, когда ошибка помещения файла корректно не определяется. При этом в качестве возвращаемого значения выступает значение Истина, а параметр Адрес не содержит адрес во временном хранилище.

•

В веб-браузере Safari окна калькулятора и календаря всегда открываются в окнах, размер которых не меньше минимального размера окна для этого браузера

•

Цвет полос прокрутки поля HTML-документа соответствует цвету, заданному в операционной системе, кроме случая использования веб-браузера Microsoft Internet Explorer, когда в поле HTML-документа отображается HTML-страница, заданная строкой текста.

•

Не поддерживается вызов обработчиков событий ДокументСформирован и ПриНажатии, а также выполнение команд Печать и Сохранить поля HTML-документа в том случае, если в поле отображается документ, в адресе которого имя хоста веб-сервера отличается от имени хоста веб-клиента.

•

Отличается от других клиентов поведение команд отмены и возврата действия в многострочных полях ввода. В веб-клиенте объем отменяемых изменений определяется веб-браузером.

•

В поле ввода результат щелчка левой кнопкой мыши по слову (с нажатой клавишей Ctrl) зависит от веб-браузера, а не приводит к выделению слова, по которому выполняется щелчок.

•

В поле текстового документа нажатие стрелок влево/вправо в первой/последней позиции строки приводит к переходу на предыдущую/последующую строку.

•

В многострочном поле ввода и поле текстового документа не поддерживается ввод текста в режиме замены.

•

В многострочном поле ввода и ячейке таблицы формы перенос текста выполняется только по словам. Сплошной текст по границе элемента не переносится.

•

При нажатии Shift + Del в многострочном поле ввода удаляется вся строка, без учета автоматического разбиения строки по границе поля ввода.

•

Если символ, недопустимый с точки зрения спецификации XML версии 1.0 (http://www.w3.org/TR/xml/), помещается в поле ввода с помощью встроенного языка, то в веб-браузерах Google Chrome и Safari этот символ будет заменен символом "?" и поле ввода станет недоступным для редактирования.

•

Если в тексте подсказки присутствуют разделители строк, то в веб-браузере Mozilla Firefox вместо них отображаются пробелы.

•

Язык интерфейса веб-клиента в веб-браузере Safari соответствует языку интерфейса веб-браузера, если язык интерфейса явно не задан с помощью параметра запуска L.

•

Если при отладке веб-клиента локальные переменные или параметры методов используются в окне Выражение, табло или условиях точек останова, то их имена должны задаваться в точности так, как эти имена заданы при определении (с учетом регистра символов).

•

В веб-клиенте не поддерживаются следующие возможности:

•

печать на текущий принтер.

•

Поле графической схемы:

•

поиск и замена.

•

Текстовый документ:

•

переход к строке;

•

работа с закладками;

•

подменю Текст меню Сервис и настройки (главного меню).

•

В веб-клиенте не поддерживается вызов следующих команд с помощью горячих клавиш:

•

Поле картинки:

•

увеличить масштаб (Num+);

•

уменьшить масштаб (Num-);

•

прокрутка картинки с помощью клавиатуры.

•

Поле графической схемы:

•

прокрутка схемы.

•

Таблица, связанная с иерархическим списком:

•

свернуть узел (Ctrl + Num-);

•

свернуть все узлы (Ctrl + Shift + Num-);

•

развернуть узел (Ctrl + Num+);

•

развернуть все узлы (Ctrl + Shift + Num+).

•

Табличный документ:

•

свернуть группу (Ctrl + Num-);

•

свернуть все группы (Ctrl + Shift + Num-);

•

развернуть группу (Ctrl + Num+);

•

развернуть все группы (Ctrl + Shift + Num+);

•

прокрутка страницы влево (Alt + PgUp);

•

прокрутка страницы вправо (Alt + PgDn);

•

выделение ячеек с помощью клавиатуры.

•

Текстовый документ:

•

удалить текущую строку (Ctrl + L): не поддерживается в веб-браузерах Mozilla Firefox, Google Chrome, Safari.

•

В операционной системе OS X при включенной неанглийской раскладке клавиатуры не поддерживается использование горячих клавиш, если в сочетаниях используются следующие клавиши:

•

в веб-браузере Google Chrome: клавиши Alt и Alt + Shift;

•

в веб-браузере Safari: клавиши Alt, Alt + Shift, Cmd и Cmd + Shift.

7.5. Особенности работы веб-клиента на iPad

Эти особенности расширяют перечень особенностей поведения веб-клиента, описание которых изложено в предыдущем разделе.

При работе на устройстве iPad:

•

Вместо двойного щелчка левой кнопкой мыши используется быстрое двойное нажатие на одном и том же месте экрана. Вместо щелчка правой кнопкой мыши используется длительное нажатие (более 1 сек.).

•

Поддерживается только режим работы в закладках и интерфейс Такси.

•

Экранная клавиатура может не появляться автоматически при редактировании ячейки таблицы или табличного документа (в появляющемся поле ввода). Для того чтобы она появилась, следует повторно нажать редактируемое поле ввода в ячейке.

•

Не поддерживается переход к главному окну приложения с помощью диалога Все окна. При попытке перейти к нему выводится предупреждение с текстом Не может быть выполнен переход к главному окну.

•

Рекомендуется для завершения работы с веб-клиентом пользоваться кнопкой закрытия в верхнем правом углу главного окна.

•

Не реализовано перетаскивание.

•

Не выполняется переход к главному окну при открытых вспомогательных окнах.

•

Не поддерживается печать.

•

Поле форматированного документа позволяет только просмотр документа (без возможности редактирования).

•

Панель состояния отображается таким же окном, как и окно оповещения пользователя.

•

Недоступен метод ПоместитьФайл().

•

Недоступно расширение работы с файлами, расширение работы с криптографией и внешние компоненты.

Следующие методы объектов и глобального контекста не могут быть использованы в прикладном решении, работающем на iPad:

•

Глобальный контекст:

•

Вопрос(),

•

ОткрытьЗначение(),

•

ОткрытьФормуМодально(),

•

Предупреждение(),

•

ВвестиДату(),

•

ВвестиЗначение(),

•

ВвестиСтроку(),

•

ВвестиЧисло().

•

Объект ДиалогВыбораШрифта:

•

Выбрать().

•

Объект ДиалогВыбораЦвета:

7.6. Особенности поведения объектов системы с включенным режимом разделения данных

7.6.1. Изменение значений разделителей

7.6.2. Нумерация объектов

•

Редактировать().

•

Объект КонструкторФорматнойСтроки:

•

ОткрытьМодально().

•

Объект ОбработкаРасшифровкиКомпоновкиДанных:

•

ВыбратьДействие().

•

Объект ДиалогРасписанияРегламентногоЗадания:

•

ОткрытьМодально().

•

Объект СписокЗначений:

•

ОтметитьЭлементы(),

•

ВыбратьЭлемент().

•

Объект ФормаКлиентскогоПриложения:

•

ВыбратьИзМеню(),

•

ВыбратьИзСписка(),

•

ОткрытьМодально().

В процессе работы сеанса использование разделителей и значения разделителей могут быть изменены посредством изменения параметров сеанса. Значения параметров сеанса, на которые ссылается общий реквизит (см. здесь), могут быть изменены в произвольный момент времени в соответствии с ограничениями, наложенными на права пользователя, от лица которого производится попытка изменения параметров сеанса.

Замена текущих значений разделителей позволяет, например, выполнять необходимые административные действия в случаях, когда требуется работа в разделенном режиме.

Однако следует помнить, что если доступ к информационной базе выполняется посредством веб-сервера, то программное изменение значений объектов, связанных с механизмом разделения, может быть заблокировано с помощью файла default.vrd (подробнее см. здесь).

«1С:Предприятие» не гарантирует логическую целостность данных приложения (не информационной базы) после изменения параметров сеанса, аналогично изменению параметров сеанса, влияющих на ограничения доступа (см. здесь).

Изменение из встроенного языка значения параметра сеанса, на который ссылается хотя бы один разделитель в режиме Независимо, приводит к следующим действиям:

•

очищается кеш объектов;

•

удаляются повторно используемые значения (см. здесь).

После изменений значений и использования разделителей в сеансе рекомендуется вызвать метод ОбновитьИнтерфейс().

Механизм нумерации работает в рамках каждой уникальной комбинации значений разделителей.

7.6.3. Оперативная отметка времени

7.6.4. Предопределенные данные

При определении номера используются значения разделителей, установленных в сеансе. В том случае, если разделитель не используется в сеансе, для этого разделителя используется значение, установленное у объекта информационной базы.

Оперативная отметка времени разделяется в рамках каждой уникальной комбинации независимых разделителей только в том случае, если не существует документов, для которых разрешено проведение в оперативном режиме и которые не входят в состав этих разделителей.

Например, в прикладном решении существует два независимых разделителя: Абонент и Организация, а также три документа (с разрешенным проведением в оперативном режиме) ПриходнаяНакладная, РасходнаяНакладная и Перемещение. В состав разделителя Организация входят документы ПриходнаяНакладная и Перемещение, а в состав разделителя Абонент входят все документы. Разделение оперативной отметки времени будет выполняться только для разделителя Абонент, т. к. для разделителя Организация существуют документы, которые им не разделены (документ РаходнаяНакладная):

Абонент Организация

ПриходнаяНакладная Входит Входит

РасходнаяНакладная Входит Не входит

Перемещение Входит Входит

Разделение оперативной отметки Разделяется Не разделяется

Предопределенные данные можно использовать для объектов, входящих в состав любых разделителей.

Создание предопределенных данных при первом обращении к таблице объекта будет выполнено только в том случае, если в сеансе используются все разделители (в том числе разделители в режиме Независимо и совместно), в состав которых входит объект, содержащий предопределенные данные.

Для создания предопределенных данных в новой области данных можно воспользоваться методом ИнициализироватьПредопределенныеДанные(). В зависимости от того, как в сеансе используются разделители, в состав которых входит объект конфигурации, можно выделить следующие варианты:

•

В сеансе используются все разделители, в состав которых входит объект конфигурации ‑ предопределенные элементы будут созданы.

•

В сеансе не используются все разделители, в состав которых входит объект конфигурации ‑ предопределенные элементы не будут созданы и объект конфигурации будет пропущен.

Уникальные идентификаторы элементов данных, связанных с предопределенными данными, не совпадают для данных, расположенных в разных областях. Другими словами, если в справочнике Товары есть предопределенный элемент П1, и есть две области: с кодами 165 и 567, то уникальный идентификатор элемента данных, связанный с элементом П1 в области 165, не будет равен уникальному идентификатору элемента данных, связанному с элементом П1 в области 567.

В распределенной и разделенной информационной базе изменения предопределенных элементов регистрируются следующим образом:

•

Если план обмена и объект конфигурации, для которого выполняется регистрация изменения предопределенных данных, входят в состав одного разделителя, то регистрируются изменения только тех предопределенных элементов, у которых значение разделителя совпадает со значением этого же разделителя узла плана обмена. Таким образом, не регистрируются изменения предопределенных элементов, если в планах обмена нет узлов, у которых значение

7.6.5. Права доступа

7.6.6. Пользователи

7.6.7. Планы обмена

разделителя предопределенного элемента.

•

Если план обмена и объект метаданных не имеют общих разделителей, то выполняется регистрация всех предопределенных элементов во всех узлах этого плана обмена.

•

Никогда не выполняется регистрация изменений для узла ЭтотУзел.

Административные действия, которые выполняются в целом над информационной базой и над конкретной областью данных, регулируются разными правами.

•

Администрирование ‑ данное право регулирует административные действия над всей информационной базой и редактирование списка пользователей.

•

АдминистрированиеДанных ‑ данное право регулирует административные действия над данными.

Более подробное описание действий, доступных при наличии того или иного права см. здесь. Проверка на наличие в списке пользователей информационной базы пользователя с правом Администрирование учитывает только пользователей, в которых не задан ни один разделитель.

Для общих реквизитов, для которых включено разделение данных, права по умолчанию не устанавливаются, даже если в форме редактирования роли установлен флажок Устанавливать права для реквизитов и табличных частей по умолчанию.

При создании пользователя информационной базы (объект ПользовательИнформационнойБазы) имеется возможность указать значения разделителя для этого пользователя.

Для этого служит свойство РазделениеДанных объекта ПользовательИнформационнойБазы. В данном свойстве хранится структура, в которой:

•

Ключ элемента структуры содержит имя разделителя (как оно задано в конфигураторе).

•

Значение элемента структуры содержит строковое представление значения разделителя. Подробнее о формировании строкового представления значения разделителя см. здесь.

Если в структуре присутствует запись с именем какого-либо разделителя, значит, для пользователя значение этого разделителя задано.

Значение свойства РазделениеДанных определяет:

•

пространство уникальности имен пользователей, если разделитель разделяет аутентификацию (см. здесь);

•

разделение списка пользователей, если разделитель разделяет пользователей (см. здесь);

•

начальную установку значений разделителей сеанса пользователя для любого разделителя, определенного в конфигурации (см. здесь).

Любой разделитель, в состав которого входит план обмена, с точки зрения плана обмена считается находящимся в режиме Независимо и совместно. При этом обеспечивается уникальность ссылок элементов плана обмена, в том числе и для тех элементов, которые описывают предопределенные узлы в каждой области данных (метод ЭтотУзел() менеджера плана обмена).

Поведение системы при регистрации изменений зависит от следующих факторов:

•

разделен или нет план обмена;

•

разделен или нет регистрируемый объект всеми разделителями плана обмена;

7.6.8. Функциональные опции

план обмена.

Описание того, как будет выполняться автоматическая регистрация изменений в зависимости от вышеуказанных факторов, приведено в таблице:

План обмена

Объект метаданных разделен всеми разделителями плана обмена

Используется хотя бы один разделитель плана обмена

Автоматическая регистрация

Не разделен

– – Все узлы

Разделен Нет Нет Все узлы

Разделен Нет Да 1

Разделен Да Нет 2

Разделен Да Да 2

В приведенной таблице:

1. Вызывается исключение при выполнении автоматического заполнения списка узлов получателя. Если план обмена входит в состав хотя бы одного разделителя, в состав которого не входит объект метаданных с включенной авторегистрацией в этом плане обмена, то при обновлении конфигурации базы данных будет выдано предупреждение о том, что объект конфигурации не входит в состав разделителя плана обмена.

2. При автоматическом заполнении списка узлов получателей используется область данных, которая определяется набором разделителей, каждый из которых разделяет и план обмена, и объект метаданных. При этом если используются не все разделители, в состав которых входит и план обмена, и объект, для которого выполняется регистрация изменений, то для недостающих разделителей используются значения разделителей из этого объекта. Если при регистрации изменений обнаруживается, что изменены значения разделителей, то:

•

Для узлов плана обмена области данных, определяемых «старой» комбинацией значений разделителей, регистрируется удаление объекта данных.

•

Для узлов плана обмена области данных, определяемых «новой» комбинацией значений разделителей, регистрируется изменение объекта данных.

Изменение конфигурации регистрируется для всех узлов всех планов обмена вне зависимости от разделения этих планов обмена каким-либо разделителем (только для планов обмена с установленным флажком Распределенная информационная база).

При записи узла плана обмена выполняется проверка, что в области данных, описанной значениями всех разделителей, в состав которых входит записываемый объект, должен существовать ровно один элемент плана обмена, для которого значение свойства ЭтотУзел установлено в значение Истина. Если условие не выполняется ‑ генерируется исключение. Если запись выполняется в режиме загрузки данных (свойство ОбменДанными.Загрузка установлено в значение Истина), то проверка не выполняется.

В случае если объект конфигурации, использующийся для хранения значения функциональной опции, входит в состав разделителей, то получение значения функциональной опции будет выполняться следующим образом:

•

Если не установлен хотя бы один независимый разделитель, который разделяет объект конфигурации, использующийся для хранения значения функциональной опции, то значение функциональной опции, хранимой в реквизите типа Булево, будет равно значению Истина, а для реквизитов других типов будет вызвано исключение.

•

Если используются все независимые разделители и не используется хотя бы один разделитель с установленным режимом разделения Независимо и совместно, то значение функциональной

7.6.9. Регламентные задания

7.6.10. Фоновые задания

вызвано исключение.

•

Анализируется использование только тех разделителей, в состав которых входит объект конфигурации, в котором хранится значение функциональной опции.

Регламентное задание может входить в состав разделителя.

Запуск регламентного задания выполняется со значениями разделителей, которые заданы для этого задания с помощью свойства РазделениеДанных объекта РегламентноеЗадание. С помощью этого свойства также можно получить набор разделителей, соответствующих сеансу, в котором запускается регламентное задание (доступны только значения разделителей, находящихся в режиме Независимо и совместно, см. здесь).

Для объекта РегламентноеЗадание возможно изменение значений свойства РазделениеДанных по общим правилам, кроме предопределенных регламентных заданий, для которых изменение свойства РазделениеДанных невозможно. Регламентное задание может быть изменено из сеанса, в котором используются только разделители, разделяющие это регламентное задание.

При получении регламентных заданий (по уникальному идентификатору или списка регламентных заданий) выполняется неявная установка отбора по разделителям в соответствии со значениями разделителей, установленных в текущем сеансе. В зависимости от режима разделителя будет доступен разный набор регламентных заданий:

•

Разделитель в режиме Независимо.

•

Разделитель используется ‑ доступны только регламентные задания, для которых значения разделителей совпадают со значениями разделителей в текущем сеансе.

•

Разделитель не используется ‑ нет доступных регламентных заданий.

•

Разделитель в режиме Независимо и совместно:

•

Разделитель используется ‑ доступны только регламентные задания, для которых значения разделителей совпадают со значениями разделителей в текущем сеансе.

•

Разделитель не используется ‑ доступны регламентные задания с произвольным значением этого разделителя, а также задания, не разделенные этим разделителем.

Если регламентное задание отмечено в конфигураторе как предопределенное, то при первом входе в режиме 1С:Предприятие с новой комбинацией разделителей происходит создание списка регламентных заданий с текущей комбинацией значений разделителей и их использования. Если при этом в сеансе разделитель не используется, а регламентное задание входит в состав такого разделителя, то в соответствующее свойство регламентного задания будет записано значение по умолчанию для типа разделителя и включено использование.

СОВЕТ. Не рекомендуется создавать разделенные регламентные задания, которые выполняются достаточно часто при большом количестве областей данных. Рекомендуется создавать неразделенное регламентное задание, которое будет само обрабатывать разные значения разделителей.

Стоит учитывать, что на разделенные регламентные задания действуют более жесткие ограничения записи по сравнению с другими объектами, т. к. регламентное задание это не просто запись в базы данных, но и порождение какого-либо действия.

Сеанс, работающий с определенной комбинацией разделителей, не должен иметь возможность инициировать какое-либо действие в недоступных ему областях. В связи с этим, если в сеансе значение разделителя установлено, а регламентное задание этим разделителем не разделяется, то запись такого регламентного задания в этом сеансе запрещена, так как это позволит выполнить код со значением разделителя, отличным от значения разделителям в текущем сеансе.

Запуск фонового задания выполняется со значениями разделителей, соответствующих сеансу, из

7.6.11. Web-сервисы

7.6.12. Константы

7.6.13. Регистры

объекта ФоновоеЗадание (доступны только значения разделителей, находящихся в режиме Независимо и совместно, см. здесь). Уникальность ключа фонового задания проверяется в разрезе уникального набора значений разделителей. Таким образом, в каждой уникальной области данных может существовать одно фоновое задание с определенным ключом.

Для разделителя, находящегося в режиме Независимо и совместно, может существовать только одно фоновое задание с определенным ключом для неустановленного и конкретного значения такого общего реквизита. Таким образом, если запущено фоновое задание с установленным значением такого разделителя, то его наличие не позволит запустить фоновое задание в сеансе, для которого значение разделителя не используется. Верно и обратное: запущенное фоновое задание в сеансе с неиспользуемым разделителем не позволит запустить фоновое задание в сеансе с установленным значением этого разделителя.

Для независимого разделителя неиспользуемый реквизит, с точки зрения механизма контроля уникальности, используется как отдельное значение, наряду с конкретными значениями используемого разделителя. Фоновое задание с одинаковым значением ключа, можно будет запустить одновременно и в сеансе, где разделитель используется (и установлен в какое-либо значение), и в сеансе, где разделитель не используется.

При получении фоновых заданий (по уникальному идентификатору или списка фоновых заданий) выполняется неявная установка отбора по разделителям в соответствии со значениями разделителей, установленных в текущем сеансе. В зависимости от типа разделителя будет доступен разный набор фоновых заданий:

•

Разделитель в режиме Независимо: доступны только фоновые задания, запущенные из сеансов с таким же использованием и значениями разделителей, что и для текущего сеанса.

•

Разделитель в режиме Независимо и совместно: доступны только фоновые задания, запущенные из сеансов с такими же значениями разделителей, используемых в текущем сеансе. Неиспользуемые разделители не учитываются.

При вызове Web-сервиса значения разделителей могут быть указаны так же, как и для веб-клиента (см. здесь).

В случае, если в сеансе используются все разделители, в состав которых входят константы, то в языке запросов можно обращаться к константам посредством таблицы Константы (аналогично «1С:Предприятию» версии 8.2.13 и младше).

Поля, соответствующие разделителям, находящимся в режиме Независимо и совместно, существуют у объекта КонстантаМенеджерЗначения, КонстантаКлючЗначения и таблицы Константа.

Метод ЗаписатьXML() может быть вызван для записи значения константы двумя разными способами:

•

С указанием менеджера значений.

•

С указанием объекта метаданных.

Если в сеансе не используется разделитель вида Независимо и совместно, то при использовании менеджера значений в XML будет записано только одно значение константы. Этим значением будет значение по умолчанию для типа константы или значение. Если такой разделитель используется ‑ будет записано значение из указанной области данных. В этом же случае использование объекта метаданных приведет к записи в XML значений константы для всех областей разделенной информационной базы.

В том случае, если константа входит в состав независимого разделителя, то в любом случае запись будет доступна только в том случае, когда разделитель установлен и используется в текущем сеансе.

7.6.13.1. Регистр сведений

7.6.13.2. Регистры накопления и бухгалтерии

измерения, логически предшествующего измерениям, заданным прикладным разработчиком.

В одном наборе записей могут находиться только записи с одинаковым набором значений разделителей.

Разделители входят в состав основного отбора регистра сведений.

В свойство Отбор набора записей регистра сведений могут быть добавлены элементы отбора, соответствующие разделителям, в состав которых входит регистр сведений.

Проверка уникальности записи выполняется в рамках области данных, соответствующей текущей уникальной комбинации значений разделителей.

При вызове метода Прочитать() набора записей следует помнить о следующих особенностях:

•

Можно не устанавливать значения разделителей в отборе набора записей, если в текущем сеансе используются все разделители, в состав которых входит регистр;

•

Если в качестве значений разделителей в отборе набора записей будут установлены значения, не совпадающие со значениями, указанными для текущего сеанса, результатом выполнения метода будет пустой набор записей;

•

Если в отборе набора записей не будут установлены значения для разделителей, которые не используются в текущем сеансе, результатом выполнения метода будет набор записей без отбора по значениям этих разделителей.

При вызове методов менеджера регистра Выбрать(), Получить(), ПолучитьПервое(), ПолучитьПоследнее(), СрезПервых() и СрезПоследних() нужно учитывать следующие особенности:

•

Если в параметре вызова этих методов Отбор указано значение для разделителя, используемого в сеансе, то это значение должно совпадать со значением разделителя. В противном случае будет вызвано исключение.

•

При вызове метода Получить() в параметре Отбор должны быть указаны значения для всех разделителей, которые не используются в текущем сеансе.

Поведение при записи набора записей регистра сведений зависит от типа разделителя:

•

Разделитель в режиме Независимо: значение разделителя должно быть установлено в каждой записи набора. Все записи набора должны иметь одинаковые значения одинаковых разделителей и эти значения должны совпадать со значениями, установленными в текущем сеансе.

•

Разделитель в режиме Независимо и совместно: запись без установленных отборов возможна только в том случае, когда значение используемого разделителя установлено в каждой записи набора.

Параметры регистров (признак разделения итогов, признак использования итогов и т. д.) являются разделяемыми и хранятся для каждой области данных. Получение и установку настройки итогов можно выполнять только для сеанса, в котором используются все значения разделителей, в состав которых входит регистр. При удалении разделителей или модификации их типов, во время обновления конфигурации базы данных, в таблицах параметров регистров происходит объединение записей по новым комбинациям установленных разделителей.

Операцию пересчета итогов (методы ПересчитатьИтоги() и ПересчитатьИтогиЗаПериод()) и текущих итогов (метод ПересчитатьТекущиеИтоги()) можно выполнять при любом состоянии использования разделителей, в состав которых входит соответствующий регистр. Пересчет итогов будет выполняться в пределах области данных, определенной текущими значениями используемых разделителей.

Поведение при записи набора записей регистра накопления зависит от типа разделителя:

7.6.13.2.1. Регистр накопления

7.6.13.2.2. Агрегаты регистра накопления

записи набора. Все записи набора должны иметь одинаковые значения одинаковых разделителей и эти значения должны совпадать со значениями, установленными в текущем сеансе.

•

Разделитель в режиме Независимо и совместно: запись без установленных отборов возможна только в том случае, когда значение используемого разделителя установлено в каждой записи набора.

Поведение при записи набора записей регистра накопления зависит от типа разделителя:

•

Разделитель в режиме Независимо: значение разделителя должно быть установлено в каждой записи набора. Все записи набора должны иметь одинаковые значения одинаковых разделителей и эти значения должны совпадать со значениями, установленными в текущем сеансе.

•

Разделитель в режиме Независимо и совместно: запись без установленных отборов возможна только в том случае, когда значение используемого разделителя установлено в каждой записи набора.

Настройки агрегатов являются разделяемыми и хранятся для каждой области данных.

При работе с агрегатами необходимо помнить следующие особенности:

•

Следующие методы можно вызывать только в таком сеансе, в котором используются все разделители, включающие регистр:

•

ПолучитьРежимАгрегатов(),

•

ПолучитьИспользованиеАгрегатов(),

•

ПолучитьАгрегаты(),

•

УстановитьРежимАгрегатов(),

•

УстановитьИспользованиеАгрегатов().

•

Следующие методы можно вызывать в любом случае:

•

ОпределитьОптимальныеАгрегаты(). Выполняется над данными области, определенной значениями используемых разделителей.

•

ПерестроитьИспользованиеАгрегатов(). Если в сеансе используются все разделители, в состав которых входит регистр, то метод выполняется только для определенной области данных. В противном случае устанавливает одинаковые настройки (состав и периодичность) использования агрегатов для используемых разделителей и всех комбинаций значений неиспользуемых разделителей.

•

ОбновитьАгрегаты(), ОчиститьАгрегаты(), АгрегатыЗаполнены(). Если в сеансе используются все разделители, в состав которых входит регистр, методы выполняются только для определенной области, в противном случае ‑ для каждой области данных в рамках значений используемых разделителей.

Если разделитель находится в режиме Независимо и совместно и в сеансе этот разделитель не используется, то существует возможность использования агрегатов, кроме следующих случаев:

•

Если для некоторых значений разделителя включен режим итогов.

•

Если для некоторых значений разделителя выключено использование агрегатов.

•

Если для разных значений разделителя выбрана разная минимальная периодичность

7.6.13.2.3. Регистр бухгалтерии

7.6.13.3. Регистры расчета

7.6.13.3.1. Перерасчеты

одинаковой.

•

Если для разных значений разделителей наборы используемых агрегатов для разных значений разделителей не пересекаются. Если метод ПерестроитьИспользованиеАгрегатов() вызывался в случае, когда разделители не используются, то наборы используемых агрегатов будут одинаковыми.

•

Для запросов в транзакции ‑ если для некоторых значений разделителей процесс обновления агрегатов не завершен и находится на этапе переноса данных в агрегат из буфера.

При редактировании регистров бухгалтерии и планов счетов нужно помнить о следующих особенностях:

•

Состав независимых разделителей, в состав которых входит план счетов и связанный с ним регистр бухгалтерии, должен быть идентичным.

•

Регистр бухгалтерии должен входить в состав всех разделителей, находящихся в режиме Независимо и совместно, в которые входит план счетов, связанный с данным регистром.

При записи элемента плана счетов, если были изменены настройки учета, влияющие на движения регистров бухгалтерии, проверяется, что в сеансе не используются разделители регистра бухгалтерии в режиме Независимо и совместно, которых нет в плане счетов.

При записи набора записей регистра бухгалтерии проверяется, что все счета, использованные в наборе записей, имеют значения разделителей, идентичные значениям разделителей в записях набора записей.

При получении виртуальной таблицы данных графика сопоставление записей регистра расчета и записей регистра сведений графика работы выполняется не только по реквизитам регистра расчета с заполненным свойством Связь с графиком, но и по разделителям в режиме Независимо и совместно, являющимся общими для регистра сведений графика и регистра расчета.

При получении виртуальной таблицы базовых данных сопоставление записей регистров расчета выполняется не только по полям, переданным как параметры виртуальной таблицы, но и по разделителям в режиме Независимо и совместно, которые являются общими для регистра сведений графика и регистра расчета.

При расчете фактического периода действия разделение периода действия между вытесняющими видами расчетов выполняется с учетом совпадения значений разделителей (в режиме Независимо и совместно).

Также нужно помнить о следующих особенностях:

•

при записи набора записей регистра расчета не контролируется совпадение значений разделителей (в режиме Независимо и совместно) в записи регистра расчета и в виде расчета этой записи;

•

при записи вида расчета не контролируется совпадение значений разделителей (в режиме Независимо и совместно) в виде расчета и во всех записях регистра расчетов с таким видом расчета;

•

не контролируется совпадение значений разделителей (в режиме Независимо и совместно) в виде расчета и в тех видах расчета, которые включены в табличные части вытесняющих, базовых и ведущих видов расчета.

Перерасчеты автоматически входят в состав того же набора разделителей, что и соответствующие регистры расчета. При записи перерасчетов используются значения разделителей, установленных

7.6.15. Параметры информационной базы

7.6.16. Список сеансов

7.6.17. Список соединений

7.6.18. Журнал регистрации

7.6.18.1. Визуальное отображение

Разделитель, находящийся в режиме Независимо и совместно, выступает для последовательности в качестве измерения.

Последовательность документов является разделенной только в следующем случае:

•

разделены все документы и регистры, входящие в нее;

•

документы и регистры, входящие в последовательность, разделены одинаковым набором разделителей.

Параметр Отбор методов УстановитьГраницу() и Проверить() является необязательным.

Если свойство Заполнение последовательностей документа, участвующего в последовательности, установлено в значение Заполнять автоматически, то значения общих реквизитов записи последовательности будут установлены в значения, соответствующие документу, который порождает эту запись.

Часовой пояс информационной базы разделяется независимыми разделителями. Если используются не все разделители, то при попытке получения или установки часового пояса информационной базы вызывается исключение. В противном случае используется значение часового пояса в разрезе значений разделителей.

Об изменении часового пояса информационной базы другие сеансы оповещаются не позднее чем через 20 секунд после установки. Не требуется монопольный доступ к информационной базе, если установка часового пояса выполняется в сеансе, в котором используется хотя бы один разделитель.

Метод УстановитьЧасовойПоясИнформационнойБазы() требует установки монопольной блокировки области в том случае, если в текущем сеансе не используется ни один разделитель.

В список сеансов попадут сеансы, в которых значения разделителей совпадают со значениями в текущем сеансе (из которого выполняется получение списка с помощью метода ПолучитьСеансыИнформационнойБазы()). В этом списке сеансов имена пользователей (и имена компьютеров) будут недоступны, если пользователь не принадлежит области данных, доступной текущему сеансу. Например, в информационной базе существует разделитель Абонент (типа Число). Для пользователя Иванов значение разделителя установлено равным 5. Если в процессе работы прикладное решение изменит значение разделителя Абонент на любое другое значение, то в списке сеансов имя пользователя будет недоступным.

Список соединений (полученный с помощью метода ПолучитьСоединенияИнформационнойБазы()) будет непустым только в том случае, если в текущем сеансе не используется ни один разделитель.

Если журнал регистрации открыт в сеансе, где существует хотя бы один неиспользуемый разделитель, то в следующие формы будет добавлено поле Разделение данных сеанса:

•

форма списка журнала регистрации,

•

форма настройки отбора журнала регистрации,

•

форма записи журнала регистрации.

Представление имен разделителей определяются следующим образом:

7.6.18.2. Отбор

•

Для переименованного разделителя, т. е. разделителя, имя которого было изменено после внесения записей с его участием в журнал, ‑ текущее представление разделителя.

•

Для удаленного разделителя ‑ последнее имя удаленного разделителя, дополненное пробелами перед не первыми прописными буквами. При этом прописные буквы преобразуются в строчные (кроме первой буквы в имени разделителя).

При формировании (для просмотра или при выгрузке с помощью метода ВыгрузитьЖурналРегистрации()) журнала регистрации всегда выполняется фильтрация по тем разделителям, которые используются в текущем сеансе. Такой отбор (принудительный) невозможно отключить или изменить. Если формирование журнала регистрации выполняется в сеансе, в котором разделитель условно выключен, то отбор по этому разделителю не выполняется.

Для тех разделителей, которые не используются в текущем сеансе, возможна пользовательская установка значений отбора. При этом принудительный отбор и пользовательский отбор по значениям разделителей объединяются «по И».

При получении значений отбора для полей Пользователь и Компьютер (с помощью метода ПолучитьЗначенияОтбораЖурналаРегистрации()) результат формируется следующим образом:

•

Разделитель используется ‑ возвращаются значения полей из тех записей журнала, которые были зафиксированы для текущего значения разделителя.

•

Разделитель не используется ‑ возвращаются все значения полей, зафиксированные журналом регистрации.

При программном получении записей журнала регистрации (с помощью метода ВыгрузитьЖурналРегистрации()) отбор формируется путем добавления в структуру фильтра элемента РазделениеДанныхСеанса, имеющего тип Структура. Каждый элемент структуры в качестве ключа содержит имя разделителя, а в качестве значения ‑ набор значений разделителя, по которым следует отбирать записи журнала регистрации. Если в структуре РазделениеДанныхСеанса задано больше одного элемента, запись будет удовлетворять отбору, если она удовлетворяет всем значениям, указанным в структуре (отбор «по И»).

Этот набор можно задавать либо с помощью структуры (в этом случае отбор выполняется по одному значению), либо с помощью массива структур (в этом случае отбор задается набором значений).

Структура, используемая для отбора, содержит следующие элементы:

•

Использование (типа Булево). Значение по умолчанию ‑ Истина. Задает использование общего реквизита, разделяющего данные. Если Ложь, элемент Значение игнорируется и может быть опущен. Таким образом, можно отбирать записи журнала, в которых данный общий реквизит не установлен.

•

Значение (произвольного типа). Значение общего реквизита, по умолчанию ‑ Неопределено.

Если в элементе структуры РазделениеДанныхСеанса указан массив структур, то запись журнала регистрации будет удовлетворять этому условию, если она удовлетворяет хотя бы одному значению (отбор «по ИЛИ»).

Рассмотрим пример.

В прикладном решении заданы два разделителя:

•

Абонент, тип Число;

•

Филиал, тип Число.

Пример 1:

•

Тип Структура.

7.6.18.3. Получение записей журнала регистрации

•

Элемент 1: ключ Использование, значение Истина.

•

Элемент 2: ключ Значение, значение 1.

•

Ключ Филиал, значение Структура:

•

Элемент 1: ключ Использование, значение Ложь.

В этом случае в отбор попадут записи журнала регистрации, которые одновременно удовлетворяют следующим условиям:

•

Разделитель Абонент используется и установлен в значение 1.

•

Разделитель Филиал не используется.

Пример 2:

•

Тип Структура.

•

Ключ Абонент, значение Массив:

•

Элемент 1: Структура:

•

Элемент 1: ключ Использование, значение Истина.

•

Элемент 2: ключ Значение, значение 1.

•

Элемент 2: Структура:

•

Элемент 1: ключ Использование, значение Истина.

•

Элемент 2: ключ Значение, значение 5.

•

Ключ Филиал, значение Структура:

•

Элемент 1: ключ Использование, значение Истина.

•

Элемент 2: ключ Значение, значение 8215.

В этом случае в отбор попадут записи журнала регистрации, которые одновременно удовлетворяют следующим условиям:

•

Разделитель Абонент используется и может принимать значение 1 или 5.

•

Разделитель Филиал используется и может принимать значение 8215.

При выгрузке журнала регистрации (в таблицу значений или в документ формата XML) в соответствующую структуру данных добавляются следующие колонки:

•

РазделениеДанныхСеанса, тип Структура, где ключ структуры ‑ имя разделителя, значение ‑ значение разделителя;

•

ПредставлениеРазделенияДанныхСеанса, тип Массив, состоящий из строк вида <Представление разделителя>: <Представление значения разделителя>.

Эти колонки добавляются только в том случае, если в текущем сеансе есть хотя бы один разделитель, который не используется в данном сеансе. Данные, содержащиеся в колонках РазделениеДанныхСеанса и ПредставлениеРазделенияДанныхСеанса, содержат информацию только по неиспользуемым разделителям.

Например, в прикладном решении существуют два разделителя:

•

Абонент,

7.6.18.4. Прочее

7.6.19. Настройки и избранное

Если в сеансе используются оба разделителя, то в выгружаемых данных не будет колонок РазделениеДанныхСеанса и ПредставлениеРазделенияДанныхСеанса. Если в сеансе не используется только разделитель Абонент, то в данных колонок РазделениеДанныхСеанса и ПредставлениеРазделенияДанныхСеанса будет информация только по разделителю Абонент, а по разделителю Филиал информация будет отсутствовать.

Представление имен разделителей определяется следующим образом:

•

Для существующего разделителя ‑ его представление.

•

Для переименованного разделителя, т. е. разделителя, имя которого было изменено после внесения записей с его участием в журнал, ‑ текущее представление разделителя.

•

Для удаленного разделителя ‑ последнее имя удаленного разделителя, дополненное пробелами перед не первыми прописными буквами. При этом прописные буквы преобразуются в строчные (кроме первой буквы в имени разделителя).

Для получения набора допустимых значений общих реквизитов, разделяющих данные, используется метод ПолучитьЗначенияОтбораЖурналаРегистрации().

Для получения набора общих реквизитов, разделяющих данные, в первом параметре метода следует указать строку РазделениеДанныхСеанса.

В структуре, которую возвращает метод, набор общих реквизитов записывается в элемент с ключом РазделениеДанныхСеанса. Значением элемента является соответствие, где:

•

Ключ ‑ имя общего реквизита,

•

Значение ‑ представление общего реквизита.

Для получения набора значений разделителей в первом параметре метода следует указать строку РазделениеДанныхСеанса.<Имя общего реквизита>, где <Имя общего реквизита> ‑ имя общего реквизита (см. выше).

В структуре, которую возвращает метод, набор допустимых значений общего реквизита записывается в элемент с ключом РазделениеДанныхСеансаЗначения. Значением элемента является соответствие, где:

•

Ключ ‑ имя общего реквизита.

•

Значение ‑ значение типа Соответствие, в котором:

•

Ключ ‑ значение общего реквизита;

•

Значение ‑ представление значения общего реквизита.

Если пользователь недоступен в текущем сеансе (принадлежит другой области данных, удален и т. д.), то при просмотре журнала, его выгрузке и в диалоге установки отбора такой пользователь отображается в виде строки Имя пользователя <не найден>.

Настройки хранятся в разрезе уникальной комбинации значений разделителей и имен пользователей. Разные пользователи с одинаковым именем неразличимы. Отключенный разделитель представляет собой особое значение, для которого также выполняется хранение настроек.

При изменении значений разделителей в процессе работы системы не происходит автоматического считывания настроек для нового состава разделителей. Для этого необходимо закрыть и заново открыть ту форму, настройки которой требуется перечитать.

При реструктуризации информационной базы (после изменения состава разделителей)

7.6.20. История

7.6.21. Настройки стандартного интерфейса OData

7.6.22. Запросы

7.6.23. Управляемые транзакционные блокировки

данных, были записаны в ситуации, когда новый разделитель используется и его значением является значение по умолчанию для типа добавленного общего реквизита.

•

Если при удалении разделителя обнаружено несколько настроек, сохраненных для одинаковых объектов конфигурации и различных значений разделителя, то будут сохранены только те настройки, которые сохранялись для минимального значения удаляемого разделителя. При возникновении такой ситуации при реструктуризации будет выдано предупреждение.

Работа с избранным происходит по вышеописанным правилам.

История действий пользователя хранится в разрезе уникальной комбинации значений разделителей и имен пользователей. Разные пользователи с одинаковым именем неразличимы. Отключенный разделитель представляет собой особое значение, для которого также выполняется хранение истории.

При реструктуризации информационной базы (после изменения состава разделителей) выполняются следующие действия:

•

При добавлении разделителя считается, что вся история действия, которая была ранее в базе данных, была записана в ситуации, когда новый разделитель используется и его значением является значение по умолчанию для типа добавленного общего реквизита.

•

При удалении разделителя выполняется очистка истории таким образом, чтобы в каждой уникальной комбинации значений остающихся разделителей было не более 200 записей истории.

Настройки стандартного интерфейса OData хранятся в разрезе уникальной комбинации значений разделителей. Отключенный разделитель представляет собой особое значение, для которого также выполняется хранение настройки стандартного интерфейса OData.

При реструктуризации информационной базы (после изменения состава разделителей) выполняется удаление настройки стандартного интерфейса OData и ее необходимо выполнить заново (см. здесь).

Если объект входит в состав разделителя и в запросе к данным используется соединение с его объектной таблицей, то в условии соединения (секция запроса ПО) не допускается использование табличной части объекта.

Следует учитывать, что эффективность запросов, которые выполняются с низкой эффективностью (из-за большого количества соединений) в системе без разделителей, будет еще более снижена, если в системе существует более двух разделителей или разделитель типа Строка. В связи с этим следует избегать использование большого количества соединений в системах с указанными особенностями.

При блокировке из языка без указания каких-либо полей блокируется все пространство по используемым разделителям.

Установка блокировки из языка с явным указанием разделителей доступна только для разделителей в режиме Независимо и совместно, только для пространств измерений (не наборов записей) регистров.

Если объект записывается со значениями разделителей, равными значениям по умолчанию своих типов и эти разделители используются в текущем сеансе, то блокировка устанавливается по значениям разделителей, указанным в сеансе.

7.6.24. Монопольный режим

7.6.25. Удаление помеченных объектов

7.6.26. Полнотекстовый поиск

этим значением и используемыми значениями независимых разделителей. Таким образом, одновременная блокировка по значению ссылки из сеанса, в котором используется разделитель в режиме Независимо и совместно, и другого сеанса, в котором этот же разделитель не используется, невозможна.

В том случае, когда сеанс устанавливает монопольный доступ к каким-либо областям, все попытки установить управляемые блокировки на эти области (выполняемые из этого же сеанса) будут игнорироваться.

Метод УстановитьМонопольныйРежим() оперирует с областью, описанной разделителями, которые используются в данном сеансе. Таким образом, в одной информационной базе может одновременно существовать несколько областей, для которых установлен монопольный режим (с учетом ограничений, описанных далее). Если в сеансе не используется ни один разделитель, монопольный режим будет установлен не на область, а на всю базу данных.

Монопольный режим области не совместим с любой блокировкой другим сеансом той же области данных или ее любой вложенной области, а также с монопольным режимом, который пытается установить другой сеанс для любой объемлющей области. При этом область О2 является вложенной в область О1 в том случае, если существует разделитель, который используется в области O2 и не используется в области О1, а разделители, одновременно используемые в областях О1 и О2, имеют одинаковые значения. Соответственно, аналогичным образом определяется объемлющая область.

При переходе из области в область, список областей, на которые данный сеанс установил монопольный доступ, не изменяется.

Монопольный режим, заданный для области данных, запрещает:

•

Создание новых сеансов для области и ее вложенных областей;

•

Изменение данных области из объемлющих областей;

•

Установку монопольного режима в объемлющих областях.

При этом (для вышеописанных ограничений) можно считать всю информационную базу областью, являющейся объемлющей для любой области данных.

Метод НайтиПомеченныеНаУдаление() находит все помеченные на удаление объекты, доступные в текущем сеансе.

При попытке удаления объектов (метод УдалитьОбъекты()) с контролем ссылочной целостности этот контроль выполняется среди тех объектов, которые доступы в текущем сеансе в соответствии с установленными разделителями. Возможны ситуации, когда на удаляемые объекты существуют ссылки из других объектов, недоступных в рамках текущего сеанса (например, из другой области данных). В этом случае ответственность за удаление объектов лежит на разработчике прикладного решения и пользователе, выполняющем такое удаление.

СОВЕТ. В прикладных решениях рекомендуется ограничивать удаление объектов (например, удаление неразделенных объектов в разделенных сеансах) с помощью средств конфигурирования (права доступа и т. д.).

В прикладном решении, использующем разделители, индекс полнотекстового поиска (как совокупность служебных файлов) является общим для всех значений разделителей информационной базы. Обновление индекса происходит сразу для всех значений разделителей и может выполняться только в сеансе, где все разделители не используются. Обновление полнотекстового индекса не поддерживается, если в сеансе используется хотя бы один разделитель.

7.6.27. Расширение конфигурации

для полнотекстового поиска (подробнее см. здесь) нельзя выбирать разделенные константы (т. е. константы, которые входят в состав разделителей).

Для поиска будут использоваться все неразделенные объекты и разделенные объекты, для которых выполняются следующие условия:

•

Разделитель в режиме Независимо:

•

Разделитель используется ‑ в поиске участвуют объекты, для которых значение разделителя, установленное для сеанса, совпадает со значением, которое установлено для объекта.

•

Разделитель не используется ‑ разделенные объекты не участвуют в поиске.

•

Разделитель в режиме Независимо и совместно:

•

Разделитель используется ‑ в поиске участвуют объекты, для которых значение разделителя, установленное для сеанса, совпадает со значением, которое установлено для объекта.

•

Разделитель не используется ‑ в поиске участвуют все разделенные объекты.

Если в сеансе используются все разделители прикладного решения, то время поиска информации эквивалентно времени поиска в информационной базе без разделителей, аналогичной по характеристикам области данных. Если в сеансе используются не все разделители прикладного решения, то поиск может занимать несколько большее время, чем в информационной базе без разделения данных, аналогичной по параметрам области данных по заданным разделителям.

СОВЕТ. Регламентные задания, используемые для обновления и слияния индекса полнотекстового поиска, необходимо делать неразделенными.

В силу того, что индекс полнотекстового поиска один для всей информационной базы (а не для каждой комбинации разделителей), метод ИндексАктуален() может вернуть Ложь даже в том случае, если в текущем сеансе не было никаких изменений, которые могут попасть в индекс. Такие изменения могут быть выполнены в сеансах с другими значениями разделителей.

Методы ОбновитьИндекс(), ОчиститьИндекс(), УстановитьРежимПолнотекстовогоПоиска() могут использоваться только в том случае, когда в сеансе не используется ни один разделитель. В противном случае вызывается исключение.

Взаимоотношение собственных объектов расширения и разделителей расширяемой конфигурации зависит от того, каким образом подключается расширение (речь идет про одно и тоже расширение):

•

Если расширение подключается в конкретную область данных, то разделители, определяющие область данных, в которую установлено расширение, автоматически включают в себя все собственные объекты расширения.

•

Если расширение подключается к информационной базе, то состав объектов, входящих в состав каждого разделителя, может быть расширен подключаемым расширением конфигурации.

Расширение подключается для области данных, которая определяется уникальной комбинацией значений разделителей, для которых свойство Разделение расширений конфигурации установлено в значение Разделять (подробнее см. здесь). Таким образом, в каждой такой области данных может существовать уникальный набор подключенных расширений конфигурации. Если для всех разделителей прикладного решения свойство Разделение расширений конфигурации установлено в значение Не использовать, то расширения будут подключаться к информационной базе в целом, без разделения по областям. Дополнительные данные, которое расширение может привнести в информационную базу, создаются в той области данных, для которой подключено расширение.

Если одно и тоже расширение необходимо подключить в разделенную информационную базу более одного раза, это можно можно сделать только путем подключения этого расширения в каждую область отдельно. Допускается одновременное подключение разных расширений с

7.6.28. История данных

7.6.29. Система взаимодействия

разделителей на момент старта сеанса работы. Смена набора используемых разделителей во время работы сеанса не приведет к смене набора доступных расширений. После смены набора разделителей будет недоступно чтение и запись тех объектов результирующей конфигурации, которые модифицированы расширениями в той области данных, которая определена при начале текущего сеанса. Возможность чтения и записи «вернется» после того, как будет восстановлен набор значений разделителей, который был установлен при старте текущего сеанса. Если в процессе разработки прикладного решения известно, что расширение:

•

может эксплуатироваться в разделенной информационной базе,

•

к нему возможно подключение расширений конфигурации, которые могут расширять состав хранимых данных,

•

в процессе работы возникает необходимость выполнять какие-то работы в других областях данных,

то для таких работ рекомендуется использовать фоновые задания, которые будут запускаться с помощью метода РасширенияКонфигурации.ВыполнитьФоновоеЗаданиеСРасширениямиБазыДанных().

Смотри также:

•

Общие реквизиты в расширении (см. здесь).

Версии истории данных разделяются по тем же принципам, что и объекты, чью историю они хранят. Аналогичным образом выполняется и доступ к истории данных. Другими словами, если объект данных недоступен в текущем сеансе по причине некорректной установки разделителей (включая признаки использования), то и история данных данного объекта будет недоступна в текущем сеансе. Однако если для объекта данных изменить значения разделителей, в состав которых он (объект данных) входит и, тем самым, изменить область данных, в которой находится объект, то и вся история данных «мигрирует» в новую область данных. Можно сказать, что история данных «привязана» к «своему» объекту и неотрывно следует за ним.

Настройки истории данных и история метаданных разделяются только независимыми разделителями (в рамках каждого объекта конфигурации). Настройка истории данных допускается только в том случае, если в текущем сеансе используются все независимые разделители, в состав которых входит настраиваемый объект конфигурации. Для объекта конфигурации, который разделен только совместными разделителями, настройки истории данных едины для всех областей данных.

Версия метаданных хранится особым образом:

•

История метаданных версионируемых объектов конфигурации хранится для информационной базы в целом, без учета независимых разделителей. Эта история формируется при обновлении конфигурации информационной базы.

•

История метаданных хранится для каждой области данных, определяемой независимыми разделителями. Эта история формируется при каждом вызове метода установки настроек и при изменении конфигурации информационной базы, если перед этим в данной области выполнялось изменение настроек.

В том случае, когда во время работы сеанса изменяется область данных, с которой работает сеанс, то:

•

На стороне клиентского приложения, при вызове метода ОбновитьИнтерфейс(), выполняется переустановка соединения с сервером взаимодействия. Если для новой области данных выполнялась другая регистрация в системе взаимодействия, то при переустановке соединения будет использовать регистрация новой области данных.

•

На стороне сервера существующие соединения с сервером взаимодействия закрываются при изменении значений параметров сеанса, описывающих область данных. Новое соединение с

7.6.31. Политики паролей

7.7. Особенности работы клиентского приложения под

Сервис интеграции может входить в состав разделителя. Если сервис интеграции разделен, то его настройки (и признак активности) хранятся в области данных, которая определена значениями разделителей, в состав которых входит сервис интеграции. В противном случае настройки и признак активности сохраняются для всей информационной базы.

В зависимости от типа разделителя, в состав которого входит сервис интеграции, будет наблюдаться следующее поведение:

•

Разделитель в режиме Независимо:

•

Разделитель используется ‑ для использования доступны сервисы интеграции, для которых значения разделителей совпадают со значениями разделителей в текущем сеансе и для которых установлена активность.

•

Разделитель не используется ‑ нет доступных сервисов интеграции.

•

Разделитель в режиме Независимо и совместно:

•

Разделитель используется ‑ для использования доступны сервисы интеграции, для которых значения разделителей совпадают со значениями разделителей в текущем сеансе и для которых установлена активность.

•

Разделитель не используется ‑ нет доступных сервисов интеграции.

Настройки сервиса интеграции могут устанавливаться только в том случае, когда в сеансе используются только те разделители, в состав которых входит сервис интеграции.

Если сервис интеграции размещен в расширении, то обработка сервисов интеграции в этом случае имеет свои особенности. Как известно, для обслуживания сервиса интеграции система используется несколько фоновых заданий. Если расширение, включающее в свой состав сервис интеграции, подключается в каждую область разделенной инфорационной базы, то наличие нескольких фоновых заданий, обслуживающих этот сервис, может вызвать большую нагрузку на информационную базу. Чтобы этого избежать, используется следующий механизм:

•

Каждое расширение характеризуется своей уникальной хеш-суммой. Значение хеш-суммы доступно через свойство РасширениеКонфигурации.ХешСумма.

•

Если в разные области разделенной информационной базы подключено одно и тоже расширение, то для обслуживания одного сервиса интеграции всех областей данных будет использовать один набор фоновых заданий.

•

Идентичность расширений проверяется по равенству хеш-суммы расширения.

•

Если идентичность расширений не соблюдается, то для каждого сервиса интеграции каждого расширения будет использоваться свой набор фоновых заданий.

Таким образом, если расширение содержит сервис интеграции, то рекомендуется подключать такое расширение в каждую область разделенной информационной базы.

Политики паролей и их настройки не входят в состав разделителей информационной базы. Если у текущего пользователя в сеансе установлены какие-либо разделители, то (при наличии соответствующих прав доступа) пользователь может получать текущие политики паролей и присваивать политику паролей какому-либо пользователю. Добавлять, удалять и изменять существующие политики паролей он не сможет.

Манипулировать политиками паролей (добавлять, удалять и изменять) может только администратор, в сеансе которого нет используемых разделителей. Естественно, что в таком сеансе имеется возможность присваивать политику паролей какому-либо пользователю (при наличии прав доступа).

7.8. Особенности работы клиентского приложения под управлением macOS

ограничениями:

•

Не поддерживается технология COM и весь перечень возможностей, связанных с этой технологией:

•

Не поддерживается работа с объектом COMОбъект;

•

Запуск клиента «1С:Предприятия» в режиме Automation-сервера;

•

Внешние компоненты, созданные с использованием COM-технологии.

•

Не поддерживается консоль администрирования кластера серверов «1С:Предприятия». Администрирование возможно с помощью сервера администрирования (ras) и утилиты администрирования (rac).

•

Не поддерживается работа с объектом Почта. Вместо этого объекта можно использовать почтовое приложение по умолчанию, использую функцию ЗапуститьПриложение(), передавая ей в качестве параметра URL, сформированный в соответствии с описанием схемы mailto: (RFC 2368, https://datatracker.ietf.org/doc/html/rfc2368).

•

Не поддерживается использование метафайлов Windows (WMF, EMF).

Версия «1С:Предприятия» для macOS обладает следующими особенностями и ограничениями:

•

Отсутствует 32-разрядная версия.

•

Не поддерживается работа с файловой информационной базой, если она расположена на сетевом ресурсе.

•

Не поддерживается работа кластера серверов «1С:Предприятия» на компьютере под управлением macOS.

•

Не поддерживается публикация на веб-сервере.

•

Не поддерживается технология COM и весь перечень возможностей, связанных с этой технологией:

•

Не поддерживается работа с объектом COMОбъект;

•

Запуск клиента «1С:Предприятия» в режиме Automation-сервера;

•

Внешние компоненты, созданные с использованием COM-технологии.

•

Не поддерживается работа с внешними источниками данных на стороне клиентского приложения и в конфигураторе.

•

Не поддерживается аутентификация пользователя средствами операционной системы.

•

Не поддерживается консоль администрирования кластера серверов «1С:Предприятия».

•

Не поддерживается работа с объектом Почта. Вместо этого объекта можно использовать почтовое приложение по умолчанию, использую функцию ЗапуститьПриложение(), передавая ей в качестве параметра URL, сформированный в соответствии с описанием схемы mailto: (RFC 2368, https://datatracker.ietf.org/doc/html/rfc2368).

•

Не поддерживается использование метафайлов Windows (WMF, EMF).

•

Не поддерживается работа с панелью меню macOS.

•

В сочетаниях клавиш, задействующих клавишу Control, вместо этой клавиши следует использовать клавишу Cmd.

(как мобильной платформы так и мобильного клиента) в полном объеме. Возможности и изменения, реализованные в платформе для персонального компьютера, автоматически не переносятся в мобильную версию «1С:Предприятия». Новые возможности мобильной версии отражаются соответствующими записями в файле V8Update.htm, в разделе Мобильная версия "1С:Предприятие".

При разработке мобильного приложения поддерживаются следующие объекты конфигурации и механизмы системы:

•

Подсистемы;

•

Константы;

•

Справочники;

•

Документы;

•

Журналы документов;

•

Регистры накопления (кроме разделения итогов и режима агрегатов);

•

Регистры сведений;

•

Обработки;

•

Перечисления;

•

Права доступа (с ограничениями), роли;

•

Пользователи информационной базы (с ограничениями);

•

Функциональные опции;

•

Параметры сеанса;

•

Планы обмена (за исключением планов обмена с установленным признаком Распределенная информационная база);

•

Управляемые блокировки;

•

Подписки на события;

•

Запросы;

•

Динамический список (с ограничениями);

•

Использование Web-сервисов (без возможности создания Web-сервиса в мобильном прикладном решении);

•

Общие картинки;

•

Общие команды и группы команд;

•

Общие макеты;

•

Общие модули;

•

Общие формы;

•

Система компоновки данных (включая диалоги настройки);

•

Условное оформление;

•

Механизм XDTO (без возможности создания пакетов XDTO);

•

Полнотекстовый поиск;

•

Языки;

•

Механизмы отладки прикладных решений.

Не поддерживаются механизмы и объекты конфигурации:

•

Переключение интерфейсов (и режим совместимости интерфейсов)

•

Механизмы бухгалтерского учета;

•

Механизмы периодических расчетов;

•

Механизмы бизнес-процессов и задач;

•

Механизм общих реквизитов;

•

Ограничения доступа к данным;

•

Хранилища настроек;

•

Работа с внешними источниками данных;

•

Механизм автоматизированного тестирования;

•

Механизм перетаскивания;

•

Стандартные функции;

•

Некоторые элементы управляемых форм;

•

Расширенное редактирование в элементах формы;

•

Пользовательская настройка форм;

•

Сохранение и восстановление данных форм в настройках;

•

Информационная панель, история работы пользователя и оповещения (метод ПоказатьОповещениеПользователя());

•

Отображение состояния длительных процессов (метод Состояние());

•

Справочная система в мобильной платформе;

•

Механизм регламентных заданий.

При поставке конфигурации для мобильного приложения без исходных текстов (см. здесь), следует иметь ввиду следующую особенность системы: модуль, поставляемый без исходного текста, компилируется в предположении, что он будет исполняться исключительно на персональном компьютере. Если в таком модуле (поставляющемся без исходных текстов) используются методы, у которых разное количество параметров для мобильной платформы и платформы для персонального компьютера, то при проверке такого модуля при выгрузке в мобильное приложение будет генерироваться ошибка.

Некоторые объекты конфигурации и механизмы работают с особенностями:

•

В ОС iOS не поддерживается работа оператора Выполнить() и функции Вычислить();

•

ОС iOS, до версии 5.x (включительно), поддерживает ввод паролей только с помощью букв латинского алфавита и цифр. В версии ОС iOS 6 допускается использовать в паролях символы национальных алфавитов. Для обеспечения совместимости между различными версиями ОС рекомендуется задавать пароли пользователей с использованием цифр и букв только латинского алфавита.

•

При работе динамического списка не поддерживается интерактивное управление настройками динамического списка. Управление настройками доступно только из встроенного языка.

•

На мобильных устройствах под управлением ОС Android, анимация в мобильном приложении может быть отключена, если платформа оценивает данное устройство как недостаточно

7.10. Механизм защиты от опасных действий

7.10.1. Общая информация

устройств) не поддерживаются:

•

Сканирование штрихкодов с помощью камеры устройства (не поддерживается только при работе под управлением ОС Windows для персональных компьютеров);

•

Работа с календарями;

•

Работа с контактами;

•

Доступ к журналу звонков;

•

Печать из приложения;

•

Получение и неинтерактивная отправка SMS-сообщений;

•

Неинтерактивный набор номера;

•

Работа с сертификатами клиентского приложения.

Также необходимо помнить, что для поддерживаемых объектов реализованы не все возможности, доступные в прикладных решениях для персональных компьютеров. В связи с этим следует обращать внимание на раздел Доступность синтакс-помощника для определения доступности того или иного метода или свойства в мобильной платформе.

Кроме программного кода, который расположен в конфигурации, в прикладном решении может исполняться сторонний программный код. Сторонний программный код может попасть в систему с помощью внешних отчетов и обработок и расширений. В общем случае, администратор прикладного решения не может гарантировать, что сторонний код не выполняет каких-либо деструктивных действий (как сам такой код, так и опосредовано, через запуск внешних приложений, внешних компонент, COM-объектов).

Для помощи администратору прикладного решения предусмотрен специальный механизм защиты от опасных действий. При выполнении потенциально опасного действия система выдает предупреждение, содержащее информацию о выполняемом действии и потенциальной опасности этого действия. К потенциально опасным действиям относятся:

•

Загрузка внешней обработки (отчета) или расширения конфигурации.

•

Загрузка или обновление конфигурации/расширения.

•

Доступ из внешней обработки (отчета) или расширения к следующим возможностям:

•

Загрузка другой внешней обработки (отчет).

•

Исполнение команды операционной системы.

•

Управление пользователями.

•

Загрузка внешней компоненты.

Пользователь имеет возможность разрешить или отклонить потенциально опасное действие. Если действие разрешено, в ряде случаев может потребоваться повторно выполнить разрешенное действие.

В общем случае работа с включенным механизмом защиты от опасных действий выглядит следующим образом (на примере расширения):

•

При попытке добавления расширения в информационную базу, система запросит разрешение пользователя. Если пользователь разрешает это действие, то расширение добавляется в информационную базу. Если пользователь запрещает действие ‑ расширение не добавляется.

•

Если для расширения включена защита от опасных действий, то при выполнении

7.10.2. Отключение механизма защиты от опасных действий

•

В том случае, когда пользователь разрешает то или иное потенциально опасное действие, система запоминает это разрешение в разрезе пользователя, собственно внешнего отчета, обработки или расширения и разрешенного действия. При дальнейшем использовании запрос не повторяется, если текущий пользователь для данного объекта (внешняя обработка (отчет) или расширение) уже разрешал какое-либо действие. Разрешение сохраняется в информационной базе.

Если пользователь запрещает какое-либо действие, то данный запрет не запоминается, а при следующем выполнении запрос на разрешение будет задан повторно.

В том случае, если потенциально опасное действие выполняется в том месте системы, где недоступно интерактивное взаимодействие (например, в фоновом задании), и выполняемое действие ранее не было разрешено интерактивно, то оно будет заблокировано, о чем будет выполнена запись в журнал регистрации.

Система идентифицирует объект (внешняя обработку (отчет) или расширение) по хешу этого объекта. Из этого следует, что для измененного объекта система опять будет запрашивать разрешение на потенциально опасные действия.

Механизм защиты от опасных действий проявляется:

•

Во время интерактивной загрузки внешней обработки (отчет) ‑ подробнее см. здесь.

•

При интерактивном подключении расширения ‑ подробнее.

•

Во время обновления конфигурации с помощью файла обновления конфигурации ‑ подробнее см. здесь.

•

При вызове методов Создать() и Подключить() менеджера внешних обработок (отчетов) ‑ подробнее см. здесь.

•

При попытке выполнить команду операционной системы: ЗапускПриложения(), НачатьЗапускПриложения(), КомандаСистемы().

•

При попытке записи или удаления информации о пользователе информационной базы: Записать() или Удалить() объекта ПользовательИнформационнойБазы.

•

При попытке загрузить внешнюю компоненту: ПодключитьВнешнююКомпоненту(), НачатьПодключениеВнешнейКомпоненты().

•

При работе с COM-объектами: ПолучитьCOMОбъект(), конструктор объекта COMОбъект().

В ряде случае необходимо отключить механизм защиты от опасных действий. Для этого можно воспользоваться следующими возможностями:

1. Выключить флажок Защита от опасных действий (ЗащитаОтОпасныхДействий) в свойствах конкретного пользователя. Это отключит защиту для этого пользователя. Подробнее см. здесь.

2. Воспользоваться параметром ЗащитаОтОпасныхДействий методов Создать() и Подключить() менеджеров внешних обработок (отчетов). В этом случае имеется возможность загрузить внешнюю обработку (отчет) без запросов пользователя.

3. Воспользоваться параметром DisableUnsafeActionProtection файла conf.cfg (более подробно см. здесь). В этом случае механизм защиты от опасных действий будет отключаться для всех пользователей информационных баз, строки соединения которых удовлетворяют указанным шаблонам.

Отключение защиты от опасных действий выполняется по следующим правилам (в указанном порядке):

1. Защита считается отключенной, если у текущего пользователя сброшен флажок Защита от опасных действий.

удовлетворяет одному из шаблонов, указанных в параметре DisableUnsafeActionProtection файла conf.cfg.

3. Если внешняя обработка (отчет) подключается с явным образом отключенной защитой с помощью параметра ЗащитаОтОпасныхДействий.

4. Если защита явным образом отключена с помощью свойства расширения ЗащитаОтОпасныхДействий.